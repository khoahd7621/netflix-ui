/*! For license information please see main.73783122.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),wn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?wi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=w.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=Ii(null),Wi=null,Hi=null,Qi=null;function $i(){Qi=Hi=Wi=null}function Ji(e){var t=Gi.current;Si(Gi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Wi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Wi)throw Error(a(308));Hi=e,Wi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rs|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ys(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Di(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,wa=0,ba=[],xa=0,_a=null,Ia=1,Sa="";function Ea(e,t){ya[ga++]=wa,ya[ga++]=ka,ka=e,wa=t}function Ta(e,t,n){ba[xa++]=Ia,ba[xa++]=Sa,ba[xa++]=_a,_a=e;var r=Ia;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else Ia=1<<a|n<<i|r,Sa=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Aa(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,wa=ya[--ga],ya[ga]=null;for(;e===_a;)_a=ba[--xa],ba[xa]=null,Sa=ba[--xa],ba[xa]=null,Ia=ba[--xa],ba[xa]=null}var Na=null,Pa=null,Da=!1,Ra=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ia,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Pa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Da){var t=Pa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Da=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Da=!1,Na=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Ua(e){if(e!==Na)return!1;if(!Da)return ja(e),Da=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(Ma(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Na?ci(e.stateNode.nextSibling):null;return!0}function Va(){Pa=Na=null,Da=!1}function Ba(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ga(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ka(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Da&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Da&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Da&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Da&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Da&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Da&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Wa=Ga(!0),Ha=Ga(!1),Qa={},$a=Ii(Qa),Ja=Ii(Qa),Ya=Ii(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ei(Ya,t),Ei(Ja,e),Ei($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function eo(){Si($a),Si(Ja),Si(Ya)}function to(e){Xa(Ya.current);var t=Xa($a.current),n=se(t,e.type);t!==n&&(Ei(Ja,e),Ei($a,n))}function no(e){Ja.current===e&&(Si($a),Si(Ja))}var ro=Ii(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function bo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Io(e,t){return"function"===typeof t?t(e):t}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Rs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Rs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Zs(e,1,-1)}function Po(e,t,n){return n((function(){Do(t)&&Zs(e,1,-1)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ro(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function jo(e,t){return Mo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function Ko(){}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Rs|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function $o(){return _o().memoizedState}function Jo(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Ys()))&&tu(e,t,r))}function Yo(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Ys()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Ro,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Da){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Da){var n=Sa;t=":"+t+"R"+(n=(Ia&~(1<<32-ot(Ia)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Go,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Wo,useReducer:So,useRef:Lo,useState:function(){return So(Io)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[So(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Go,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Wo,useReducer:Eo,useRef:Lo,useState:function(){return Eo(Io)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Di(t.type)&&Ri(),gu(t),null;case 3:return r=t.stateNode,eo(),Si(Ai),Si(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(ac(Ra),Ra=null))),gu(t),null;case 5:no(t);var i=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa($a.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa($a.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Si(ro),r=t.memoizedState,Da&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Ra&&(ac(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ps&&(Ps=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return Ji(t.type._context),gu(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Us&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Da)return gu(t),null}else 2*Ye()-o.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var wu=w.ReactCurrentOwner,bu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Wa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=wo(e,t,n,r,a,i),n=bo(),null===e||bu?(Da&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ns,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ns,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ns,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ns,As),As|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Pi(t,a),Xi(t,i),n=wo(e,t,n,r,a,i),r=bo(),null===e||bu?(Da&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Au(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Pi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Pi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,wu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Wa(t,e.child,null,a),t.child=Wa(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Za(e,t.containerInfo)}function Du(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Ru,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Oc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Wa(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Ru,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),bu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Na=t,Da=!0,Ra=null,null!==n&&(ba[xa++]=Ia,ba[xa++]=Sa,ba[xa++]=_a,Ia=n.id,Sa=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){var i=e.child;return e=i.sibling,n=Dc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Uu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Dc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Dc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&Ba(r),Wa(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){switch(Aa(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ai),Si(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Wu=!1,Hu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Yu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Xu=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Yu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Ju(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Yu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(js=Ye()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Ju(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Ju(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){$u=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Wu;var c=Hu;if(Wu=o,(Hu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,$u=s):ks(i);for(;null!==a;)$u=a,ms(a,t,n),a=a.sibling;$u=i,Wu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ys(e)}}function ys(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function ks(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var ws,bs=Math.ceil,xs=w.ReactCurrentDispatcher,_s=w.ReactCurrentOwner,Is=w.ReactCurrentBatchConfig,Ss=0,Es=null,Ts=null,Cs=0,As=0,Ns=Ii(0),Ps=0,Ds=null,Rs=0,Os=0,Ls=0,Ms=null,Fs=null,js=0,Us=1/0,Vs=null,Bs=!1,zs=null,qs=null,Ks=!1,Gs=null,Ws=0,Hs=0,Qs=null,$s=-1,Js=0;function Ys(){return 0!==(6&Ss)?Ye():-1!==$s?$s:$s=Ye()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&Ss)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function Zs(e,t,n){if(50<Hs)throw Hs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Ss)&&r===Es||(r===Es&&(0===(2&Ss)&&(Os|=t),4===Ps&&oc(r,Cs)),nc(r,n),1===t&&0===Ss&&0===(1&e.mode)&&(Us=Ye()+500,Ui&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Ss)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Ss&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Js=0,0!==(6&Ss))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ss;Ss|=2;var o=dc();for(Es===e&&Cs===t||(Vs=null,Us=Ye()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}$i(),xs.current=o,Ss=i,null!==Ts?t=0:(Es=null,Cs=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fs,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=js+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Fs,Vs),t);break}wc(e,Fs,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bs(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Fs,Vs),r);break}wc(e,Fs,Vs);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Ss))throw Error(a(327));bc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ds,fc(e,0),oc(e,t),nc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fs,Vs),nc(e,Ye()),null}function sc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Us=Ye()+500,Ui&&zi())}}function cc(e){null!==Gs&&0===Gs.tag&&0===(6&Ss)&&bc();var t=Ss;Ss|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ss=t))&&zi()}}function lc(){As=Ns.current,Si(Ns)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),Si(Ai),Si(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:Ji(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Dc(e.current,null),Cs=As=t,Ps=0,Ds=null,Ls=Os=Rs=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Ps=1,Ds=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Da&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),Ba(c);break e}}o=c,4!==Ps&&(Ps=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(w){t=w,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Es||0===(268435455&Rs)&&0===(268435455&Os)||oc(Es,Cs)}function vc(e,t){var n=Ss;Ss|=2;var r=dc();for(Es===e&&Cs===t||(Vs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Ss=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Ps}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=ws(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,As)))return void(Ts=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ps=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{bc()}while(null!==Gs);if(0!==(6&Ss))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return bc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ss;Ss|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var b=w.body;null!=b&&(b.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=Xu,Xu=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Je(),Ss=s,kt=u,Is.transition=o}else e.current=n;if(Ks&&(Ks=!1,Gs=e,Ws=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Ws)&&0!==e.tag&&bc(),0!==(1&(o=e.pendingLanes))?e===Qs?Hs++:(Hs=0,Qs=e):Hs=0,zi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function bc(){if(null!==Gs){var e=wt(Ws),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Ws=0,0!==(6&Ss))throw Error(a(331));var i=Ss;for(Ss|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var w=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,$u=w;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){$u=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,$u=b;break e}$u=s.return}}if(Ss=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Ys(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Ys(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Ps||3===Ps&&(130023424&Cs)===Cs&&500>Ye()-js?fc(e,0):Ls|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ys();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Ys(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Ys(),o=Xs(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}ws=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),Va();break;case 5:to(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Gi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,Da&&0!==(1048576&t.flags)&&Ta(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ci.current);Xi(t,n),i=wo(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,Da&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Au(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Du(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Na=t,Da=!0,Ra=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wa(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Gi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Yi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Yi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Iu(e,t,r,i=Ki(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),pa(t,r,i),ma(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Ye()),0===(6&Ss)&&(Us=Ye()+500,zi()))}break;case 13:var r=Ys();cc((function(){return Zs(e,1,r)})),Wc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Ys()),Wc(e,134217728))},_t=function(e){if(13===e.tag){var t=Ys(),n=Xs(e);Zs(e,n,t),Wc(e,n)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,wi,bi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){y(N,0)};function R(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/netflix-ui/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return iu},SDK_VERSION:function(){return ps},_DEFAULT_ENTRY_NAME:function(){return ts},_addComponent:function(){return as},_addOrOverwriteComponent:function(){return os},_apps:function(){return rs},_clearComponents:function(){return ls},_components:function(){return is},_getProvider:function(){return ss},_registerComponent:function(){return us},_removeServiceInstance:function(){return cs},deleteApp:function(){return gs},getApp:function(){return ms},getApps:function(){return ys},initializeApp:function(){return vs},onLog:function(){return bs},registerVersion:function(){return ws},setLogLevel:function(){return xs}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var w=(0,r.createContext)(null);var b=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,E=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:R(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:O(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},O=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){F()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function F(){return null!=(0,r.useContext)(w)}function j(){return F()||x(!1),(0,r.useContext)(w).location}function U(){F()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(b).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}var V=(0,r.createContext)(null);function B(e){var t=(0,r.useContext)(b).matches,n=j().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function q(e){var t=e.to,n=e.replace,i=e.state;F()||x(!1);var a=U();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function K(e){return function(e){var t=(0,r.useContext)(b).outlet;return t?(0,r.createElement)(V.Provider,{value:e},t):t}(e.context)}function G(e){x(!1)}function W(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&x(!1);var d=R(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,b=v.search,_=void 0===b?"":b,I=v.hash,S=void 0===I?"":I,E=v.state,T=void 0===E?null:E,C=v.key,A=void 0===C?"default":C,N=(0,r.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:_,hash:S,state:T,key:A}}),[d,y,_,S,T,A]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(w.Provider,{children:o,value:{location:N,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){F()||x(!1);var n,i=(0,r.useContext)(b).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(Q(t),n)}function Q(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==G&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Q(e.props.children)),t.push(n)}else t.push.apply(t,Q(e.props.children))})),t}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function J(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function X(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else E(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],w=v(),b=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function S(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=a();c=t[0],k=t[1],w.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(S(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}E(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(S(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),E(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(h,p),function(){t(),b.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],w=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(w)}),[u]),(0,r.createElement)(W,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var Z=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=J(e,Y),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=U(),s=j(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",$({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var ee="/",te="/browse",ne="/signup",re="/signin";function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var se=n(441),ce=n(613),le=n.n(ce);var fe=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,I=0,S=0,E=0,D=0,O=v=d=0,M=0,F=0,j=0,U=0,V=s.length,B=V-1,z="",q="",K="",G="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,B++),0===_+S+I+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<B;++O)switch(s.charCodeAt(O)){case 47:if(42===p&&42===s.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,h+1)).length,0<R&&(w=u(3,v,F=n(P,z,j),r,C,T,U,p,h,c),z=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(b,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);K+=v,v=j=F=O=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===O&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<R&&void 0!==(w=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=F=O=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===S+_+x+A&&0<O)switch(M-O){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===D&&(A=D)}break;case 58:0===S+_+x&&(O=M);break;case 44:0===_+I+S+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*D===533);else d=1;I++}break;case 64:0===_+I+S+x+O+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(z+=m)}D=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<R&&(void 0!==(w=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=w).length))return G+q+K;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return G+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?N=1:(N=2,O=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,P=[],D=[],R=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=D.length=0;break;default:if("function"===typeof t)D[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},he={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var de=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},pe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ve=de((function(e){return pe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),me=n(110),ye=n.n(me);function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},we=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,se.typeOf)(e)},be=Object.freeze([]),xe=Object.freeze({});function _e(e){return"function"==typeof e}function Ie(e){return e.displayName||e.name||"Component"}function Se(e){return e&&"string"==typeof e.styledComponentId}var Ee="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.SC_ATTR)||"data-styled",Te="undefined"!=typeof window&&"HTMLElement"in window,Ce=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"}.SC_DISABLE_SPEEDY)),Ae={};function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Pe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Ne(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),De=new Map,Re=new Map,Oe=1,Le=function(e){if(De.has(e))return De.get(e);for(;Re.has(Oe);)Oe++;var t=Oe++;return De.set(e,t),Re.set(t,e),t},Me=function(e){return Re.get(e)},Fe=function(e,t){t>=Oe&&(Oe=t+1),De.set(e,t),Re.set(t,e)},je="style["+Ee+'][data-styled-version="5.3.5"]',Ue=new RegExp("^"+Ee+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ve=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Be=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Ue);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Fe(c,s),Ve(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},ze=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},qe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ee))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ee,"active"),r.setAttribute("data-styled-version","5.3.5");var o=ze();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Ke=function(){function e(e){var t=this.element=qe(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Ne(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ge=function(){function e(e){var t=this.element=qe(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),We=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),He=Te,Qe={isServer:!Te,useCSSOMInjection:!Ce},$e=function(){function e(e,t,n){void 0===e&&(e=xe),void 0===t&&(t={}),this.options=ge({},Qe,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Te&&He&&(He=!1,function(e){for(var t=document.querySelectorAll(je),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ee)&&(Be(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Le(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ge({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new We(i):r?new Ke(i):new Ge(i),new Pe(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Le(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Le(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Le(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Me(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Ee+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Je=/(a)(d)/gi,Ye=function(e){return String.fromCharCode(e+(e>25?39:97))};function Xe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ye(t%52)+n;return(Ye(t%52)+n).replace(Je,"$1-$2")}var Ze=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},et=function(e){return Ze(5381,e)};function tt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(_e(n)&&!Se(n))return!1}return!0}var nt=et("5.3.5"),rt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&tt(e),this.componentId=t,this.baseHash=Ze(nt,t),this.baseStyle=n,$e.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=bt(this.rules,e,t,n).join(""),o=Xe(Ze(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Ze(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=bt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Ze(c,p+f),l+=p}}if(l){var v=Xe(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),it=/^\s*\/\/.*$/gm,at=[":","[",".","#"];function ot(e){var t,n,r,i,a=void 0===e?xe:e,o=a.options,u=void 0===o?xe:o,s=a.plugins,c=void 0===s?be:s,l=new fe(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==at.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(it,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Ne(15),Ze(e,t.name)}),5381).toString():"",p}var ut=r.createContext(),st=(ut.Consumer,r.createContext()),ct=(st.Consumer,new $e),lt=ot();function ft(){return(0,r.useContext)(ut)||ct}function ht(){return(0,r.useContext)(st)||lt}function dt(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=ft(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return ot({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){le()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(ut.Provider,{value:o},r.createElement(st.Provider,{value:u},e.children))}var pt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=lt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Ne(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=lt),this.name+e.hash},e}(),vt=/([A-Z])/,mt=/([A-Z])/g,yt=/^ms-/,gt=function(e){return"-"+e.toLowerCase()};function kt(e){return vt.test(e)?e.replace(mt,gt).replace(yt,"-ms-"):e}var wt=function(e){return null==e||!1===e||""===e};function bt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=bt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return wt(e)?"":Se(e)?"."+e.styledComponentId:_e(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:bt(e(t),t,n,r):e instanceof pt?n?(e.inject(n,r),e.getName(r)):e:we(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!wt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||_e(t[o])?a.push(kt(o)+":",t[o],";"):we(t[o])?a.push.apply(a,e(t[o],o)):a.push(kt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in he?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var xt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _e(e)||we(e)?xt(bt(ke(be,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:xt(bt(ke(e,n)))}new Set;var It=function(e,t,n){return void 0===n&&(n=xe),e.theme!==n.theme&&e.theme||t||n.theme},St=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Et=/(^-|-$)/g;function Tt(e){return e.replace(St,"-").replace(Et,"")}var Ct=function(e){return Xe(et(e)>>>0)};function At(e){return"string"==typeof e&&!0}var Nt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Pt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Dt(e,t,n){var r=e[n];Nt(t)&&Nt(r)?Rt(r,t):e[n]=t}function Rt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Nt(o))for(var u in o)Pt(u)&&Dt(e,o[u],u)}return e}var Ot=r.createContext();Ot.Consumer;var Lt={};function Mt(e,t,n){var i=Se(e),a=!At(e),o=t.attrs,u=void 0===o?be:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Tt(e);Lt[n]=(Lt[n]||0)+1;var r=n+"-"+Ct("5.3.5"+n+Lt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return At(e)?"styled."+e:"Styled("+Ie(e)+")"}(e):l,h=t.displayName&&t.componentId?Tt(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new rt(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=xe);var r=ge({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in _e(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(It(t,(0,r.useContext)(Ot),u)||xe,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=ft(),a=ht();return t?e.generateAndInjectStyles(xe,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=At(y),k=p!==t?ge({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,ve,y):!g||ve(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=ge({},t.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,r.createElement)(y,w)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):be,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(At(e)?e:Tt(Ie(e)));return Mt(e,ge({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Rt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ye()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Ft=function(e){return function e(t,n,r){if(void 0===r&&(r=xe),!(0,se.isValidElementType)(n))return Ne(1,String(n));var i=function(){return t(n,r,_t.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ge({},r,{},i))},i.attrs=function(i){return e(t,n,ge({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Mt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ft[e]=Ft(e)}));var jt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=tt(e),$e.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(bt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&$e.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=_t.apply(void 0,[e].concat(n)),o="sc-global-"+Ct(JSON.stringify(a)),u=new jt(a,o);function s(e){var t=ft(),n=ht(),i=(0,r.useContext)(Ot),a=(0,r.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,i,n),(0,r.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,i,n),function(){return u.removeStyles(a,t)}}),[a,e,t,i,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,Ae,n,i);else{var a=ge({},t,{theme:It(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return r.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ze();return"<style "+[n&&'nonce="'+n+'"',Ee+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Ne(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Ne(2);var n=((t={})[Ee]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=ze();return i&&(n.nonce=i),[r.createElement("style",ge({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new $e({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Ne(2):r.createElement(dt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Ne(3)}}();var Vt=Ft,Bt=Vt.div.withConfig({displayName:"JumbotronStyle__Item",componentId:"sc-szgmq1-0"})(["display:flex;border-bottom:8px solid #222;padding:50px 5%;color:white;overflow:hidden;"]),zt=Vt.div.withConfig({displayName:"JumbotronStyle__Inner",componentId:"sc-szgmq1-1"})(["display:flex;align-items:center;flex-direction:",";justify-content:space-between;max-width:1100px;margin:auto;width:100%;@media (max-width:1000px){flex-direction:column;}"],(function(e){return e.direction})),qt=Vt.div.withConfig({displayName:"JumbotronStyle__Pane",componentId:"sc-szgmq1-2"})(["width:50%;@media (max-width:1000px){width:100%;padding 0 45px;text-align:center;}"]),Kt=Vt.h1.withConfig({displayName:"JumbotronStyle__Title",componentId:"sc-szgmq1-3"})(["font-size:50px;line-height:1.1;margin-bottom:8px;@media (max-width:600px){font-size:35px;}"]),Gt=Vt.h2.withConfig({displayName:"JumbotronStyle__SubTitle",componentId:"sc-szgmq1-4"})(["font-size:26px;font-weight:normal;line-height:normal;@media (max-width:600px){font-size:18px;}"]),Wt=Vt.img.withConfig({displayName:"JumbotronStyle__Image",componentId:"sc-szgmq1-5"})(["max-width:100%;height:auto;"]),Ht=Vt.div.withConfig({displayName:"JumbotronStyle__Container",componentId:"sc-szgmq1-6"})(["@media (max-width:1000px){",":last-of-type h2{margin-bottom:50px;}}"],Bt),Qt=n(184),$t=["children","direction"],Jt=["children"],Yt=["children"],Xt=["children"],Zt=["children"],en=function(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=ue(e,$t);return(0,Qt.jsx)(Bt,oe(oe({},i),{},{children:(0,Qt.jsx)(zt,{direction:r,children:t})}))};en.Container=function(e){var t=e.children,n=ue(e,Jt);return(0,Qt.jsx)(Ht,oe(oe({},n),{},{children:t}))},en.Pane=function(e){var t=e.children,n=ue(e,Yt);return(0,Qt.jsx)(qt,oe(oe({},n),{},{children:t}))},en.Title=function(e){var t=e.children,n=ue(e,Xt);return(0,Qt.jsx)(Kt,oe(oe({},n),{},{children:t}))},en.SubTitle=function(e){var t=e.children,n=ue(e,Zt);return(0,Qt.jsx)(Gt,oe(oe({},n),{},{children:t}))},en.Image=function(e){var t=Object.assign({},e);return(0,Qt.jsx)(Wt,oe({},t))};var tn=en,nn=Vt.div.withConfig({displayName:"FooterStyle__Container",componentId:"sc-1a2wsyb-0"})(["display:flex;padding:70px 30px;margin:auto;max-width:1000px;flex-direction:column;@media (max-width:1000px){padding:70px 40px;}"]),rn=Vt.div.withConfig({displayName:"FooterStyle__Column",componentId:"sc-1a2wsyb-1"})(["display:flex;flex-direction:column;text-align:left;"]),an=Vt.div.withConfig({displayName:"FooterStyle__Row",componentId:"sc-1a2wsyb-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));grid-gap:15px;@media (max-width:1000px){grid-template-columns:repeat(auto-fill,minmax(170px,1fr));}"]),on=Vt.a.withConfig({displayName:"FooterStyle__Link",componentId:"sc-1a2wsyb-3"})(["color:#757575;margin-bottom:20px;font-size:14px;text-decoration:none;&:hover{text-decoration:underline;}"]),un=Vt.p.withConfig({displayName:"FooterStyle__Title",componentId:"sc-1a2wsyb-4"})(["font-size:16px;color:#757575;margin-bottom:40px;"]),sn=Vt.p.withConfig({displayName:"FooterStyle__Text",componentId:"sc-1a2wsyb-5"})(["font-size:13px;color:#757575;margin-bottom:40px;"]),cn=Vt.p.withConfig({displayName:"FooterStyle__Break",componentId:"sc-1a2wsyb-6"})(["flex-basis:100%;height:0;"]),ln=["children"],fn=["children"],hn=["children"],dn=["children"],pn=["children"],vn=["children"],mn=["children"];function yn(e){var t=e.children,n=ue(e,ln);return(0,Qt.jsx)(nn,oe(oe({},n),{},{children:t}))}yn.Row=function(e){var t=e.children,n=ue(e,fn);return(0,Qt.jsx)(an,oe(oe({},n),{},{children:t}))},yn.Column=function(e){var t=e.children,n=ue(e,hn);return(0,Qt.jsx)(rn,oe(oe({},n),{},{children:t}))},yn.Link=function(e){var t=e.children,n=ue(e,dn);return(0,Qt.jsx)(on,oe(oe({},n),{},{children:t}))},yn.Title=function(e){var t=e.children,n=ue(e,pn);return(0,Qt.jsx)(un,oe(oe({},n),{},{children:t}))},yn.Text=function(e){var t=e.children,n=ue(e,vn);return(0,Qt.jsx)(sn,oe(oe({},n),{},{children:t}))},yn.Break=function(e){var t=e.children,n=ue(e,mn);return(0,Qt.jsx)(cn,oe(oe({},n),{},{children:t}))};var gn=Vt.div.withConfig({displayName:"AccordionStyle__Container",componentId:"sc-f9fq0e-0"})(["display:flex;border-bottom:8px solid #222;"]),kn=Vt.div.withConfig({displayName:"AccordionStyle__Inner",componentId:"sc-f9fq0e-1"})(["display:flex;padding:70px 45px;flex-direction:column;max-width:815px;margin:auto;"]),wn=Vt.div.withConfig({displayName:"AccordionStyle__Item",componentId:"sc-f9fq0e-2"})(["color:white;margin-bottom:10px;margin:auto;max-width:700px;width:100%;&:first-of-type{margin-top:3em;}"]),bn=Vt.div.withConfig({displayName:"AccordionStyle__Header",componentId:"sc-f9fq0e-3"})(["display:flex;justify-content:space-between;align-items:center;cursor:pointer;margin-bottom:1px;font-size:26px;font-weight:normal;background:#303030;padding:0.8em 1.2em 0.8em 1.2em;user-select:none;img{filter:brightness(0) invert(1);width:24px;@media (max-width:600px){width:16px;}}@media (max-width:600px){font-size:16px;}"]),xn=Vt.div.withConfig({displayName:"AccordionStyle__Body",componentId:"sc-f9fq0e-4"})(["max-height:1200px;font-size:26px;font-weight:normal;line-height:normal;background:#303030;padding:0.8em 2.2em 0.8em 1.2em;white-space:pre-wrap;user-selet:none;margin-top:5px;@media (max-width:600px){font-size:16px;line-height:22px;}"]),_n=Vt.h1.withConfig({displayName:"AccordionStyle__Title",componentId:"sc-f9fq0e-5"})(["font-size:50px;line-height:1.1;margin-top:0;margin-bottom:8px;color:white;text-align:center;@media (max-width:600px){font-size:35px;}"]),In=["children"],Sn=["children"],En=["children"],Tn=["children"],Cn=["children"],An=(0,r.createContext)(),Nn=function(e){var t=e.children,n=ue(e,In);return(0,Qt.jsx)(gn,oe(oe({},n),{},{children:(0,Qt.jsx)(kn,{children:t})}))};Nn.Title=function(e){var t=e.children,n=ue(e,Sn);return(0,Qt.jsx)(_n,oe(oe({},n),{},{children:t}))},Nn.Item=function(e){var t=e.children,n=ue(e,En),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Qt.jsx)(An.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,Qt.jsx)(wn,oe(oe({},n),{},{children:t}))})},Nn.Header=function(e){var t=e.children,n=ue(e,Tn),i=(0,r.useContext)(An),a=i.toggleShow,o=i.setToggleShow;return(0,Qt.jsxs)(bn,oe(oe({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,Qt.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,Qt.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},Nn.Body=function(e){var t=e.children,n=ue(e,Cn);return(0,r.useContext)(An).toggleShow?(0,Qt.jsx)(xn,oe(oe({},n),{},{children:t})):null};var Pn=Nn,Dn=Vt.div.withConfig({displayName:"OptFormStyle__Container",componentId:"sc-114ug5b-0"})(["display:flex;justify-content:center;height:100%;margin-top:20px;flex-wrap:wrap;@media (max-width:1000px){flex-direction:column;align-items:center;}"]),Rn=Vt.input.withConfig({displayName:"OptFormStyle__Input",componentId:"sc-114ug5b-1"})(["max-width:450px;width:100%;border:0;padding:10px;height:70px;box-sizing:border-box;"]),On=Vt.button.withConfig({displayName:"OptFormStyle__Button",componentId:"sc-114ug5b-2"})(["display:flex;align-items:center;height:70px;background:#e50914;color:white;text-transform:uppercase;padding:0 32px;font-size:26px;border:0;cursor:pointer;&:hover{background:#f40612;}@media (max-width:1000px){height:50px;font-size:16px;margin-top:20px;font-weight:bold;}img{margin-left:10px;filter:brightness(0) invert(1);width:24px;@media (max-width:1000px){width:16px;}}"]),Ln=Vt.p.withConfig({displayName:"OptFormStyle__Text",componentId:"sc-114ug5b-3"})(["font-size:19.2px;color:white;text-align:center;@media (max-width:600px){font-size:16px;line-height:22px;}"]),Mn=Vt.div.withConfig({displayName:"OptFormStyle__Break",componentId:"sc-114ug5b-4"})(["flex-basis:100%;height:0;"]),Fn=["children"],jn=["children"],Un=["children"],Vn=function(e){var t=e.children,n=ue(e,Fn);return(0,Qt.jsx)(Dn,oe(oe({},n),{},{children:t}))};Vn.Input=function(e){var t=Object.assign({},e);return(0,Qt.jsx)(Rn,oe({},t))},Vn.Button=function(e){var t=e.children,n=ue(e,jn);return(0,Qt.jsxs)(On,oe(oe({},n),{},{children:[t,(0,Qt.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Vn.Text=function(e){var t=e.children,n=ue(e,Un);return(0,Qt.jsx)(Ln,oe(oe({},n),{},{children:t}))},Vn.Break=function(e){var t=Object.assign({},e);return(0,Qt.jsx)(Mn,oe({},t))};var Bn=Vn,zn=Vt.div.withConfig({displayName:"HeaderStyles__Background",componentId:"sc-vifoe6-0"})(["display:flex;flex-direction:column;background:url(",") top left / cover no-repeat;@media (max-width:1100px){","}"],(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background: none;"})),qn=(Vt.div.withConfig({displayName:"HeaderStyles__Frame",componentId:"sc-vifoe6-1"})([""]),Vt.div.withConfig({displayName:"HeaderStyles__Container",componentId:"sc-vifoe6-2"})(["display:flex;margin:0 56px;height:64px;padding:18px 0;justify-content:space-between;align-items:center;a{display:flex;}@media (max-width:1000px){margin:0 30px;}"])),Kn=Vt.img.withConfig({displayName:"HeaderStyles__Logo",componentId:"sc-vifoe6-3"})(["height:32px;width:108px;margin-right:40px;@media (min-width:1449px){height:45px;width:167px;}"]),Gn=Vt(Z).withConfig({displayName:"HeaderStyles__ButtonLink",componentId:"sc-vifoe6-4"})(["display:block;background-color:#e50914;width:84px;height:fit-content;color:white;border:0;font-size:15px;border-radius:3px;padding:8px 17px;cursor:pointer;text-decoration:none;box-sizing:border-box;&:hover{background-color:#f40612;}"]),Wn=Vt(qn).withConfig({displayName:"HeaderStyles__Feature",componentId:"sc-vifoe6-5"})(["padding:150px 0 500px 0;flex-direction:column;align-items:normal;width:50%;@media (max-width:1100px){display:none;}"]),Hn=Vt.p.withConfig({displayName:"HeaderStyles__Text",componentId:"sc-vifoe6-6"})(["color:white;font-size:22px;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;"]),Qn=Vt.h2.withConfig({displayName:"HeaderStyles__FeatureCallOut",componentId:"sc-vifoe6-7"})(["color:white;font-size:50px;font-weight:bold;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;margin-bottom:20px;"]),$n=Vt.p.withConfig({displayName:"HeaderStyles__Link",componentId:"sc-vifoe6-8"})(["color:white;text-decoration:none;margin-right:30px;font-weight:",";cursor:pointer;&:hover{font-weight:bold;}&:last-of-type{margin-right:0;}"],(function(e){return"true"===e.active?"700":"normal"})),Jn=Vt.div.withConfig({displayName:"HeaderStyles__Group",componentId:"sc-vifoe6-9"})(["display:flex;align-items:center;"]),Yn=Vt.button.withConfig({displayName:"HeaderStyles__Picture",componentId:"sc-vifoe6-10"})(["background:url(",");background-size:contain;border:0;width:32px;height:32px;cursor:pointer;"],(function(e){return e.src})),Xn=Vt.div.withConfig({displayName:"HeaderStyles__Dropdown",componentId:"sc-vifoe6-11"})(["display:none;background-color:black;position:absolute;padding:10px;width:100px;top:32px;right:10px;",":last-of-type ","{cursor:pointer;}","{margin-bottom:10px;&:last-of-type{margin-bottom:0;}",",","{cursor:default;}}button{margin-right:10px;}p{font-size:12px;margin-bottom:0;margin-top:0;}"],Jn,$n,Jn,$n,Yn),Zn=Vt.div.withConfig({displayName:"HeaderStyles__Profile",componentId:"sc-vifoe6-12"})(["display:flex;align-items:center;margin-left:20px;position:relative;button{cursor:pointer;}&:hover > ","{display:flex;flex-direction:column;}"],Xn),er=Vt.div.withConfig({displayName:"HeaderStyles__Search",componentId:"sc-vifoe6-13"})(["display:flex;align-items:center;svg{color:white;cursor:pointer;}@media (max-width:700px){display:none;}"]),tr=Vt.button.withConfig({displayName:"HeaderStyles__SearchIcon",componentId:"sc-vifoe6-14"})(["cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:16px;}"]),nr=Vt.input.withConfig({displayName:"HeaderStyles__SearchInput",componentId:"sc-vifoe6-15"})(["background-color:#44444459;color:white;border:1px solid white;transition:width 0.5s;heigth:30px;font-size:14px;margin-left:",";padding:",";opacity:",";width:",";"],(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0"})),rr=Vt.button.withConfig({displayName:"HeaderStyles__PlayButton",componentId:"sc-vifoe6-16"})(["font-size:20px;font-weight:bold;background-color:#e6e6e6;color:#000;border-width:0;border-radius:5px;max-width:130px;margin-top:20px;padding:10px 20px;cursor:pointer;box-shadow:0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);transition:background-color 0.3s ease;&:hover{background-color:#ff1e1e;color:white;}"]),ir=["background","children"],ar=["children"],or=["children"],ur=["children"],sr=["searchTerm","setSearchTerm"],cr=["children"],lr=["children"],fr=["src"],hr=["children"],dr=["children"],pr=["children"],vr=["children"],mr=["children"],yr=["to"],gr=function(e){var t=e.background,n=void 0===t||t,r=e.children,i=ue(e,ir);return n?(0,Qt.jsx)(zn,oe(oe({},i),{},{children:r})):r};gr.Feature=function(e){var t=e.children,n=ue(e,ar);return(0,Qt.jsx)(Wn,oe(oe({},n),{},{children:t}))},gr.FeatureCallOut=function(e){var t=e.children,n=ue(e,or);return(0,Qt.jsx)(Qn,oe(oe({},n),{},{children:t}))},gr.PlayButton=function(e){var t=e.children,n=ue(e,ur);return(0,Qt.jsx)(rr,oe(oe({},n),{},{children:t}))},gr.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,i=ue(e,sr),a=c((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,Qt.jsxs)(er,oe(oe({},i),{},{children:[(0,Qt.jsx)(tr,{onClick:function(){return u((function(e){return!e}))},children:(0,Qt.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,Qt.jsx)(nr,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},gr.Dropdown=function(e){var t=e.children,n=ue(e,cr);return(0,Qt.jsx)(Xn,oe(oe({},n),{},{children:t}))},gr.Profile=function(e){var t=e.children,n=ue(e,lr);return(0,Qt.jsx)(Zn,oe(oe({},n),{},{children:t}))},gr.Picture=function(e){var t=e.src,n=ue(e,fr);return(0,Qt.jsx)(Yn,oe(oe({},n),{},{src:"/images/users/".concat(t,".png")}))},gr.Text=function(e){var t=e.children,n=ue(e,hr);return(0,Qt.jsx)(Hn,oe(oe({},n),{},{children:t}))},gr.TextLink=function(e){var t=e.children,n=ue(e,dr);return(0,Qt.jsx)($n,oe(oe({},n),{},{children:t}))},gr.Frame=function(e){var t=e.children,n=ue(e,pr);return(0,Qt.jsx)(qn,oe(oe({},n),{},{children:t}))},gr.Group=function(e){var t=e.children,n=ue(e,vr);return(0,Qt.jsx)(Jn,oe(oe({},n),{},{children:t}))},gr.ButtonLink=function(e){var t=e.children,n=ue(e,mr);return(0,Qt.jsx)(Gn,oe(oe({},n),{},{children:t}))},gr.Logo=function(e){var t=e.to,n=ue(e,yr);return(0,Qt.jsx)(Z,{to:t,children:(0,Qt.jsx)(Kn,oe({},n))})};var kr=gr,wr=Vt.div.withConfig({displayName:"FeatureStyle__Container",componentId:"sc-c99bum-0"})(["display:flex;flex-direction:column;border-bottom:8px solid #222;text-align:center;padding:165px 45px;"]),br=Vt.h1.withConfig({displayName:"FeatureStyle__Title",componentId:"sc-c99bum-1"})(["color:white;max-width:640px;font-size:50px;font-weight:500;margin:auto;@media (max-width:600px){font-size:35px;}"]),xr=Vt.h2.withConfig({displayName:"FeatureStyle__SubTitle",componentId:"sc-c99bum-2"})(["color:white;font-size:26;font-weight:normal;margin:16px auto;@media (max-width:600px){font-size:18px;}"]),_r=["children"],Ir=["children"],Sr=["children"],Er=function(e){var t=e.children,n=ue(e,_r);return(0,Qt.jsx)(wr,oe(oe({},n),{},{children:t}))};Er.Title=function(e){var t=e.children,n=ue(e,Ir);return(0,Qt.jsx)(br,oe(oe({},n),{},{children:t}))},Er.SubTitle=function(e){var t=e.children,n=ue(e,Sr);return(0,Qt.jsx)(xr,oe(oe({},n),{},{children:t}))};var Tr=Er,Cr=Vt.div.withConfig({displayName:"FormStyle__Container",componentId:"sc-8nntm8-0"})(["display:flex;flex-direction:column;width:100%;max-width:450px;min-height:660px;background-color:rgba(0,0,0,0.75);border-radius:5px;box-sizing:border-box;margin:auto;margin-bottom:100px;padding:60px 68px 40px;"]),Ar=Vt.div.withConfig({displayName:"FormStyle__Error",componentId:"sc-8nntm8-1"})(["background:#e87c03;border-radius:4px;font-size:14px;margin:0 0 16px;color:white;padding:15px 20px;"]),Nr=Vt.form.withConfig({displayName:"FormStyle__Base",componentId:"sc-8nntm8-2"})(["display:flex;flex-direction:column;max-width:450px;width:100%;"]),Pr=Vt.h1.withConfig({displayName:"FormStyle__Title",componentId:"sc-8nntm8-3"})(["color:#fff;font-size:32px;font-weight:bold;margin-bottom:28px;"]),Dr=Vt.p.withConfig({displayName:"FormStyle__Text",componentId:"sc-8nntm8-4"})(["color:#737373;font-size:16px;font-weight:500;"]),Rr=Vt.p.withConfig({displayName:"FormStyle__TextSmall",componentId:"sc-8nntm8-5"})(["margin-top:10px;font-size:13px;line-height:normal;color:#8c8c8c;"]),Or=Vt(Z).withConfig({displayName:"FormStyle__Link",componentId:"sc-8nntm8-6"})(["color:white;text-decoration:none;&:hover{text-decoration:underline;}"]),Lr=Vt.input.withConfig({displayName:"FormStyle__Input",componentId:"sc-8nntm8-7"})(["background:#333;border-radius:4px;border:0;color:white;height:50px;line-height:50px;padding:5px 20px;margin-bottom:20px;&:last-of-type{margin-bottom:30px;}"]),Mr=Vt.button.withConfig({displayName:"FormStyle__Submit",componentId:"sc-8nntm8-8"})(["background:#e50914;border-radius:4px;font-size:16px;font-weight:bold;margin:24px 0 12px;padding:16px;border:0;color:white;cursor:pointer;&:hover{background:#b80e17;}&:disabled{opacity:0.5;cursor:default;&:hover{background:#e50914;}}"]),Fr=["children"],jr=["children"],Ur=["children"],Vr=["children"],Br=["children"],zr=["children"],qr=["children"],Kr=["children"],Gr=function(e){var t=e.children,n=ue(e,Fr);return(0,Qt.jsx)(Cr,oe(oe({},n),{},{children:t}))};Gr.Error=function(e){var t=e.children,n=ue(e,jr);return(0,Qt.jsx)(Ar,oe(oe({},n),{},{children:t}))},Gr.Base=function(e){var t=e.children,n=ue(e,Ur);return(0,Qt.jsx)(Nr,oe(oe({},n),{},{children:t}))},Gr.Title=function(e){var t=e.children,n=ue(e,Vr);return(0,Qt.jsx)(Pr,oe(oe({},n),{},{children:t}))},Gr.Text=function(e){var t=e.children,n=ue(e,Br);return(0,Qt.jsx)(Dr,oe(oe({},n),{},{children:t}))},Gr.TextSmall=function(e){var t=e.children,n=ue(e,zr);return(0,Qt.jsx)(Rr,oe(oe({},n),{},{children:t}))},Gr.Link=function(e){var t=e.children,n=ue(e,qr);return(0,Qt.jsx)(Or,oe(oe({},n),{},{children:t}))},Gr.Input=function(e){var t=Object.assign({},e);return(0,Qt.jsx)(Lr,oe({},t))},Gr.Submit=function(e){var t=e.children,n=ue(e,Kr);return(0,Qt.jsx)(Mr,oe(oe({},n),{},{children:t}))};var Wr=Gr,Hr=Vt.div.withConfig({displayName:"ProfilesStyle__Container",componentId:"sc-1ntil9b-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto;max-width:80%;"]),Qr=Vt.h1.withConfig({displayName:"ProfilesStyle__Title",componentId:"sc-1ntil9b-1"})(["width:100%;color:white;font-size:48px;font-weight:500;text-align:center;"]),$r=Vt.ul.withConfig({displayName:"ProfilesStyle__List",componentId:"sc-1ntil9b-2"})(["padding:0;margin:0;display:flex;flex-direction:row;"]),Jr=Vt.p.withConfig({displayName:"ProfilesStyle__Name",componentId:"sc-1ntil9b-3"})(["color:#808080;text-overflow:ellipsis;font-size:16px;"]),Yr=Vt.img.withConfig({displayName:"ProfilesStyle__Picture",componentId:"sc-1ntil9b-4"})(["width:100%;max-width:150px;height:auto;border:3px solid black;"]),Xr=Vt.li.withConfig({displayName:"ProfilesStyle__Item",componentId:"sc-1ntil9b-5"})(["max-height:200px;max-width:200px;list-style-type:none;text-align:center;margin-right:30px;cursor:pointer;&:hover > ","{border:3px solid white;}&:hover > ","{font-weight:bold;color:#e5e5e5;}&:last-of-type{margin-right:0;}"],Yr,Jr),Zr=["children"],ei=["children"],ti=["children"],ni=["children"],ri=["src"],ii=["children"],ai=function(e){var t=e.children,n=ue(e,Zr);return(0,Qt.jsx)(Hr,oe(oe({},n),{},{children:t}))};ai.Title=function(e){var t=e.children,n=ue(e,ei);return(0,Qt.jsx)(Qr,oe(oe({},n),{},{children:t}))},ai.List=function(e){var t=e.children,n=ue(e,ti);return(0,Qt.jsx)($r,oe(oe({},n),{},{children:t}))},ai.Item=function(e){var t=e.children,n=ue(e,ni);return(0,Qt.jsx)(Xr,oe(oe({},n),{},{children:t}))},ai.Picture=function(e){var t=e.src,n=ue(e,ri);return(0,Qt.jsx)(Yr,oe(oe({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},ai.Name=function(e){var t=e.children,n=ue(e,ii);return(0,Qt.jsx)(Jr,oe(oe({},n),{},{children:t}))};var oi,ui,si=ai;function ci(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var li=Ut(oi||(oi=ci(["\n    body {\n        overflow: hidden;\n    }\n"]))),fi=Ut(ui||(ui=ci(["\n    body {\n        overflow: visible;\n    }\n"]))),hi=Vt.div.withConfig({displayName:"LoadingStyle__Spinner",componentId:"sc-o8awyg-0"})(['position:fixed;z-index:999;width:100%;height:100%;background-color:black;:after{content:"";position:absolute;top:50%;left:50%;background-image:url(/images/misc/spinner.png);background-size:contain;background-repeat:no-repeat;margin-top:-150px;margin-left:-75px;width:150px;height:150px;animation-name:spin;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;}@-ms-keyframes spin{from{-ms-transform:rotate(0deg);}to{-ms-transform:rotate(360deg);}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);}to{-moz-transform:rotate(360deg);}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);}}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}']),di=Vt.img.withConfig({displayName:"LoadingStyle__Picture",componentId:"sc-o8awyg-1"})(["width:50px;height:50px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:-22px;"]),pi=["src"],vi=function(e){var t=e.src,n=ue(e,pi);return(0,Qt.jsxs)(hi,oe(oe({},n),{},{children:[(0,Qt.jsx)(li,{}),(0,Qt.jsx)(di,{src:"/images/users/".concat(t,".png")})]}))};vi.ReleaseBody=function(){return(0,Qt.jsx)(fi,{})};var mi=vi,yi=Vt.p.withConfig({displayName:"CardStyle__Title",componentId:"sc-mwyowg-0"})(["font-size:24px;color:#e5e5e5;font-weight:bold;margin-left:56px;margin-right:56px;margin-top:0;"]),gi=Vt.div.withConfig({displayName:"CardStyle__Container",componentId:"sc-mwyowg-1"})(["display:flex;flex-direction:column;margin-bottom:50px;box-sizing:border-box;> ","{@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-bottom:0;}"],yi),ki=Vt.div.withConfig({displayName:"CardStyle__Group",componentId:"sc-mwyowg-2"})(["display:flex;flex-direction:",";",";",";> ",":first-of-type{@media (min-width:1100px){margin-top:-150px;}}"],(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),gi),wi=Vt.p.withConfig({displayName:"CardStyle__SubTitle",componentId:"sc-mwyowg-3"})(["font-size:12px;color:#fff;font-weight:bold;margin-top:0;margin-bottom:0;user-select:none;display:none;"]),bi=Vt.p.withConfig({displayName:"CardStyle__Text",componentId:"sc-mwyowg-4"})(["margin-top:5px;font-size:10px;color:#fff;margin-bottom:0;user-select:none;display:none;line-height:normal;"]),xi=Vt.p.withConfig({displayName:"CardStyle__FeatureText",componentId:"sc-mwyowg-5"})(["font-size:18px;color:white;font-weight:",";margin:0;@media (max-width:600px){line-height:22px;}"],(function(e){return"bold"===e.fontWeight?"bold":"normal"})),_i=Vt.div.withConfig({displayName:"CardStyle__Feature",componentId:"sc-mwyowg-6"})(["display:flex;flex-direction:row;background:url(",");background-size:contain;position:relative;height:360px;background-position-x:right;background-repeat:no-repeat;background-color:black;@media (max-width:1000px){height:auto;background-size:auto;","{font-size:20px;line-height:20px;margin-bottom:10px;}","{font-size:14px;}}"],(function(e){return e.src}),yi,xi),Ii=Vt(yi).withConfig({displayName:"CardStyle__FeatureTitle",componentId:"sc-mwyowg-7"})(["margin-left:0;"]),Si=Vt.button.withConfig({displayName:"CardStyle__FeatureClose",componentId:"sc-mwyowg-8"})(["color:white;position:absolute;right:20px;top:20px;cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:24px;}"]),Ei=Vt.div.withConfig({displayName:"CardStyle__Maturity",componentId:"sc-mwyowg-9"})(["background-color:",";border-radius:15px;width:20px;color:white;font-size:12px;font-weight:bold;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,0.2);padding:5px;margin-right:10px;"],(function(e){return e.rating>=15?"red":"green"})),Ti=Vt.div.withConfig({displayName:"CardStyle__Content",componentId:"sc-mwyowg-10"})(["margin:56px;max-width:500px;line-height:normal;@media (max-width:1000px){margin:30px;max-width:none;}"]),Ci=Vt.div.withConfig({displayName:"CardStyle__Entities",componentId:"sc-mwyowg-11"})(["display:flex;flex-direction:row;"]),Ai=Vt.div.withConfig({displayName:"CardStyle__Meta",componentId:"sc-mwyowg-12"})(["display:none;position:absolute;bottom:0;padding:10px;background-color:#0000008f;"]),Ni=Vt.div.withConfig({displayName:"CardStyle__Item",componentId:"sc-mwyowg-13"})(["display:flex;flex-direction:column;margin-right:5px;position:relative;cursor:pointer;transition:transform 0.5s;&:hover{transform:scale(1.3);z-index:99;}@media (min-width:1200px){&:hover ",",&:hover ",",&:hover ","{display:block;z-index:100;}}&:first-of-type{margin-left:56px;@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-right:56px;@media (max-width:1000px){margin-right:30px;}}"],Ai,bi,wi),Pi=Vt.img.withConfig({displayName:"CardStyle__Image",componentId:"sc-mwyowg-14"})(["border:0;width:100%;max-width:305px;height:auto;cursor:pointer;padding:0;margin:0;"]),Di=["children"],Ri=["children"],Oi=["children"],Li=["children"],Mi=["children"],Fi=["children"],ji=["children"],Ui=["children","category"],Vi=["item","children"],Bi=(0,r.createContext)(),zi=function(e){var t=e.children,n=ue(e,Di),i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)({}),2),s=u[0],l=u[1];return(0,Qt.jsx)(Bi.Provider,{value:{showCard:a,setShowCard:o,itemCard:s,setItemCard:l},children:(0,Qt.jsx)(gi,oe(oe({},n),{},{children:t}))})};zi.Group=function(e){var t=e.children,n=ue(e,Ri);return(0,Qt.jsx)(ki,oe(oe({},n),{},{children:t}))},zi.Title=function(e){var t=e.children,n=ue(e,Oi);return(0,Qt.jsx)(yi,oe(oe({},n),{},{children:t}))},zi.SubTitle=function(e){var t=e.children,n=ue(e,Li);return(0,Qt.jsx)(wi,oe(oe({},n),{},{children:t}))},zi.Text=function(e){var t=e.children,n=ue(e,Mi);return(0,Qt.jsx)(bi,oe(oe({},n),{},{children:t}))},zi.Entities=function(e){var t=e.children,n=ue(e,Fi);return(0,Qt.jsx)(Ci,oe(oe({},n),{},{children:t}))},zi.Meta=function(e){var t=e.children,n=ue(e,ji);return(0,Qt.jsx)(Ai,oe(oe({},n),{},{children:t}))},zi.Feature=function(e){var t=e.children,n=e.category,i=ue(e,Ui),a=(0,r.useContext)(Bi),o=a.showCard,u=a.itemCard,s=a.setShowCard;return o?(0,Qt.jsx)(_i,oe(oe({},i),{},{src:"/images/".concat(n,"/").concat(u.genre,"/").concat(u.slug,"/large.jpg"),children:(0,Qt.jsxs)(Ti,{children:[(0,Qt.jsx)(Ii,{children:u.title}),(0,Qt.jsx)(xi,{children:u.description}),(0,Qt.jsx)(Si,{onClick:function(){return s(!1)},children:(0,Qt.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,Qt.jsxs)(ki,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,Qt.jsx)(Ei,{rating:u.maturity,children:u.maturity<12?"PG":u.maturity}),(0,Qt.jsx)(xi,{fontWeight:"bold",children:u.genre.charAt(0).toUpperCase()+u.genre.slice(1)})]}),t]})})):null},zi.Item=function(e){var t=e.item,n=e.children,i=ue(e,Vi),a=(0,r.useContext)(Bi),o=a.setShowCard,u=a.setItemCard;return(0,Qt.jsx)(Ni,oe(oe({onClick:function(){u(t),o(!0)}},i),{},{children:n}))},zi.Image=function(e){var t=Object.assign({},e);return(0,Qt.jsx)(Pi,oe({},t))};var qi=zi,Ki=n(164),Gi=Vt.div.withConfig({displayName:"PlayerStyle__Container",componentId:"sc-2w4r9e-0"})([""]),Wi=Vt.div.withConfig({displayName:"PlayerStyle__Overlay",componentId:"sc-2w4r9e-1"})(["display:flex;flex-direction:column;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);margin:0 20px;"]),Hi=Vt.div.withConfig({displayName:"PlayerStyle__Inner",componentId:"sc-2w4r9e-2"})(["position:relative;width:100%;max-width:900px;margin:auto;video{heigth:100%;width:100%;}"]),Qi=Vt.button.withConfig({displayName:"PlayerStyle__Button",componentId:"sc-2w4r9e-3"})(["background-color:#e50914;border-color:#ff0a10;width:114px;height:45px;text-transform:uppercase;font-weight:bold;color:white;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding-left:0;&:hover{transform:scale(1.05);background-color:#ff0a16;}"]),$i=["children"],Ji=["src"],Yi=(0,r.createContext)(),Xi=function(e){var t=e.children,n=ue(e,$i),i=c((0,r.useState)(!1),2),a=i[0],o=i[1];return(0,Qt.jsx)(Yi.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,Qt.jsx)(Gi,oe(oe({},n),{},{children:t}))})};Xi.Video=function(e){var t=e.src,n=ue(e,Ji),i=(0,r.useContext)(Yi),a=i.showPlayer,o=i.setShowPlayer;return a?Ki.createPortal((0,Qt.jsx)(Wi,oe(oe({onClick:function(){return o(!1)}},n),{},{children:(0,Qt.jsx)(Hi,{children:(0,Qt.jsx)("video",{id:"netflix-player",controls:!0,onClick:function(e){e.stopPropagation()},children:(0,Qt.jsx)("source",{src:t,type:"video/mp4"})})})})),document.body):null},Xi.Button=function(e){Object.assign({},e);var t=(0,r.useContext)(Yi),n=(t.showPlayer,t.setShowPlayer);return(0,Qt.jsx)(Qi,{onClick:function(){return n((function(e){return!e}))},children:"Play"})};var Zi=Xi,ea=function(){return(0,Qt.jsxs)(yn,{children:[(0,Qt.jsx)(yn.Title,{children:"Questions? Contact us."}),(0,Qt.jsx)(yn.Break,{}),(0,Qt.jsxs)(yn.Row,{children:[(0,Qt.jsxs)(yn.Column,{children:[(0,Qt.jsx)(yn.Link,{href:"#",children:"FAQ"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Investor Realtions"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Ways to Watch"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Coporate Information"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Netflix Originals"})]}),(0,Qt.jsxs)(yn.Column,{children:[(0,Qt.jsx)(yn.Link,{href:"#",children:"Help Centre"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Jobs"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Terms of Use"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Contact Us"})]}),(0,Qt.jsxs)(yn.Column,{children:[(0,Qt.jsx)(yn.Link,{href:"#",children:"Account"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Redeem Gift Cards"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Privacy"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Speed Test"})]}),(0,Qt.jsxs)(yn.Column,{children:[(0,Qt.jsx)(yn.Link,{href:"#",children:"Media Centre"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Buy Gift Cards"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Cookie Preferences"}),(0,Qt.jsx)(yn.Link,{href:"#",children:"Legal Notices"})]})]}),(0,Qt.jsx)(yn.Break,{}),(0,Qt.jsx)(yn.Text,{children:"Netflix United Kingdom"})]})},ta=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');var na=function(){return(0,Qt.jsxs)(Pn,{children:[(0,Qt.jsx)(Pn.Title,{children:"Frequently Asked Questions"}),ta.map((function(e){return(0,Qt.jsxs)(Pn.Item,{children:[(0,Qt.jsx)(Pn.Header,{children:e.header}),(0,Qt.jsx)(Pn.Body,{children:e.body})]},e.id)})),(0,Qt.jsxs)(Bn,{children:[(0,Qt.jsx)(Bn.Input,{placeholder:"Email address"}),(0,Qt.jsx)(Bn.Button,{children:"Try it now"}),(0,Qt.jsx)(Bn.Break,{}),(0,Qt.jsx)(Bn.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})};var ra=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg",ia=function(e){var t=e.children;return(0,Qt.jsxs)(kr,{children:[(0,Qt.jsxs)(kr.Frame,{children:[(0,Qt.jsx)(kr.Logo,{to:ee,alt:"Netflix",src:ra}),(0,Qt.jsx)(kr.ButtonLink,{to:re,children:"Sign In"})]}),t]})},aa=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');var oa=function(){return(0,Qt.jsx)(tn.Container,{children:aa.map((function(e){return(0,Qt.jsxs)(tn,{direction:e.direction,children:[(0,Qt.jsxs)(tn.Pane,{children:[(0,Qt.jsx)(tn.Title,{children:e.title}),(0,Qt.jsx)(tn.SubTitle,{children:e.subTitle})]}),(0,Qt.jsx)(tn.Pane,{children:(0,Qt.jsx)(tn.Image,{src:e.image,alt:e.alt})})]},e.id)}))})};function ua(e,t){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ua(e,t)}function sa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ua(e,t)}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function la(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e,t){if(t&&("object"===fa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ha(e)}function pa(e){var t=la();return function(){var n,r=ca(e);if(t){var i=ca(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return da(this,n)}}function va(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ma(e){return function(e){if(Array.isArray(e))return o(e)}(e)||va(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wa(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ta(e)}function ba(e){return"string"===typeof e}function xa(e){return"number"===typeof e}function _a(e){return!0===e||!1===e||function(e){return Ia(e)&&null!==e}(e)&&"[object Boolean]"==Ta(e)}function Ia(e){return"object"===typeof e}function Sa(e){return void 0!==e&&null!==e}function Ea(e){return!e.trim().length}function Ta(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Ca=function(e){return"Invalid value for key ".concat(e)},Aa=function(e){return"Pattern length exceeds max of ".concat(e,".")},Na=Object.prototype.hasOwnProperty,Pa=function(){function e(t){var n=this;ya(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=Da(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return ka(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Da(e){var t=null,n=null,r=null,i=1,a=null;if(ba(e)||wa(e))r=e,t=Ra(e),n=Oa(e);else{if(!Na.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var o=e.name;if(r=o,Na.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(o));t=Ra(o),n=Oa(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function Ra(e){return wa(e)?e:e.split(".")}function Oa(e){return wa(e)?e.join("."):e}var La={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(Sa(t))if(i[a]){var o=t[i[a]];if(!Sa(o))return;if(a===i.length-1&&(ba(o)||xa(o)||_a(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(wa(o)){r=!0;for(var u=0,s=o.length;u<s;u+=1)e(o[u],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,ba(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Ma=oe(oe(oe(oe({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),La),Fa=/[^ ]+/g;function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(Fa).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var Ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Ma.getFn:n,i=t.fieldNormWeight,a=void 0===i?Ma.fieldNormWeight:i;ya(this,e),this.norm=ja(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return ka(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,ba(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();ba(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(Sa(e)&&!Ea(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=t.getFn?t.getFn(e):n.getFn(e,t.path);if(Sa(a))if(wa(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),u=o.nestedArrIndex,s=o.value;if(Sa(s))if(ba(s)&&!Ea(s)){var c={v:s,i:u,n:n.norm.get(s)};e.push(c)}else wa(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if(ba(a)&&!Ea(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function Va(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?Ma.getFn:r,a=n.fieldNormWeight,o=void 0===a?Ma.fieldNormWeight:a,u=new Ua({getFn:i,fieldNormWeight:o});return u.setKeys(e.map(Da)),u.setSources(t),u.create(),u}function Ba(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,u=void 0===o?0:o,s=t.distance,c=void 0===s?Ma.distance:s,l=t.ignoreLocation,f=void 0===l?Ma.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(u-a);return c?h+d/c:d?1:h}function za(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var u=e[a];u&&-1===r?r=a:u||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var qa=32;function Ka(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var Ga=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?Ma.location:i,o=r.threshold,u=void 0===o?Ma.threshold:o,s=r.distance,c=void 0===s?Ma.distance:s,l=r.includeMatches,f=void 0===l?Ma.includeMatches:l,h=r.findAllMatches,d=void 0===h?Ma.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?Ma.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?Ma.isCaseSensitive:m,g=r.ignoreLocation,k=void 0===g?Ma.ignoreLocation:g;if(ya(this,e),this.options={location:a,threshold:u,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:k},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:Ka(e),startIndex:t})},b=this.pattern.length;if(b>qa){for(var x=0,_=b%qa,I=b-_;x<I;)w(this.pattern.substr(x,qa),x),x+=qa;if(_){var S=b-qa;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return ka(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,u=a.distance,s=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?Ma.location:i,o=r.distance,u=void 0===o?Ma.distance:o,s=r.threshold,c=void 0===s?Ma.threshold:s,l=r.findAllMatches,f=void 0===l?Ma.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?Ma.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?Ma.includeMatches:p,m=r.ignoreLocation,y=void 0===m?Ma.ignoreLocation:m;if(t.length>qa)throw new Error(Aa(qa));for(var g,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,I=d>1||v,S=I?Array(w):[];(g=e.indexOf(t,_))>-1;){var E=Ba(t,{currentLocation:g,expectedLocation:b,distance:u,ignoreLocation:y});if(x=Math.min(E,x),_=g+k,I)for(var T=0;T<k;)S[g+T]=1,T+=1}_=-1;for(var C=[],A=1,N=k+w,P=1<<k-1,D=0;D<k;D+=1){for(var R=0,O=N;R<O;){Ba(t,{errors:D,currentLocation:b+O,expectedLocation:b,distance:u,ignoreLocation:y})<=x?R=O:N=O,O=Math.floor((N-R)/2+R)}N=O;var L=Math.max(1,b-O+1),M=f?w:Math.min(b+O,w)+k,F=Array(M+2);F[M+1]=(1<<D)-1;for(var j=M;j>=L;j-=1){var U=j-1,V=n[e.charAt(U)];if(I&&(S[U]=+!!V),F[j]=(F[j+1]<<1|1)&V,D&&(F[j]|=(C[j+1]|C[j])<<1|1|C[j+1]),F[j]&P&&(A=Ba(t,{errors:D,currentLocation:U,expectedLocation:b,distance:u,ignoreLocation:y}))<=x){if(x=A,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(Ba(t,{errors:D+1,currentLocation:b,expectedLocation:b,distance:u,ignoreLocation:y})>x)break;C=F}var B={isMatch:_>=0,score:Math.max(.001,A)};if(I){var z=za(S,d);z.length?v&&(B.indices=z):B.isMatch=!1}return B}(e,n,i,{location:o+a,distance:u,threshold:s,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),d+=y,m&&g&&(h=[].concat(ma(h),ma(g)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),Wa=function(){function e(t){ya(this,e),this.pattern=t}return ka(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return Ha(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return Ha(e,this.singleRegex)}}]),e}();function Ha(e,t){var n=e.match(t);return n?n[1]:null}var Qa=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(Wa),$a=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(Wa),Ja=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(Wa),Ya=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(Wa),Xa=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(Wa),Za=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(Wa),eo=function(e){sa(n,e);var t=pa(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?Ma.location:a,u=i.threshold,s=void 0===u?Ma.threshold:u,c=i.distance,l=void 0===c?Ma.distance:c,f=i.includeMatches,h=void 0===f?Ma.includeMatches:f,d=i.findAllMatches,p=void 0===d?Ma.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?Ma.minMatchCharLength:v,y=i.isCaseSensitive,g=void 0===y?Ma.isCaseSensitive:y,k=i.ignoreLocation,w=void 0===k?Ma.ignoreLocation:k;return ya(this,n),(r=t.call(this,e))._bitapSearch=new Ga(e,{location:o,threshold:s,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return ka(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(Wa),to=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),t.call(this,e)}return ka(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(Wa),no=[Qa,to,Ja,Ya,Za,Xa,$a,eo],ro=no.length,io=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(io).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],u=!1,s=-1;!u&&++s<ro;){var c=no[s],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),u=!0)}if(!u)for(s=-1;++s<ro;){var f=no[s],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var oo=new Set([eo.type,to.type]),uo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?Ma.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?Ma.includeMatches:a,u=n.minMatchCharLength,s=void 0===u?Ma.minMatchCharLength:u,c=n.ignoreLocation,l=void 0===c?Ma.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?Ma.findAllMatches:f,d=n.location,p=void 0===d?Ma.location:d,v=n.threshold,m=void 0===v?Ma.threshold:v,y=n.distance,g=void 0===y?Ma.distance:y;ya(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:s,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:g},this.pattern=i?t:t.toLowerCase(),this.query=ao(this.pattern,this.options)}return ka(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,u=0,s=t.length;u<s;u+=1){var c=t[u];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var y=h.constructor.type;oo.has(y)?a=[].concat(ma(a),ma(v)):a.push(v)}}if(i){var g={isMatch:!0,score:o/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),so=[];function co(e,t){for(var n=0,r=so.length;n<r;n+=1){var i=so[n];if(i.condition(e,t))return new i(e,t)}return new Ga(e,t)}var lo="$and",fo="$or",ho="$path",po="$val",vo=function(e){return!(!e[lo]&&!e[fo])},mo=function(e){return!!e[ho]},yo=function(e){return!wa(e)&&Ia(e)&&!vo(e)},go=function(e){return ie({},lo,Object.keys(e).map((function(t){return ie({},t,e[t])})))};function ko(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=mo(n);if(!a&&r.length>1&&!vo(n))return e(go(n));if(yo(n)){var o=a?n[ho]:r[0],u=a?n[po]:n[o];if(!ba(u))throw new Error(Ca(o));var s={keyId:Oa(o),pattern:u};return i&&(s.searcher=co(u,t)),s}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];wa(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return vo(e)||(e=go(e)),a(e)}function wo(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Ma.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function bo(e,t){var n=e.matches;t.matches=[],Sa(n)&&n.forEach((function(e){if(Sa(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function xo(e,t){t.score=e.score}function _o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?Ma.includeMatches:r,a=n.includeScore,o=void 0===a?Ma.includeScore:a,u=[];return i&&u.push(bo),o&&u.push(xo),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return u.length&&u.forEach((function(t){t(e,r)})),r}))}var Io=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;ya(this,e),this.options=oe(oe({},Ma),n),this.options.useExtendedSearch,this._keyStore=new Pa(this.options.keys),this.setCollection(t,r)}return ka(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof Ua))throw new Error("Incorrect 'index' type");this._myIndex=t||Va(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){Sa(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,u=i.shouldSort,s=i.sortFn,c=i.ignoreFieldNorm,l=ba(e)?ba(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return wo(l,{ignoreFieldNorm:c}),u&&l.sort(s),xa(r)&&r>-1&&(l=l.slice(0,r)),_o(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=co(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(Sa(n)){var o=t.searchIn(n),u=o.isMatch,s=o.score,c=o.indices;u&&r.push({item:n,idx:i,matches:[{score:s,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=ko(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,u=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return u&&u.length?[{idx:i,item:r,matches:u}]:[]}for(var s=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)s.push.apply(s,ma(f));else if(n.operator===lo)return[]}return s},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(Sa(t)){var u=r(n,t,i);u.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),u.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,ma(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=co(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(Sa(r)){var u=[];i.forEach((function(e,i){u.push.apply(u,ma(t._findMatches({key:e,value:r[i],searcher:n})))})),u.length&&o.push({idx:a,item:r,matches:u})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!Sa(n))return[];var i=[];if(wa(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(Sa(n)){var u=r.searchIn(n),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,u=r.searchIn(a),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();Io.version="6.6.2",Io.createIndex=Va,Io.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Ma.getFn:n,i=t.fieldNormWeight,a=void 0===i?Ma.fieldNormWeight:i,o=e.keys,u=e.records,s=new Ua({getFn:r,fieldNormWeight:a});return s.setKeys(o),s.setIndexRecords(u),s},Io.config=Ma,Io.parseQuery=ko,function(){so.push.apply(so,arguments)}(uo);var So=(0,r.createContext)(null),Eo=function(e){var t=e.user,n=e.setProfile;return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(kr,{background:!1,children:(0,Qt.jsx)(kr.Frame,{children:(0,Qt.jsx)(kr.Logo,{to:ee,src:ra,alt:"Netflix"})})}),(0,Qt.jsxs)(si,{children:[(0,Qt.jsx)(si.Title,{children:"Who's watching?"}),(0,Qt.jsx)(si.List,{children:(0,Qt.jsxs)(si.Item,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},children:[(0,Qt.jsx)(si.Picture,{src:t.photoURL}),(0,Qt.jsx)(si.Name,{children:t.displayName})]})})]})]})},To=function(e){var t=e.slides,n=c((0,r.useState)("series"),2),i=n[0],a=n[1],o=c((0,r.useState)({}),2),u=o[0],s=o[1],l=c((0,r.useState)(!0),2),f=l[0],h=l[1],d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=c((0,r.useState)([]),2),y=m[0],g=m[1],k=(0,r.useContext)(So).Firebase,w=k.auth().currentUser||{};return(0,r.useEffect)((function(){setTimeout((function(){h(!1)}),3e3)}),[u.displayName]),(0,r.useEffect)((function(){g(t[i])}),[t,i]),(0,r.useEffect)((function(){var e=new Io(y,{keys:["data.description","data.title","data.genre"]}).search(p).map((function(e){return e.item}));y.length>0&&p.length>3&&e.length>0?g(e):g(t[i])}),[p]),u.displayName?(0,Qt.jsxs)(Qt.Fragment,{children:[f?(0,Qt.jsx)(mi,{src:w.photoURL}):(0,Qt.jsx)(mi.ReleaseBody,{}),(0,Qt.jsxs)(kr,{src:"joker1",dontShowOnSmallViewPort:!0,children:[(0,Qt.jsxs)(kr.Frame,{children:[(0,Qt.jsxs)(kr.Group,{children:[(0,Qt.jsx)(kr.Logo,{to:ee,src:ra,alt:"Netflix"}),(0,Qt.jsx)(kr.TextLink,{active:"series"===i?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,Qt.jsx)(kr.TextLink,{active:"films"===i?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,Qt.jsxs)(kr.Group,{children:[(0,Qt.jsx)(kr.Search,{searchTerm:p,setSearchTerm:v}),(0,Qt.jsxs)(kr.Profile,{children:[(0,Qt.jsx)(kr.Picture,{src:w.photoURL,alt:""}),(0,Qt.jsxs)(kr.Dropdown,{children:[(0,Qt.jsxs)(kr.Group,{children:[(0,Qt.jsx)(kr.Picture,{src:w.photoURL,alt:""}),(0,Qt.jsx)(kr.TextLink,{children:w.displayName})]}),(0,Qt.jsx)(kr.Group,{children:(0,Qt.jsx)(kr.TextLink,{onClick:function(){return k.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,Qt.jsxs)(kr.Feature,{children:[(0,Qt.jsx)(kr.FeatureCallOut,{children:"Watch Joker Now"}),(0,Qt.jsx)(kr.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wars two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,Qt.jsx)(kr.PlayButton,{children:"Play"})]})]}),(0,Qt.jsx)(qi.Group,{children:y.map((function(e){return(0,Qt.jsxs)(qi,{children:[(0,Qt.jsx)(qi.Title,{children:e.title}),(0,Qt.jsx)(qi.Entities,{children:e.data.map((function(e){return(0,Qt.jsxs)(qi.Item,{item:e,children:[(0,Qt.jsx)(qi.Image,{src:"/images/".concat(i,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,Qt.jsxs)(qi.Meta,{children:[(0,Qt.jsx)(qi.SubTitle,{children:e.title}),(0,Qt.jsx)(qi.Text,{children:e.description})]})]},e.docId)}))}),(0,Qt.jsx)(qi.Feature,{category:i,children:(0,Qt.jsxs)(Zi,{children:[(0,Qt.jsx)(Zi.Button,{}),(0,Qt.jsx)(Zi.Video,{src:"/videos/bunny.mp4"})]})})]},"".concat(i,"-").concat(e.title.toLowerCase()))}))}),(0,Qt.jsx)(ea,{})]}):(0,Qt.jsx)(Eo,{user:w,setProfile:s})},Co=function(){return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(ia,{children:(0,Qt.jsxs)(Tr,{children:[(0,Qt.jsx)(Tr.Title,{children:"Unlimited films, TV programs and more."}),(0,Qt.jsx)(Tr.SubTitle,{children:"Watch anywhere. Cancel at any time."}),(0,Qt.jsxs)(Bn,{children:[(0,Qt.jsx)(Bn.Input,{placeholder:"Email address"}),(0,Qt.jsx)(Bn.Button,{children:"Try it now"}),(0,Qt.jsx)(Bn.Break,{}),(0,Qt.jsx)(Bn.Text,{children:"Ready to watch? Enter your email to create or restart your membership"})]})]})}),(0,Qt.jsx)(oa,{}),(0,Qt.jsx)(na,{}),(0,Qt.jsx)(ea,{})]})},Ao=function(){var e=c((0,r.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],i=(0,r.useContext)(So).Firebase;return(0,r.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}},No=function(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=(0,r.useContext)(So).Firebase;return(0,r.useEffect)((function(){a.firestore().collection(e).get().then((function(e){var t=e.docs.map((function(e){return oe(oe({},e.data()),{},{docId:e.id})}));i(t)})).catch((function(e){console.log(e.message)}))}),[]),ie({},e,n)};var Po=function(){var e=No("series").series,t=No("films").films;console.log(e),console.log(t);var n=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:n.filter((function(e){return"romance"===e.genre}))}]}}({series:e,films:t});return console.log(n),(0,Qt.jsx)(To,{slides:n})},Do=function(){var e=U(),t=(0,r.useContext)(So).Firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=""===u||""===i;return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(ia,{children:(0,Qt.jsxs)(Wr,{children:[(0,Qt.jsx)(Wr.Title,{children:"Sign In"}),f&&(0,Qt.jsx)(Wr.Error,{children:f}),(0,Qt.jsxs)(Wr.Base,{onSubmit:function(n){n.preventDefault(),t.auth().signInWithEmailAndPassword(i,u).then((function(){e(te)})).catch((function(e){s(""),h(e.message)}))},method:"POST",children:[(0,Qt.jsx)(Wr.Input,{placeholder:"Email address",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,Qt.jsx)(Wr.Input,{type:"password",placeholder:"Password",autoComplete:"off",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,Qt.jsx)(Wr.Submit,{disabled:d,type:"submit",children:"Sign In"})]}),(0,Qt.jsxs)(Wr.Text,{children:["New to Netflix? ",(0,Qt.jsx)(Wr.Link,{to:"/signup",children:"Sign up now."})]}),(0,Qt.jsx)(Wr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,Qt.jsx)(ea,{})]})},Ro=function(){var e=U(),t=(0,r.useContext)(So).Firebase,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=c((0,r.useState)(""),2),f=l[0],h=l[1],d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=""===i||""===f||""===u;return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(ia,{children:(0,Qt.jsxs)(Wr,{children:[(0,Qt.jsx)(Wr.Title,{children:"Sign Up"}),p&&(0,Qt.jsx)(Wr.Error,{children:p}),(0,Qt.jsxs)(Wr.Base,{onSubmit:function(n){n.preventDefault(),t.auth().createUserWithEmailAndPassword(u,f).then((function(t){t.user.updateProfile({displayName:i,photoURL:Math.floor(5*Math.random())+1}).then((function(){e(te)}))})).catch((function(e){a(""),s(""),h(""),v(e.message)}))},method:"POST",children:[(0,Qt.jsx)(Wr.Input,{placeholder:"First Name",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,Qt.jsx)(Wr.Input,{placeholder:"Email address",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,Qt.jsx)(Wr.Input,{type:"password",placeholder:"Password",value:f,autoComplete:"off",onChange:function(e){var t=e.target;return h(t.value)}}),(0,Qt.jsx)(Wr.Submit,{disabled:m,type:"submit",children:"Sign Up"})]}),(0,Qt.jsxs)(Wr.Text,{children:["Already a user? ",(0,Qt.jsx)(Wr.Link,{to:"/signin",children:"Sign in now."})]}),(0,Qt.jsx)(Wr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,Qt.jsx)(ea,{})]})},Oo=["user","loggedInPath"],Lo=["user","location"],Mo=function(e){var t=e.user,n=e.loggedInPath,r=ue(e,Oo);return t?(0,Qt.jsx)(q,oe(oe({},r),{},{to:n})):(0,Qt.jsx)(K,{})},Fo=function(e){var t=e.user,n=e.location,r=ue(e,Lo);return t?(0,Qt.jsx)(K,{}):(0,Qt.jsx)(q,oe(oe({},r),{},{to:"/signin",state:{from:n}}))};var jo,Uo=function(){var e=Ao().user;return(0,Qt.jsx)(X,{children:(0,Qt.jsxs)(H,{children:[(0,Qt.jsx)(G,{exact:!0,path:re,element:(0,Qt.jsx)(Mo,{user:e,loggedInPath:te,exact:!0}),children:(0,Qt.jsx)(G,{exact:!0,path:re,element:(0,Qt.jsx)(Do,{})})}),(0,Qt.jsx)(G,{exact:!0,path:ne,element:(0,Qt.jsx)(Mo,{user:e,loggedInPath:te,exact:!0}),children:(0,Qt.jsx)(G,{exact:!0,path:ne,element:(0,Qt.jsx)(Ro,{})})}),(0,Qt.jsx)(G,{exact:!0,path:ee,element:(0,Qt.jsx)(Mo,{user:e,loggedInPath:te,exact:!0}),children:(0,Qt.jsx)(G,{exact:!0,path:ee,element:(0,Qt.jsx)(Co,{})})}),(0,Qt.jsx)(G,{exact:!0,path:te,element:(0,Qt.jsx)(Fo,{user:e,exact:!0}),children:(0,Qt.jsx)(G,{exact:!0,path:te,element:(0,Qt.jsx)(Po,{})})})]})})},Vo=Ut(jo||(jo=ci(["\n    html, body {\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: black;\n        color: #333333;\n        font-size: 16px;\n    }\n"])));function Bo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function zo(e,t,n){return zo=la()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ua(i,n.prototype),i},zo.apply(null,arguments)}function qo(e){var t="function"===typeof Map?new Map:void 0;return qo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return zo(e,arguments,ca(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ua(n,e)},qo(e)}var Ko=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Go={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ko(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wo=function(e){return function(e){var t=Ko(e);return Go.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ho=function(e){try{return Go.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Qo(e[n],t[n]));return e}var $o=function(){function e(){var t=this;ya(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ka(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Jo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wo(JSON.stringify({alg:"none",type:"JWT"})),Wo(JSON.stringify(a)),""].join(".")}function Yo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yo())}function Zo(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function eu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function tu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function nu(){var e=Yo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ru(){return"object"===typeof indexedDB}var iu=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ha(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ha(a),au.prototype.create),a}return ka(n)}(qo(Error)),au=function(){function e(t,n,r){ya(this,e),this.service=t,this.serviceName=n,this.errors=r}return ka(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ou(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new iu(n,a,t);return o}}]),e}();function ou(e,t){return e.replace(uu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var uu=/\{\$([^}]+)}/g;function su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(lu(u)&&lu(s)){if(!cu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function lu(e){return null!==e&&"object"===typeof e}function fu(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function hu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function du(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pu(e,t){var n=new vu(e,t);return n.subscribe.bind(n)}var vu=function(){function e(t,n){var r=this;ya(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ka(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Bo(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=mu),void 0===r.error&&(r.error=mu),void 0===r.complete&&(r.complete=mu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function mu(){}function yu(e){return e&&e._delegate?e._delegate:e}function gu(){gu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==fa(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ku(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ku(a,r,i,o,u,"next",e)}function u(e){ku(a,r,i,o,u,"throw",e)}o(void 0)}))}}var bu=function(){function e(t,n,r){ya(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ka(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xu="[DEFAULT]",_u=function(){function e(t,n){ya(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ka(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new $o;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch(s){}var t,n=Bo(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ma(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ma(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Bo(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(SN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.component?this.component.multipleInstances?e:xu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Iu,Su,Eu=function(){function e(t){ya(this,e),this.name=t,this.providers=new Map}return ka(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _u(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Tu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Su||(Su={}));var Cu={debug:Su.DEBUG,verbose:Su.VERBOSE,info:Su.INFO,warn:Su.WARN,error:Su.ERROR,silent:Su.SILENT},Au=Su.INFO,Nu=(ie(Iu={},Su.DEBUG,"log"),ie(Iu,Su.VERBOSE,"log"),ie(Iu,Su.INFO,"info"),ie(Iu,Su.WARN,"warn"),ie(Iu,Su.ERROR,"error"),Iu),Pu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Nu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Du=function(){function e(t){ya(this,e),this.name=t,this._logLevel=Au,this._logHandler=Pu,this._userLogHandler=null,Tu.push(this)}return ka(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Su))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Cu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Su.DEBUG].concat(t)),this._logHandler.apply(this,[this,Su.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Su.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Su.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Su.INFO].concat(t)),this._logHandler.apply(this,[this,Su.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Su.WARN].concat(t)),this._logHandler.apply(this,[this,Su.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Su.ERROR].concat(t)),this._logHandler.apply(this,[this,Su.ERROR].concat(t))}}]),e}();var Ru,Ou;var Lu=new WeakMap,Mu=new WeakMap,Fu=new WeakMap,ju=new WeakMap,Uu=new WeakMap;var Vu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Mu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Bu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ou||(Ou=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ku(this),n),qu(Lu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qu(e.apply(Ku(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ku(this),t].concat(r));return Fu.set(a,t.sort?t.sort():[t]),qu(a)}}function zu(e){return"function"===typeof e?Bu(e):(e instanceof IDBTransaction&&function(e){if(!Mu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Mu.set(e,t)}}(e),t=e,(Ru||(Ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Vu):e);var t}function qu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Lu.set(t,e)})).catch((function(){})),Uu.set(t,e),t}(e);if(ju.has(e))return ju.get(e);var t=zu(e);return t!==e&&(ju.set(e,t),Uu.set(t,e)),t}var Ku=function(e){return Uu.get(e)};var Gu,Wu,Hu=["get","getKey","getAll","getAllKeys","count"],Qu=["put","add","delete","clear"],$u=new Map;function Ju(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if($u.get(t))return $u.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Qu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Hu.includes(n))){var a=function(){var e=wu(gu().mark((function e(t){var a,o,u,s,c,l,f=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return $u.set(t,a),a}}}Vu=function(e){return oe(oe({},e),{},{get:function(t,n,r){return Ju(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ju(t,n)||e.has(t,n)}})}(Vu);var Yu=function(){function e(t){ya(this,e),this.container=t}return ka(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xu="@firebase/app",Zu="0.7.26",es=new Du("@firebase/app"),ts="[DEFAULT]",ns=(ie(Gu={},Xu,"fire-core"),ie(Gu,"@firebase/app-compat","fire-core-compat"),ie(Gu,"@firebase/analytics","fire-analytics"),ie(Gu,"@firebase/analytics-compat","fire-analytics-compat"),ie(Gu,"@firebase/app-check","fire-app-check"),ie(Gu,"@firebase/app-check-compat","fire-app-check-compat"),ie(Gu,"@firebase/auth","fire-auth"),ie(Gu,"@firebase/auth-compat","fire-auth-compat"),ie(Gu,"@firebase/database","fire-rtdb"),ie(Gu,"@firebase/database-compat","fire-rtdb-compat"),ie(Gu,"@firebase/functions","fire-fn"),ie(Gu,"@firebase/functions-compat","fire-fn-compat"),ie(Gu,"@firebase/installations","fire-iid"),ie(Gu,"@firebase/installations-compat","fire-iid-compat"),ie(Gu,"@firebase/messaging","fire-fcm"),ie(Gu,"@firebase/messaging-compat","fire-fcm-compat"),ie(Gu,"@firebase/performance","fire-perf"),ie(Gu,"@firebase/performance-compat","fire-perf-compat"),ie(Gu,"@firebase/remote-config","fire-rc"),ie(Gu,"@firebase/remote-config-compat","fire-rc-compat"),ie(Gu,"@firebase/storage","fire-gcs"),ie(Gu,"@firebase/storage-compat","fire-gcs-compat"),ie(Gu,"@firebase/firestore","fire-fst"),ie(Gu,"@firebase/firestore-compat","fire-fst-compat"),ie(Gu,"fire-js","fire-js"),ie(Gu,"firebase","fire-js-all"),Gu),rs=new Map,is=new Map;function as(e,t){try{e.container.addComponent(t)}catch(n){es.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function os(e,t){e.container.addOrOverwriteComponent(t)}function us(e){var t=e.name;if(is.has(t))return es.debug("There were multiple attempts to register component ".concat(t,".")),!1;is.set(t,e);var n,r=Bo(rs.values());try{for(r.s();!(n=r.n()).done;){as(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ss(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ts;ss(e,t).clearInstance(n)}function ls(){is.clear()}var fs=(ie(Wu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(Wu,"bad-app-name","Illegal App name: '{$appName}"),ie(Wu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ie(Wu,"app-deleted","Firebase App named '{$appName}' already deleted"),ie(Wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ie(Wu,"invalid-log-argument","First argument to `onLog` must be null or a function."),ie(Wu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ie(Wu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ie(Wu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ie(Wu,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Wu),hs=new au("app","Firebase",fs),ds=function(){function e(t,n,r){var i=this;ya(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bu("app",(function(){return i}),"PUBLIC"))}return ka(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}]),e}(),ps="9.8.3";function vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ts,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw hs.create("bad-app-name",{appName:String(i)});var a=rs.get(i);if(a){if(cu(e,a.options)&&cu(r,a.config))return a;throw hs.create("duplicate-app",{appName:i})}var o,u=new Eu(i),s=Bo(is.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ds(e,r,u);return rs.set(i,l),l}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts,t=rs.get(e);if(!t)throw hs.create("no-app",{appName:e});return t}function ys(){return Array.from(rs.values())}function gs(e){return ks.apply(this,arguments)}function ks(){return(ks=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!rs.has(n)){e.next=6;break}return rs.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t,n){var r,i=null!==(r=ns[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void es.warn(u.join(" "))}us(new bu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bs(e,t){if(null!==e&&"function"!==typeof e)throw hs.create("invalid-log-argument");!function(e,t){var n,r=Bo(Tu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Cu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Su[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xs(e){var t;t=e,Tu.forEach((function(e){e.setLogLevel(t)}))}var _s="firebase-heartbeat-store",Is=null;function Ss(){return Is||(Is=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=qu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(qu(u.result),e.oldVersion,e.newVersion,qu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(_s)}}).catch((function(e){throw hs.create("storage-open",{originalErrorMessage:e.message})}))),Is}function Es(e){return Ts.apply(this,arguments)}function Ts(){return Ts=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss();case 3:return r=e.sent,e.abrupt("return",r.transaction(_s).objectStore(_s).get(Ns(t)));case 7:throw e.prev=7,e.t0=e.catch(0),hs.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ts.apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return As=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss();case 3:return i=e.sent,a=i.transaction(_s,"readwrite"),o=a.objectStore(_s),e.next=8,o.put(n,Ns(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),hs.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),As.apply(this,arguments)}function Ns(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ps=function(){function e(t){var n=this;ya(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ms(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ka(e,[{key:"triggerHeartbeat",value:function(){var e=wu(gu().mark((function e(){var t,n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ds(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ds(),n=Rs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ds(){return(new Date).toISOString().substring(0,10)}function Rs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Bo(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Fs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Fs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Os,Ls,Ms=function(){function e(t){ya(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ka(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ru()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Es(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ma(r.heartbeats),ma(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fs(e){return Wo(JSON.stringify({version:2,heartbeats:e})).length}Os="",us(new bu("platform-logger",(function(e){return new Yu(e)}),"PRIVATE")),us(new bu("heartbeat",(function(e){return new Ps(e)}),"PRIVATE")),ws(Xu,Zu,Os),ws(Xu,Zu,"esm2017"),ws("fire-js","");var js=function(){function e(t,n){var r=this;ya(this,e),this._delegate=t,this.firebase=n,as(t,new bu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ka(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),gs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){as(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){os(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Us=(ie(Ls={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(Ls,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ls),Vs=new au("app-compat","Firebase",Us);var Bs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=vs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(su(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ws,setLogLevel:xs,onLog:bs,apps:null,SDK_VERSION:ps,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(us(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Vs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Qo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!su(n,e=e||ts))throw Vs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(js);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Qo(n,e)},createSubscribe:pu,ErrorFactory:au,deepExtend:Qo}),n}(),zs=new Du("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var qs=self.firebase.SDK_VERSION;qs&&qs.indexOf("LITE")>=0&&zs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ks=Bs;!function(e){ws("@firebase/app-compat","0.1.27",e)}();function Gs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ca(e)););return e}function Ws(){return Ws="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Gs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ws.apply(this,arguments)}Ks.registerVersion("firebase","9.8.3","app-compat");function Hs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Qs;Object.create;var $s="facebook.com",Js="github.com",Ys="google.com",Xs="password",Zs="twitter.com",ec="EMAIL_SIGNIN",tc="PASSWORD_RESET",nc="RECOVER_EMAIL",rc="REVERT_SECOND_FACTOR_ADDITION",ic="VERIFY_AND_CHANGE_EMAIL",ac="VERIFY_EMAIL";function oc(){return ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var uc=function(){var e;return ie(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ie(e,"argument-error",""),ie(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ie(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ie(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ie(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ie(e,"cordova-not-ready","Cordova framework is not ready."),ie(e,"cors-unsupported","This browser is not supported."),ie(e,"credential-already-in-use","This credential is already associated with a different user account."),ie(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ie(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ie(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ie(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ie(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ie(e,"email-already-in-use","The email address is already in use by another account."),ie(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ie(e,"expired-action-code","The action code has expired."),ie(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ie(e,"internal-error","An internal AuthError has occurred."),ie(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ie(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ie(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ie(e,"invalid-auth-event","An internal AuthError has occurred."),ie(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ie(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ie(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ie(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ie(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ie(e,"invalid-email","The email address is badly formatted."),ie(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ie(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ie(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ie(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ie(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ie(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ie(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ie(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ie(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ie(e,"wrong-password","The password is invalid or the user does not have a password."),ie(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ie(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ie(e,"invalid-provider-id","The specified provider ID is invalid."),ie(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ie(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ie(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ie(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ie(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ie(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ie(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ie(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ie(e,"missing-continue-uri","A continue URL must be provided in the request."),ie(e,"missing-iframe-start","An internal AuthError has occurred."),ie(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ie(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ie(e,"missing-multi-factor-info","No second factor identifier is provided."),ie(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ie(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ie(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ie(e,"app-deleted","This instance of FirebaseApp has been deleted."),ie(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ie(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ie(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ie(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ie(e,"no-auth-event","An internal AuthError has occurred."),ie(e,"no-such-provider","User was not linked to an account with the given provider."),ie(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ie(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ie(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ie(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ie(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ie(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ie(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ie(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ie(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ie(e,"rejected-credential","The request contains malformed or mismatching credentials."),ie(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ie(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ie(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ie(e,"timeout","The operation has timed out."),ie(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ie(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ie(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ie(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ie(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ie(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ie(e,"unverified-email","The operation requires a verified email."),ie(e,"user-cancelled","The user did not grant your application the permissions it requested."),ie(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ie(e,"user-disabled","The user account has been disabled by an administrator."),ie(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ie(e,"user-signed-out",""),ie(e,"weak-password","The password must be 6 characters long or more."),ie(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ie(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},sc=oc,cc=new au("auth","Firebase",oc()),lc=new Du("@firebase/auth");function fc(e){if(lc.logLevel<=Su.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lc.error.apply(lc,["Auth (".concat(ps,"): ").concat(e)].concat(n))}}function hc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mc.apply(void 0,[e].concat(n))}function dc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mc.apply(void 0,[e].concat(n))}function pc(e,t,n){var r=Object.assign(Object.assign({},sc()),ie({},t,n));return new au("auth","Firebase",r).create(t,{appName:e.name})}function vc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hc(e,"argument-error"),pc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ma(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ma(o)))}return cc.create.apply(cc,[e].concat(n))}function yc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mc.apply(void 0,[t].concat(r))}}function gc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw fc(t),new Error(t)}function kc(e,t){e||gc(t)}var wc=new Map;function bc(e){kc(e instanceof Function,"Expected a class definition");var t=wc.get(e);return t?(kc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wc.set(e,t),t)}function xc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _c(){return"http:"===Ic()||"https:"===Ic()}function Ic(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Sc=function(){function e(t,n){ya(this,e),this.shortDelay=t,this.longDelay=n,kc(n>t,"Short delay should be less than long delay!"),this.isMobile=Xo()||tu()}return ka(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_c()||eu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ec(e,t){kc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Tc=function(){function e(){ya(this,e)}return ka(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Cc=(ie(Qs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ie(Qs,"MISSING_CUSTOM_TOKEN","internal-error"),ie(Qs,"INVALID_IDENTIFIER","invalid-email"),ie(Qs,"MISSING_CONTINUE_URI","internal-error"),ie(Qs,"INVALID_PASSWORD","wrong-password"),ie(Qs,"MISSING_PASSWORD","internal-error"),ie(Qs,"EMAIL_EXISTS","email-already-in-use"),ie(Qs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ie(Qs,"INVALID_IDP_RESPONSE","invalid-credential"),ie(Qs,"INVALID_PENDING_TOKEN","invalid-credential"),ie(Qs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ie(Qs,"MISSING_REQ_TYPE","internal-error"),ie(Qs,"EMAIL_NOT_FOUND","user-not-found"),ie(Qs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ie(Qs,"EXPIRED_OOB_CODE","expired-action-code"),ie(Qs,"INVALID_OOB_CODE","invalid-action-code"),ie(Qs,"MISSING_OOB_CODE","internal-error"),ie(Qs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ie(Qs,"INVALID_ID_TOKEN","invalid-user-token"),ie(Qs,"TOKEN_EXPIRED","user-token-expired"),ie(Qs,"USER_NOT_FOUND","user-token-expired"),ie(Qs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ie(Qs,"INVALID_CODE","invalid-verification-code"),ie(Qs,"INVALID_SESSION_INFO","invalid-verification-id"),ie(Qs,"INVALID_TEMPORARY_PROOF","invalid-credential"),ie(Qs,"MISSING_SESSION_INFO","missing-verification-id"),ie(Qs,"SESSION_EXPIRED","code-expired"),ie(Qs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ie(Qs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ie(Qs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ie(Qs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ie(Qs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ie(Qs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ie(Qs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ie(Qs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ie(Qs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ie(Qs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ie(Qs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qs),Ac=new Sc(3e4,6e4);function Nc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Pc(e,t,n,r){return Dc.apply(this,arguments)}function Dc(){return Dc=wu(gu().mark((function e(t,n,r,i){var a,o=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Rc(t,a,wu(gu().mark((function e(){var a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=fu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Tc.fetch()(Fc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Rc(e,t,n){return Oc.apply(this,arguments)}function Oc(){return(Oc=wu(gu().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Cc),n),e.prev=2,a=new jc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Uc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Uc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Uc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Uc(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw pc(t,p,d);case 34:hc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof iu)){e.next=41;break}throw e.t0;case 41:hc(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Lc(e,t,n,r){return Mc.apply(this,arguments)}function Mc(){return Mc=wu(gu().mark((function e(t,n,r,i){var a,o,u=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Pc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&hc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ec(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var jc=function(){function e(t){var n=this;ya(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(dc(n.auth,"network-request-failed"))}),Ac.get())}))}return ka(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Uc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=dc(e,t,r);return i.customData._tokenResponse=n,i}function Vc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e,t){return qc.apply(this,arguments)}function qc(){return(qc=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hc(){return Hc=wu(gu().mark((function e(t){var n,r,i,a,o,u,s=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=yu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,yc((a=$c(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Wc(Qc(a.auth_time)),issuedAtTime:Wc(Qc(a.iat)),expirationTime:Wc(Qc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(e){return 1e3*Number(e)}function $c(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return fc("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ho(r);return a?JSON.parse(a):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o),null}}function Jc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=wu(gu().mark((function e(t,n){var r=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof iu&&Xc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yc.apply(this,arguments)}function Xc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Zc=function(){function e(t){ya(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ka(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),el=function(){function e(t,n){ya(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ka(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function tl(e){return nl.apply(this,arguments)}function nl(){return nl=wu(gu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jc(t,Kc(r,{idToken:i}));case 6:yc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?al(o.providerUserInfo):[],s=il(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new el(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(){return(rl=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yu(t),e.next=3,tl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ma(n),ma(t))}function al(e){return e.map((function(e){var t=e.providerId,n=Hs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ol(e,t){return ul.apply(this,arguments)}function ul(){return(ul=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc(t,{},wu(gu().mark((function e(){var r,i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Fc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Tc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sl=function(){function e(){ya(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ka(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){yc(e.idToken,"internal-error"),yc("undefined"!==typeof e.idToken,"internal-error"),yc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$c(e);return yc(t,"internal-error"),yc("undefined"!==typeof t.exp,"internal-error"),yc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=wu(gu().mark((function e(t){var n,r=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],yc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return gc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(yc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(yc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(yc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cl(e,t){yc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ll=function(){function e(t){ya(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Hs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ma(a.providerData):[],this.metadata=new el(a.createdAt||void 0,a.lastLoginAt||void 0)}return ka(e,[{key:"getIdToken",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(yc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return rl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(yc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){yc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=wu(gu().mark((function e(t){var n,r,i=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,tl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jc(this,Vc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;yc(k&&_,t,"internal-error");var I=sl.fromJSON(this.name,_);yc("string"===typeof k,t,"internal-error"),cl(f,t.name),cl(h,t.name),yc("boolean"===typeof w,t,"internal-error"),yc("boolean"===typeof b,t,"internal-error"),cl(d,t.name),cl(p,t.name),cl(v,t.name),cl(m,t.name),cl(y,t.name),cl(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=wu(gu().mark((function t(n,r){var i,a,o,u=arguments;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new sl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,tl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fl=function(){function e(){ya(this,e),this.type="NONE",this.storage={}}return ka(e,[{key:"_isAvailable",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fl.type="NONE";var hl=fl;function dl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pl=function(){function e(t,n,r){ya(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=dl(this.userKey,a.apiKey,o),this.fullPersistenceKey=dl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ka(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ll._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=wu(gu().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(bc(hl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||bc(hl),u=dl(i,n.config.apiKey,n.name),s=null,c=Bo(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ll._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ml(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bl(t))return"Blackberry";if(xl(t))return"Webos";if(yl(t))return"Safari";if((t.includes("chrome/")||gl(t))&&!t.includes("edge/"))return"Chrome";if(wl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/firefox\//i.test(e)}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/crios\//i.test(e)}function kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/iemobile/i.test(e)}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/android/i.test(e)}function bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/blackberry/i.test(e)}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/webos/i.test(e)}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/iphone|ipad|ipod/i.test(e)}function Il(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return _l(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Sl(){return nu()&&10===document.documentMode}function El(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return _l(e)||wl(e)||xl(e)||bl(e)||/windows phone/i.test(e)||kl(e)}function Tl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vl(Yo());break;case"Worker":t="".concat(vl(Yo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ps,"/").concat(r)}var Cl=function(){function e(t){ya(this,e),this.auth=t,this.queue=[]}return ka(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=wu(gu().mark((function e(t){var n,r,i,a,o,u,s,c;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Bo(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Bo(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(Ie){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Al=function(){function e(t,n,r){ya(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pl(this),this.idTokenSubscription=new Pl(this),this.beforeStateQueue=new Cl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ka(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=bc(t)),this._initializationPromise=this.queue(wu(gu().mark((function r(){var i,a;return gu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=wu(gu().mark((function e(t){var n,r,i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return yc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?yu(t):null)&&yc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=wu(gu().mark((function e(t){var n,r=this,i=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&yc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(wu(gu().mark((function n(){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(bc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new au("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return yc(n=t&&bc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pl.create(this,[bc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=wu(gu().mark((function e(t){var n=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return yc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=wu(gu().mark((function e(){var t,n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nl(e){return yu(e)}var Pl=function(){function e(t){var n=this;ya(this,e),this.auth=t,this.observer=null,this.addObserver=pu((function(e){return n.observer=e}))}return ka(e,[{key:"next",get:function(){return yc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Dl(e,t,n){var r=Nl(e);yc(r._canInitEmulator,r,"emulator-config-failed"),yc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Rl(t),o=function(e){var t=Rl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ol(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Ol(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Rl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ol(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ll=function(){function e(t,n){ya(this,e),this.providerId=t,this.signInMethod=n}return ka(e,[{key:"toJSON",value:function(){return gc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return gc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return gc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return gc("not implemented")}}]),e}();function Ml(e,t){return Fl.apply(this,arguments)}function Fl(){return(Fl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:resetPassword",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:update",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithPassword",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Gl.apply(this,arguments)}function Gl(){return(Gl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:sendOobCode",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e,t){return $l.apply(this,arguments)}function $l(){return($l=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return(tf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithEmailLink",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return(rf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithEmailLink",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var af=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ya(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ka(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ef(t,{email:this._email,oobCode:this._password}));case 5:hc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",jl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",nf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:hc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ll);function of(e,t){return uf.apply(this,arguments)}function uf(){return(uf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithIdp",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sf=function(e){sa(n,e);var t=pa(n);function n(){var e;return ya(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ka(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return of(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,of(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,of(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Hs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ll);function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:sendVerificationCode",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(){return(ff=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithPhoneNumber",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(){return(hf=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc(t,"POST","/v1/accounts:signInWithPhoneNumber",Nc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Uc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var df=ie({},"USER_NOT_FOUND","user-not-found");function pf(){return(pf=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithPhoneNumber",Nc(t,r),df));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vf=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ka(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ff.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return hf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return pf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ll);var mf=function(){function e(t){var n,r,i,a,o,u;ya(this,e);var s=hu(du(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);yc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ka(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=hu(du(e)).link,n=t?hu(du(t)).deep_link_id:null,r=hu(du(e)).deep_link_id;return(r?hu(du(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SN){return null}}}]),e}();var yf=function(){function e(){ya(this,e),this.providerId=e.PROVIDER_ID}return ka(e,null,[{key:"credential",value:function(e,t){return af._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mf.parseLink(t);return yc(n,"argument-error"),af._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yf.PROVIDER_ID="password",yf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gf=function(){function e(t){ya(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ka(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),kf=function(e){sa(n,e);var t=pa(n);function n(){var e;return ya(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ka(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ma(this.scopes)}}]),n}(gf),wf=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return yc(e.idToken||e.accessToken,"argument-error"),sf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return yc("providerId"in t&&"signInMethod"in t,"argument-error"),sf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(kf),bf=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.call(this,"facebook.com")}return ka(n,null,[{key:"credential",value:function(e){return sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SN){return null}}}]),n}(kf);bf.FACEBOOK_SIGN_IN_METHOD="facebook.com",bf.PROVIDER_ID="facebook.com";var xf=function(e){sa(n,e);var t=pa(n);function n(){var e;return ya(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ka(n,null,[{key:"credential",value:function(e,t){return sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SN){return null}}}]),n}(kf);xf.GOOGLE_SIGN_IN_METHOD="google.com",xf.PROVIDER_ID="google.com";var _f=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.call(this,"github.com")}return ka(n,null,[{key:"credential",value:function(e){return sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SN){return null}}}]),n}(kf);_f.GITHUB_SIGN_IN_METHOD="github.com",_f.PROVIDER_ID="github.com";var If=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ka(n,[{key:"_getIdTokenResponse",value:function(e){return of(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,of(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,of(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ll),Sf=function(e){sa(n,e);var t=pa(n);function n(e){return ya(this,n),yc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ka(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=If.fromJSON(e);return yc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return If._create(r,n)}catch(i){return null}}}]),n}(gf),Ef=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.call(this,"twitter.com")}return ka(n,null,[{key:"credential",value:function(e,t){return sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SN){return null}}}]),n}(kf);function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return(Cf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signUp",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ef.TWITTER_SIGN_IN_METHOD="twitter.com",Ef.PROVIDER_ID="twitter.com";var Af=function(){function e(t){ya(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ka(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=wu(gu().mark((function t(n,r,i){var a,o,u,s,c=arguments;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ll._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Nf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=wu(gu().mark((function t(n,r,i){var a;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Nf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Nf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Pf(){return Pf=wu(gu().mark((function e(t){var n,r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Af({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Tf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Af._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}var Df=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a){var o,u;return ya(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ha(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ka(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(iu);function Rf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Df._fromErrorAndOperation(e,n,t,r);throw n}))}function Of(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yu(t),e.next=3,Uf(!0,r,n);case 3:return e.t0=zc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Of(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e,t){return jf.apply(this,arguments)}function jf(){return jf=wu(gu().mark((function e(t,n){var r,i,a=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Af._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Uf(e,t,n){return Vf.apply(this,arguments)}function Vf(){return(Vf=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl(n);case 2:i=Of(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",yc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(e,t){return zf.apply(this,arguments)}function zf(){return zf=wu(gu().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Jc(t,Rf(i,a,n,t),r);case 6:return yc((o=e.sent).idToken,i,"internal-error"),yc(u=$c(o.idToken),i,"internal-error"),s=u.sub,yc(t.uid===s,i,"user-mismatch"),e.abrupt("return",Af._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&hc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),zf.apply(this,arguments)}function qf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=wu(gu().mark((function e(t,n){var r,i,a,o,u=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Rf(t,i,n);case 4:return a=e.sent,e.next=7,Af._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(Nl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return(Qf=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yu(t),e.next=3,Uf(!1,r,n.providerId);case 3:return e.abrupt("return",Ff(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(yu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:signInWithCustomToken",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(){return(Zf=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t),e.next=3,Yf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Af._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var eh=function(){function e(t,n){ya(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ka(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?th._fromServerResponse(e,t):hc(e,"internal-error")}}]),e}(),th=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ka(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(eh);function nh(e,t,n){var r;yc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function rh(){return(rh=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),a={requestType:"PASSWORD_RESET",email:n},r&&nh(i,a,r),e.next=5,Ql(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(){return(ih=wu(gu().mark((function e(t,n,r){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ml(yu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(){return(ah=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(yu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e,t){return uh.apply(this,arguments)}function uh(){return(uh=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yu(t),e.next=3,Ml(r,{oobCode:n});case 3:i=e.sent,yc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return yc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:yc(i.mfaInfo,r,"internal-error");case 13:yc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=eh._fromServerResponse(Nl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(){return(sh=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oh(yu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return(lh=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),e.next=3,Tf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Af._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(){return(fh=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),a={requestType:"EMAIL_SIGNIN",email:n},yc(r.handleCodeInApp,i,"argument-error"),r&&nh(i,a,r),e.next=6,Jl(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return(hh=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),yc((a=yf.credentialWithLink(n,r||xc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Gf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return(ph=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:createAuthUri",Nc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(){return(vh=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_c()?xc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,dh(yu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(){return(mh=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&nh(r.auth,a,n),e.next=8,Wl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(){return(yh=wu(gu().mark((function e(t,n,r){var i,a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&nh(i.auth,o,r),e.next=8,Xl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wh(){return(wh=wu(gu().mark((function e(t,n){var r,i,a,o,u,s,c;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=yu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jc(a,gh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t,n){return xh.apply(this,arguments)}function xh(){return(xh=wu(gu().mark((function e(t,n,r){var i,a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jc(t,jl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _h=ka((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ya(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ih=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a){var o;return ya(this,n),(o=t.call(this,e,r,i)).username=a,o}return ka(n)}(_h),Sh=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"facebook.com",r)}return ka(n)}(_h),Eh=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ka(n)}(Ih),Th=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"google.com",r)}return ka(n)}(_h),Ch=function(e){sa(n,e);var t=pa(n);function n(e,r,i){return ya(this,n),t.call(this,e,"twitter.com",r,i)}return ka(n)}(Ih);function Ah(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$c(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new _h(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Sh(a,i);case"github.com":return new Eh(a,i);case"google.com":return new Th(a,i);case"twitter.com":return new Ch(a,i,e.screenName||null);case"custom":case"anonymous":return new _h(a,null);default:return new _h(a,r,i)}}(n)}var Nh=function(){function e(t,n){ya(this,e),this.type=t,this.credential=n}return ka(e,[{key:"toJSON",value:function(){return{multiFactorSession:ie({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ph=function(){function e(t,n,r){ya(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ka(e,[{key:"resolveSignIn",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Nl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return eh._fromServerResponse(r,e)}));yc(i.mfaPendingCredential,r,"internal-error");var o=Nh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=wu(gu().mark((function e(t){var a,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Af._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return yc(n.user,r,"internal-error"),e.abrupt("return",Af._forOperation(n.user,n.operationType,u));case 17:hc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Dh(e,t){return Pc(e,"POST","/v2/accounts/mfaEnrollment:start",Nc(e,t))}var Rh=function(){function e(t){var n=this;ya(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return eh._fromServerResponse(t.auth,e)})))}))}return ka(e,[{key:"getSession",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Nh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=wu(gu().mark((function e(t){var n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Jc(this.user,Pc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Nc(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Oh=new WeakMap;var Lh="__sak",Mh=function(){function e(t,n){ya(this,e),this.storageRetriever=t,this.type=n}return ka(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch(SN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Fh=function(e){sa(n,e);var t=pa(n);function n(){var e;return ya(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Yo();return yl(e)||_l(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=El(),e._shouldAllowMigration=!0,e}return ka(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Sl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=wu(gu().mark((function e(t,r){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(ca(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wu(gu().mark((function e(t){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(ca(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(ca(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Mh);Fh.type="LOCAL";var jh=Fh,Uh=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ka(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Mh);Uh.type="SESSION";var Vh=Uh;function Bh(e){return Promise.all(e.map(function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zh=function(){function e(t){ya(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ka(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=wu(gu().mark((function e(t){var n,r,i,a,o,u,s,c;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zh.receivers=[];var Kh=function(){function e(t){ya(this,e),this.target=t,this.handlers=new Set}return ka(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=wu(gu().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gh(){return window}function Wh(){return"undefined"!==typeof Gh().WorkerGlobalScope&&"function"===typeof Gh().importScripts}function Hh(){return Qh.apply(this,arguments)}function Qh(){return(Qh=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $h(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Jh="firebaseLocalStorageDb",Yh="firebaseLocalStorage",Xh="fbase_key",Zh=function(){function e(t){ya(this,e),this.request=t}return ka(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ed(e,t){return e.transaction([Yh],t?"readwrite":"readonly").objectStore(Yh)}function td(){var e=indexedDB.deleteDatabase(Jh);return new Zh(e).toPromise()}function nd(){var e=indexedDB.open(Jh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Yh,{keyPath:Xh})}catch(r){n(r)}})),e.addEventListener("success",wu(gu().mark((function n(){var r;return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Yh)){n.next=12;break}return r.close(),n.next=5,td();case 5:return n.t0=t,n.next=8,nd();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rd(e,t,n){return id.apply(this,arguments)}function id(){return id=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ed(t,!0).put((ie(i={},Xh,n),ie(i,"value",r),i)),e.abrupt("return",new Zh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ed(t,!1).get(n),e.next=3,new Zh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(e,t){var n=ed(e,!0).delete(t);return new Zh(n).toPromise()}var sd=function(){function e(){ya(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ka(e,[{key:"_openDb",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,nd();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=wu(gu().mark((function e(){var t=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zh._getInstance(Wh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=wu(gu().mark((function e(n,r){var i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=wu(gu().mark((function e(){var t,n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Kh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$h()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,nd();case 5:return t=e.sent,e.next=8,rd(t,Lh,"1");case 8:return e.next=10,ud(t,Lh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wu(gu().mark((function e(t,n){var r=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ad(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wu(gu().mark((function e(t){var n=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ud(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ed(e,!1).getAll();return new Zh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Bo(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sd.type="LOCAL";var cd=sd;function ld(e,t){return Pc(e,"POST","/v2/accounts/mfaSignIn:start",Nc(e,t))}function fd(e){return hd.apply(this,arguments)}function hd(){return(hd=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=dc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function pd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vd=1e12,md=function(){function e(t){ya(this,e),this.auth=t,this.counter=vd,this._widgets=new Map}return ka(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new yd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yd=function(){function e(t,n,r){var i=this;ya(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;yc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ka(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var gd=pd("rcb"),kd=new Sc(3e4,6e4),wd="https://www.google.com/recaptcha/api.js?",bd=function(){function e(){ya(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gh().grecaptcha}return ka(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yc(xd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gh().grecaptcha):new Promise((function(r,i){var a=Gh().setTimeout((function(){i(dc(e,"network-request-failed"))}),kd.get());Gh()[gd]=function(){Gh().clearTimeout(a),delete Gh()[gd];var o=Gh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(dc(e,"internal-error"))},dd("".concat(wd,"?").concat(fu({onload:gd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(dc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gh().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function xd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var _d=function(){function e(){ya(this,e)}return ka(e,[{key:"load",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new md(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Id="recaptcha",Sd={theme:"light",type:"image"},Ed=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Sd),r=arguments.length>2?arguments[2]:void 0;ya(this,e),this.parameters=n,this.type=Id,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nl(r),this.isInvisible="invisible"===this.parameters.size,yc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;yc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _d:new bd,this.validateStartingState()}return ka(e,[{key:"verify",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){yc(!this.parameters.sitekey,this.auth,"argument-error"),yc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){yc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=wu(gu().mark((function e(){var t,n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yc(_c()&&!Wh(),this.auth,"internal-error"),e.next=3,Td();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,fd(this.auth);case 8:yc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return yc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Td(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Cd=function(){function e(t,n){ya(this,e),this.verificationId=t,this.onConfirmation=n}return ka(e,[{key:"confirm",value:function(e){var t=vf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ad(){return(Ad=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),e.next=3,Rd(i,n,yu(r));case 3:return a=e.sent,e.abrupt("return",new Cd(a,(function(e){return Gf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(e,t,n){return Pd.apply(this,arguments)}function Pd(){return(Pd=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),e.next=3,Uf(!1,i,"phone");case 3:return e.next=5,Rd(i.auth,n,yu(r));case 5:return a=e.sent,e.abrupt("return",new Cd(a,(function(e){return Hf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dd(){return(Dd=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yu(t),e.next=3,Rd(i.auth,n,yu(r));case 3:return a=e.sent,e.abrupt("return",new Cd(a,(function(e){return $f(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=wu(gu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,yc("string"===typeof a,t,"argument-error"),yc(r.type===Id,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return yc("enroll"===u.type,t,"internal-error"),e.next=13,Dh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return yc("signin"===u.type,t,"internal-error"),yc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ld(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,cf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Od.apply(this,arguments)}function Ld(){return(Ld=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ff(yu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Md=function(){function e(t){ya(this,e),this.providerId=e.PROVIDER_ID,this.auth=Nl(t)}return ka(e,[{key:"verifyPhoneNumber",value:function(e,t){return Rd(this.auth,e,yu(t))}}],[{key:"credential",value:function(e,t){return vf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vf._fromTokenResponse(n,r):null}}]),e}();function Fd(e,t){return t?bc(t):(yc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Md.PROVIDER_ID="phone",Md.PHONE_SIGN_IN_METHOD="phone";var jd=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ka(n,[{key:"_getIdTokenResponse",value:function(e){return of(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return of(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return of(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ll);function Ud(e){return qf(e.auth,new jd(e),e.bypassAuthState)}function Vd(e){var t=e.auth,n=e.user;return yc(n,t,"internal-error"),Bf(n,new jd(e),e.bypassAuthState)}function Bd(e){return zd.apply(this,arguments)}function zd(){return(zd=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,yc(r=t.user,n,"internal-error"),e.abrupt("return",Ff(r,new jd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ya(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ka(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=wu(gu().mark((function t(n,r){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=wu(gu().mark((function e(t){var n,r,i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ud;case"linkViaPopup":case"linkViaRedirect":return Bd;case"reauthViaPopup":case"reauthViaRedirect":return Vd;default:hc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Kd=new Sc(2e3,1e4);function Gd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return(Wd=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),vc(t,n,gf),a=Fd(i,r),o=new Jd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hd(){return(Hd=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc((i=yu(t)).auth,n,gf),a=Fd(i.auth,r),o=new Jd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qd(e,t,n){return $d.apply(this,arguments)}function $d(){return($d=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc((i=yu(t)).auth,n,gf),a=Fd(i.auth,r),o=new Jd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jd=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a,o){var u;return ya(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ha(u),u}return ka(n,[{key:"executeNotNull",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return yc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wu(gu().mark((function e(){var t,n=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc(1===this.filter.length,"Popup operations only handle one event"),t=qh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(dc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(dc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(dc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Kd.get())}()}}]),n}(qd);Jd.currentPopupAction=null;var Yd=new Map,Xd=function(e){sa(n,e);var t=pa(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ya(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ka(n,[{key:"execute",value:function(){var e=wu(gu().mark((function e(){var t,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Yd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Zd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ws(ca(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Yd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Yd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=wu(gu().mark((function e(t){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ws(ca(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ws(ca(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(qd);function Zd(e,t){return ep.apply(this,arguments)}function ep(){return(ep=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(n),i=ip(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tp(e,t){return np.apply(this,arguments)}function np(){return(np=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ip(t)._set(ap(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rp(e,t){Yd.set(e._key(),t)}function ip(e){return bc(e._redirectPersistence)}function ap(e){return dl("pendingRedirect",e.config.apiKey,e.name)}function op(e,t,n){return function(e,t,n){return up.apply(this,arguments)}(e,t,n)}function up(){return(up=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nl(t),vc(t,n,gf),a=Fd(i,r),e.next=5,tp(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sp(e,t,n){return function(e,t,n){return cp.apply(this,arguments)}(e,t,n)}function cp(){return(cp=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc((i=yu(t)).auth,n,gf),a=Fd(i.auth,r),e.next=5,tp(a,i.auth);case 5:return e.next=7,mp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lp(e,t,n){return function(e,t,n){return fp.apply(this,arguments)}(e,t,n)}function fp(){return(fp=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vc((i=yu(t)).auth,n,gf),a=Fd(i.auth,r),e.next=5,Uf(!1,i,n.providerId);case 5:return e.next=7,tp(a,i.auth);case 7:return e.next=9,mp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hp(e,t){return dp.apply(this,arguments)}function dp(){return(dp=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t)._initializationPromise;case 2:return e.abrupt("return",pp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=wu(gu().mark((function e(t,n){var r,i,a,o,u,s=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Nl(t),a=Fd(i,n),o=new Xd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e){return yp.apply(this,arguments)}function yp(){return(yp=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gp=function(){function e(t){ya(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ka(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!wp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function wp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bp(e){return xp.apply(this,arguments)}function xp(){return xp=wu(gu().mark((function e(t){var n,r=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Pc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}var _p=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ip=/^https?/;function Sp(){return(Sp=wu(gu().mark((function e(t){var n,r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bp(t);case 4:n=e.sent,r=n.authorizedDomains,i=Bo(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ep(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:hc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Ep(e){var t=xc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ip.test(r))return!1;if(_p.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tp=new Sc(3e4,6e4);function Cp(){var e=Gh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ma(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ap=null;function Np(e){return Ap=Ap||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cp(),n(dc(e,"network-request-failed"))},timeout:Tp.get()})}if(null===(i=null===(r=Gh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gh().gapi)||void 0===a?void 0:a.load)){var u=pd("iframefcb");return Gh()[u]=function(){gapi.load?o():n(dc(e,"network-request-failed"))},dd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ap=null,e}))}(e),Ap}var Pp=new Sc(5e3,15e3),Dp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Op(e){var t=e.config;yc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ec(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ps},i=Rp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(fu(r).slice(1))}function Lp(e){return Mp.apply(this,arguments)}function Mp(){return Mp=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Np(t);case 2:return n=e.sent,yc(r=Gh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Op(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dp,dontclear:!0},(function(e){return new Promise(function(){var n=wu(gu().mark((function n(r,i){var a,o,u;return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=dc(t,"network-request-failed"),o=Gh().setTimeout((function(){i(a)}),Pp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}var Fp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jp="_blank",Up="http://localhost",Vp=function(){function e(t){ya(this,e),this.window=t,this.associatedEvent=null}return ka(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Fp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Yo().toLowerCase();n&&(u=gl(l)?jp:n),ml(l)&&(t=t||Up,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Il(l)&&"_self"!==u)return zp(t||"",u),new Vp(null);var h=window.open(t||"",u,f);yc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Vp(h)}function zp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qp="__/auth/handler",Kp="emulator/auth/handler";function Gp(e,t,n,r,i,a){yc(e.config.authDomain,e,"auth-domain-config-required"),yc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ps,eventId:i};if(t instanceof gf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof kf){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qp);return Ec(t,Kp)}(e),"?").concat(fu(p).slice(1))}var Wp="webStorageSupport",Hp=function(){function e(){ya(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vh,this._completeRedirectFn=pp,this._overrideRedirectResult=rp}return ka(e,[{key:"_openPopup",value:function(){var e=wu(gu().mark((function e(t,n,r,i){var a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gp(t,n,r,xc(),i),e.abrupt("return",Bp(t,o,qh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wu(gu().mark((function e(t,n,r,i){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gp(t,n,r,xc(),i),Gh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(kc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lp(t);case 2:return n=e.sent,r=new gp(t),n.register("authEvent",(function(e){return yc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Wp,{type:Wp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),hc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return El()||yl()||_l()}}]),e}(),Qp=Hp,$p=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this,"phone")).credential=e,r}return ka(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Pc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Pc(e,"POST","/v2/accounts/mfaSignIn:finalize",Nc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){ya(this,e),this.factorId=t}return ka(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return gc("unexpected MultiFactorSessionType")}}}]),e}()),Jp=function(){function e(){ya(this,e)}return ka(e,null,[{key:"assertion",value:function(e){return $p._fromCredential(e)}}]),e}();Jp.FACTOR_ID="phone";var Yp,Xp="@firebase/auth",Zp="0.20.3",ev=function(){function e(t){ya(this,e),this.auth=t,this.internalListeners=new Map}return ka(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){yc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function tv(){return window}Yp="Browser",us(new bu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){yc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),yc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Yp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tl(Yp)},i=new Al(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),us(new bu("auth-internal",(function(e){return function(e){return new ev(e)}(Nl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Xp,Zp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Yp)),ws(Xp,Zp,"esm2017");function nv(e,t,n){return rv.apply(this,arguments)}function rv(){return rv=wu(gu().mark((function e(t,n,r){var i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tv(),o=a.BuildInfo,kc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cv(n.sessionId);case 4:return u=e.sent,s={},_l()?s.ibi=o.packageName:wl()?s.apn=o.packageName:hc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Gp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(){return(iv=wu(gu().mark((function e(t){var n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tv(),r=n.BuildInfo,i={},_l()?i.iosBundleId=r.packageName:wl()?i.androidPackageName=r.packageName:hc(t,"operation-not-supported-in-this-environment"),e.next=5,bp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function av(e){var t=tv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ov(e,t,n){return uv.apply(this,arguments)}function uv(){return uv=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(dc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),wl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),uv.apply(this,arguments)}function sv(e){var t,n,r,i,a,o,u,s,c,l,f=tv();yc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cv(e){return lv.apply(this,arguments)}function lv(){return(lv=wu(gu().mark((function e(t){var n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fv(e){if(kc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hv=function(e){sa(n,e);var t=pa(n);function n(){var e;return ya(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ka(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ws(ca(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gp);function dv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:gv(),postBody:null,tenantId:e.tenantId,error:dc(e,"no-auth-event")}}function pv(e,t){return kv()._set(wv(e),t)}function vv(e){return mv.apply(this,arguments)}function mv(){return(mv=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kv()._get(wv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kv()._remove(wv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yv(e,t){var n,r,i=function(e){var t=bv(e),n=t.link?decodeURIComponent(t.link):void 0,r=bv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return bv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=bv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?dc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function gv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kv(){return bc(jh)}function wv(e){return dl("authEvent",e.config.apiKey,e.name)}function bv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||va(t)||u(t)||s();r[0];return hu(r.slice(1).join("?"))}var xv=function(){function e(){ya(this,e),this._redirectPersistence=Vh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pp,this._overrideRedirectResult=rp}return ka(e,[{key:"_initialize",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){hc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=wu(gu().mark((function e(t,n,r,i){var a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Yd.clear(),e.next=10,this._originValidation(t);case 10:return o=dv(t,r,i),e.next=13,pv(t,o);case 13:return e.next=15,nv(t,o,n);case 15:return u=e.sent,e.next=18,av(u);case 18:return s=e.sent,e.abrupt("return",ov(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return iv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=tv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(wu(gu().mark((function n(){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vv(e);case 2:t.onEvent(Iv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=wu(gu().mark((function n(r){var i,a;return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,vv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=yv(i,r.url)),t.onEvent(a||Iv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");tv().handleOpenURL=function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),_v=xv;function Iv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:dc("no-auth-event")}}function Sv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return!("file:"!==Sv()&&"ionic:"!==Sv()&&"capacitor:"!==Sv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tv(){return nu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Cv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return/Edge\/\d+/.test(e)}function Av(){try{var e=self.localStorage,t=qh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo();return Tv()||Cv(e)}()||ru()}catch(n){return Nv()&&ru()}return!1}function Nv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Pv(){return("http:"===Sv()||"https:"===Sv()||eu()||Ev())&&!(tu()||Zo())&&Av()&&!Nv()}function Dv(){return Ev()&&"undefined"!==typeof document}function Rv(){return Ov.apply(this,arguments)}function Ov(){return(Ov=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lv={LOCAL:"local",NONE:"none",SESSION:"session"},Mv=yc,Fv="persistence";function jv(e,t){Mv(Object.values(Lv).includes(t),e,"invalid-persistence-type"),tu()?Mv(t!==Lv.SESSION,e,"unsupported-persistence-type"):Zo()?Mv(t===Lv.NONE,e,"unsupported-persistence-type"):Nv()?Mv(t===Lv.NONE||t===Lv.LOCAL&&ru(),e,"unsupported-persistence-type"):Mv(t===Lv.NONE||Av(),e,"unsupported-persistence-type")}function Uv(e){return Vv.apply(this,arguments)}function Vv(){return(Vv=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Bv(),r=dl(Fv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var zv=yc,qv=function(){function e(){ya(this,e),this.browserResolver=bc(Qp),this.cordovaResolver=bc(_v),this.underlyingResolver=null,this._redirectPersistence=Vh,this._completeRedirectFn=pp,this._overrideRedirectResult=rp}return ka(e,[{key:"_initialize",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=wu(gu().mark((function e(t,n,r,i){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wu(gu().mark((function e(t,n,r,i){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Dv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return zv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kv(e){return e.unwrap()}function Gv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Jv(e,function(e,t){var n,r=yu(e),i=t;return yc(t.customData.operationType,r,"argument-error"),yc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ph._fromError(r,i)}(e,t));else if(r){var i=Wv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Wv(e){var t=(e instanceof iu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof iu)&&"temporaryProof"in t&&"phoneNumber"in t)return Md.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Xs)return null;switch(r){case Ys:n=xf;break;case $s:n=bf;break;case Js:n=_f;break;case Zs:n=Ef;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?If._create(r,u):sf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new wf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof iu?n.credentialFromError(e):n.credentialFromResult(e)}function Hv(e,t){return t.catch((function(t){throw t instanceof iu&&Gv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Wv(t)),additionalUserInfo:Ah(e),user:Yv.getOrCreate(r)}}))}function Qv(e,t){return $v.apply(this,arguments)}function $v(){return($v=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Hv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jv=function(){function e(t,n){ya(this,e),this.resolver=n,this.auth=t.wrapped()}return ka(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Hv(Kv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Yv=function(){function e(t){ya(this,e),this._delegate=t,this.multiFactor=function(e){var t=yu(e);return Oh.has(t)||Oh.set(t,Rh._fromUser(t)),Oh.get(t)}(t)}return ka(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hv(this.auth,Hf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qv(this.auth,Nd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hv(this.auth,Qd(this._delegate,t,qv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uv(Nl(this.auth));case 2:return e.abrupt("return",lp(this._delegate,t,qv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hv(this.auth,$f(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Qv(this.auth,function(e,t,n){return Dd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Hv(this.auth,function(e,t,n){return Hd.apply(this,arguments)}(this._delegate,e,qv))}},{key:"reauthenticateWithRedirect",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uv(Nl(this.auth));case 2:return e.abrupt("return",sp(this._delegate,t,qv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bh(yu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bh(yu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ld.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return wh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return yh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Yv.USER_MAP=new WeakMap;var Xv=yc,Zv=function(){function e(t,n){if(ya(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Xv(r,"invalid-api-key",{appName:t.name}),Xv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?qv:void 0;this._delegate=n.initialize({options:{persistence:tm(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uc),this.linkUnderlyingAuth()}return ka(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Yv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Dl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ah.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return oh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ih.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hv(this._delegate,ch(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return vh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv(Pv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hp(this._delegate,qv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Hv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Nl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=em(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=em(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return fh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return rh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jv(this._delegate,t),e.t0=t,e.next=e.t0===Lv.SESSION?4:e.t0===Lv.LOCAL?6:e.t0===Lv.NONE?11:13;break;case 4:return n=Vh,e.abrupt("break",14);case 6:return e.next=8,bc(cd)._isAvailable();case 8:return r=e.sent,n=r?cd:jh,e.abrupt("break",14);case 11:return n=hl,e.abrupt("break",14);case 13:return e.abrupt("return",hc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Hv(this._delegate,function(e){return Pf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Hv(this._delegate,Gf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Hv(this._delegate,function(e,t){return Zf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Hv(this._delegate,function(e,t,n){return Gf(yu(e),yf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Hv(this._delegate,function(e,t,n){return hh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Qv(this._delegate,function(e,t,n){return Ad.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv(Pv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Hv(this._delegate,Gd(this._delegate,t,qv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xv(Pv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Uv(this._delegate);case 3:return e.abrupt("return",op(this._delegate,t,qv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return sh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function em(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Yv.getOrCreate(e))},error:t,complete:n}}function tm(e,t){var n=function(e,t){var n=Bv();if(!n)return[];var r=dl(Fv,e,t);switch(n.getItem(r)){case Lv.NONE:return[hl];case Lv.LOCAL:return[cd,Vh];case Lv.SESSION:return[Vh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cd)||n.push(cd),"undefined"!==typeof window)for(var r=0,i=[jh,Vh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(hl)||n.push(hl),n}Zv.Persistence=Lv;var nm=function(){function e(){ya(this,e),this.providerId="phone",this._delegate=new Md(Kv(Ks.auth()))}return ka(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Md.credential(e,t)}}]),e}();nm.PHONE_SIGN_IN_METHOD=Md.PHONE_SIGN_IN_METHOD,nm.PROVIDER_ID=Md.PROVIDER_ID;var rm,im=yc,am=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ks.app();ya(this,e),im(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ed(t,n,i.auth()),this.type=this._delegate.type}return ka(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(rm=Ks).INTERNAL.registerComponent(new bu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ec,PASSWORD_RESET:tc,RECOVER_EMAIL:nc,REVERT_SECOND_FACTOR_ADDITION:rc,VERIFY_AND_CHANGE_EMAIL:ic,VERIFY_EMAIL:ac}},EmailAuthProvider:yf,FacebookAuthProvider:bf,GithubAuthProvider:_f,GoogleAuthProvider:xf,OAuthProvider:wf,SAMLAuthProvider:Sf,PhoneAuthProvider:nm,PhoneMultiFactorGenerator:Jp,RecaptchaVerifier:am,TwitterAuthProvider:Ef,Auth:Zv,AuthCredential:Ll,Error:iu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rm.registerVersion("@firebase/auth-compat","0.2.16");var om,um="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},sm={},cm=cm||{},lm=um||self;function fm(){}function hm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pm="closure_uid_"+(1e9*Math.random()>>>0),vm=0;function mm(e,t,n){return e.call.apply(e.bind,arguments)}function ym(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function gm(e,t,n){return(gm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mm:ym).apply(null,arguments)}function km(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function bm(){this.s=this.s,this.o=this.o}var xm={};bm.prototype.s=!1,bm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,pm)&&e[pm]||(e[pm]=++vm)}(this);delete xm[e]}},bm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _m=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Im=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Sm(e){return Array.prototype.concat.apply([],arguments)}function Em(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tm(e){return/^[\s\xa0]*$/.test(e)}var Cm,Am=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Nm(e,t){return-1!=e.indexOf(t)}function Pm(e,t){return e<t?-1:e>t?1:0}e:{var Dm=lm.navigator;if(Dm){var Rm=Dm.userAgent;if(Rm){Cm=Rm;break e}}Cm=""}function Om(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Lm(e){var t={};for(var n in e)t[n]=e[n];return t}var Mm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Mm.length;a++)n=Mm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function jm(e){return jm[" "](e),e}jm[" "]=fm;var Um,Vm=Nm(Cm,"Opera"),Bm=Nm(Cm,"Trident")||Nm(Cm,"MSIE"),zm=Nm(Cm,"Edge"),qm=zm||Bm,Km=Nm(Cm,"Gecko")&&!(Nm(Cm.toLowerCase(),"webkit")&&!Nm(Cm,"Edge"))&&!(Nm(Cm,"Trident")||Nm(Cm,"MSIE"))&&!Nm(Cm,"Edge"),Gm=Nm(Cm.toLowerCase(),"webkit")&&!Nm(Cm,"Edge");function Wm(){var e=lm.document;return e?e.documentMode:void 0}e:{var Hm="",Qm=function(){var e=Cm;return Km?/rv:([^\);]+)(\)|;)/.exec(e):zm?/Edge\/([\d\.]+)/.exec(e):Bm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gm?/WebKit\/(\S+)/.exec(e):Vm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qm&&(Hm=Qm?Qm[1]:""),Bm){var $m=Wm();if(null!=$m&&$m>parseFloat(Hm)){Um=String($m);break e}}Um=Hm}var Jm,Ym={};function Xm(){return function(e){var t=Ym;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Am(String(Um)).split("."),n=Am("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Pm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Pm(0==a[2].length,0==o[2].length)||Pm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(lm.document&&Bm){var Zm=Wm();Jm=Zm||(parseInt(Um,10)||void 0)}else Jm=void 0;var ey=Jm,ty=function(){if(!lm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{lm.addEventListener("test",fm,t),lm.removeEventListener("test",fm,t)}catch(n){}return e}();function ny(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ry(e,t){if(ny.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Km){e:{try{jm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:iy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ry.Z.h.call(this)}}ny.prototype.h=function(){this.defaultPrevented=!0},wm(ry,ny);var iy={2:"touch",3:"pen",4:"mouse"};ry.prototype.h=function(){ry.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ay="closure_listenable_"+(1e6*Math.random()|0),oy=0;function uy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++oy,this.ca=this.fa=!1}function sy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function cy(e){this.src=e,this.g={},this.h=0}function ly(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_m(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(sy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}cy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=fy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new uy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var hy="closure_lm_"+(1e6*Math.random()|0),dy={};function py(e,t,n,r,i){if(r&&r.once)return my(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)py(e,t[a],n,r,i);return null}return n=_y(n),e&&e[ay]?e.N(t,n,dm(r)?!!r.capture:!!r,i):vy(e,t,n,!1,r,i)}function vy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=dm(i)?!!i.capture:!!i,u=by(e);if(u||(e[hy]=u=new cy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ty||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ky(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function my(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)my(e,t[a],n,r,i);return null}return n=_y(n),e&&e[ay]?e.O(t,n,dm(r)?!!r.capture:!!r,i):vy(e,t,n,!0,r,i)}function yy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yy(e,t[a],n,r,i);else r=dm(r)?!!r.capture:!!r,n=_y(n),e&&e[ay]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fy(a=e.g[t],n,r,i))&&(sy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=by(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fy(t,n,r,i)),(n=-1<e?t[e]:null)&&gy(n))}function gy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ay])ly(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ky(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=by(t))?(ly(n,e),0==n.h&&(n.src=null,t[hy]=null)):sy(e)}}}function ky(e){return e in dy?dy[e]:dy[e]="on"+e}function wy(e,t){if(e.ca)e=!0;else{t=new ry(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&gy(e),e=n.call(r,t)}return e}function by(e){return(e=e[hy])instanceof cy?e:null}var xy="__closure_events_fn_"+(1e9*Math.random()>>>0);function _y(e){return"function"===typeof e?e:(e[xy]||(e[xy]=function(t){return e.handleEvent(t)}),e[xy])}function Iy(){bm.call(this),this.i=new cy(this),this.P=this,this.I=null}function Sy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ny(t,e);else if(t instanceof ny)t.target=t.target||e;else{var i=t;Fm(t=new ny(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ey(o,r,!0,t)&&i}if(i=Ey(o=t.g=e,r,!0,t)&&i,i=Ey(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ey(o=t.g=n[a],r,!1,t)&&i}function Ey(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ly(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wm(Iy,bm),Iy.prototype[ay]=!0,Iy.prototype.removeEventListener=function(e,t,n,r){yy(this,e,t,n,r)},Iy.prototype.M=function(){if(Iy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sy(n[r]);delete t.g[e],t.h--}}this.I=null},Iy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Iy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ty=lm.JSON.stringify;function Cy(){var e=My,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ay,Ny=function(){function e(){ya(this,e),this.h=this.g=null}return ka(e,[{key:"add",value:function(e,t){var n=Py.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Py=new(function(){function e(t,n){ya(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ka(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Dy}),(function(e){return e.reset()})),Dy=function(){function e(){ya(this,e),this.next=this.g=this.h=null}return ka(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ry(e){lm.setTimeout((function(){throw e}),0)}function Oy(e,t){Ay||function(){var e=lm.Promise.resolve(void 0);Ay=function(){e.then(Fy)}}(),Ly||(Ay(),Ly=!0),My.add(e,t)}var Ly=!1,My=new Ny;function Fy(){for(var e;e=Cy();){try{e.h.call(e.g)}catch(n){Ry(n)}var t=Py;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ly=!1}function jy(e,t){Iy.call(this),this.h=e||1,this.g=t||lm,this.j=gm(this.kb,this),this.l=Date.now()}function Uy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Vy(e,t,n){if("function"===typeof e)n&&(e=gm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gm(e.handleEvent,e)}return 2147483647<Number(t)?-1:lm.setTimeout(e,t||0)}function By(e){e.g=Vy((function(){e.g=null,e.i&&(e.i=!1,By(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wm(jy,Iy),(om=jy.prototype).da=!1,om.S=null,om.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Sy(this,"tick"),this.da&&(Uy(this),this.start()))}},om.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},om.M=function(){jy.Z.M.call(this),Uy(this),delete this.g};var zy=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ka(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:By(this)}},{key:"M",value:function(){Ws(ca(n.prototype),"M",this).call(this),this.g&&(lm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(bm);function qy(e){bm.call(this),this.h=e,this.g={}}wm(qy,bm);var Ky=[];function Gy(e,t,n,r){Array.isArray(n)||(n&&(Ky[0]=n.toString()),n=Ky);for(var i=0;i<n.length;i++){var a=py(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Wy(e){Om(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gy(e)}),e),e.g={}}function Hy(){this.g=!0}function Qy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ty(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}qy.prototype.M=function(){qy.Z.M.call(this),Wy(this)},qy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hy.prototype.Aa=function(){this.g=!1},Hy.prototype.info=function(){};var $y={},Jy=null;function Yy(){return Jy=Jy||new Iy}function Xy(e){ny.call(this,$y.Ma,e)}function Zy(e){var t=Yy();Sy(t,new Xy(t,e))}function eg(e,t){ny.call(this,$y.STAT_EVENT,e),this.stat=t}function tg(e){var t=Yy();Sy(t,new eg(t,e))}function ng(e,t){ny.call(this,$y.Na,e),this.size=t}function rg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return lm.setTimeout((function(){e()}),t)}$y.Ma="serverreachability",wm(Xy,ny),$y.STAT_EVENT="statevent",wm(eg,ny),$y.Na="timingevent",wm(ng,ny);var ig={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ag={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function og(){}function ug(e){return e.h||(e.h=e.i())}function sg(){}og.prototype.h=null;var cg,lg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fg(){ny.call(this,"d")}function hg(){ny.call(this,"c")}function dg(){}function pg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qy(this),this.P=mg,e=qm?125:void 0,this.W=new jy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vg}function vg(){this.i=null,this.g="",this.h=!1}wm(fg,ny),wm(hg,ny),wm(dg,og),dg.prototype.g=function(){return new XMLHttpRequest},dg.prototype.i=function(){return{}},cg=new dg;var mg=45e3,yg={},gg={};function kg(e,t,n){e.K=1,e.v=zg(Mg(t)),e.s=n,e.U=!0,wg(e,null)}function wg(e,t){e.F=Date.now(),Ig(e),e.A=Mg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),tk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new vg,e.g=rw(e.l,n?t:null,!e.s),0<e.O&&(e.L=new zy(gm(e.Ia,e,e.g),e.O)),Gy(e.V,e.g,"readystatechange",e.gb),t=e.H?Lm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Zy(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_g(e,n))==gg){4==t&&(e.o=4,tg(14),i=!1),Qy(e.j,e.m,null,"[Incomplete Response]");break}if(r==yg){e.o=4,tg(15),Qy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Qy(e.j,e.m,r,null),Ag(e,r)}bg(e)&&r!=gg&&r!=yg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$k(t),t.L=!0,tg(11))):(Qy(e.j,e.m,n,"[Invalid Chunked Response]"),Cg(e),Tg(e))}function _g(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gg:(n=Number(t.substring(n,r)),isNaN(n)?yg:(r+=1)+n>t.length?gg:(t=t.substr(r,n),e.C=r+n,t))}function Ig(e){e.Y=Date.now()+e.P,Sg(e,e.P)}function Sg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rg(gm(e.eb,e),t)}function Eg(e){e.B&&(lm.clearTimeout(e.B),e.B=null)}function Tg(e){0==e.l.G||e.I||Xk(e.l,e)}function Cg(e){Eg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Uy(e.W),Wy(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ag(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ck(n.i,e)))if(n.I=e.N,!e.J&&ck(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Yk(n),Vk(n)}Qk(n),tg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=rg(gm(n.ab,n),6e3));if(1>=sk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ew(n,11)}else if((e.J||n.g==e)&&Yk(n),!Tm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Nm(l,"spdy")||Nm(l,"quic")||Nm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(lk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Bg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=nw(r,r.H?r.la:null,r.W),d.J){fk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Eg(p),Ig(p)),r.g=d}else Hk(r);0<n.l.length&&qk(n)}else"stop"!=a[0]&&"close"!=a[0]||ew(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ew(n,7):Uk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Zy(4)}catch(a){}}function Ng(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hm(e)||"string"===typeof e)Im(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(hm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(hm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Pg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Rg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Rg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Rg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(om=pg.prototype).setTimeout=function(e){this.P=e},om.gb=function(e){e=e.target;var t=this.L;t&&3==Ok(e)?t.l():this.Ia(e)},om.Ia=function(e){try{if(e==this.g)e:{var t=Ok(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||qm||this.g&&(this.h.h||this.g.ga()||Lk(this.g)))){this.I||4!=t||7==n||Zy(8==n||0>=r?3:2),Eg(this);var i=this.g.ba();this.N=i;t:if(bg(this)){var a=Lk(this.g);e="";var o=a.length,u=4==Ok(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cg(this),Tg(this);var s="";break t}this.h.i=new lm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,tg(12),Cg(this),Tg(this);break e}Qy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ag(this,i)}this.U?(xg(this,t,s),qm&&this.i&&3==t&&(Gy(this.V,this.W,"tick",this.fb),this.W.start())):(Qy(this.j,this.m,s,null),Ag(this,s)),4==t&&Cg(this),this.i&&!this.I&&(4==t?Xk(this.l,this):(this.i=!1,Ig(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,tg(12)):(this.o=0,tg(13)),Cg(this),Tg(this)}}}catch(t){}},om.fb=function(){if(this.g){var e=Ok(this.g),t=this.g.ga();this.C<t.length&&(Eg(this),xg(this,e,t),this.i&&4!=e&&Ig(this))}},om.cancel=function(){this.I=!0,Cg(this)},om.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Zy(3),tg(17)),Cg(this),this.o=2,Tg(this)):Sg(this,this.Y-e)},(om=Pg.prototype).R=function(){Dg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},om.T=function(){return Dg(this),this.g.concat()},om.get=function(e,t){return Rg(this.h,e)?this.h[e]:t},om.set=function(e,t){Rg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},om.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Og=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lg){this.g=void 0!==t?t:e.g,Fg(this,e.j),this.s=e.s,jg(this,e.i),Ug(this,e.m),this.l=e.l,t=e.h;var n=new Yg;n.i=t.i,t.g&&(n.g=new Pg(t.g),n.h=t.h),Vg(this,n),this.o=e.o}else e&&(n=String(e).match(Og))?(this.g=!!t,Fg(this,n[1]||"",!0),this.s=qg(n[2]||""),jg(this,n[3]||"",!0),Ug(this,n[4]),this.l=qg(n[5]||"",!0),Vg(this,n[6]||"",!0),this.o=qg(n[7]||"")):(this.g=!!t,this.h=new Yg(null,this.g))}function Mg(e){return new Lg(e)}function Fg(e,t,n){e.j=n?qg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jg(e,t,n){e.i=n?qg(t,!0):t}function Ug(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vg(e,t,n){t instanceof Yg?(e.h=t,function(e,t){t&&!e.j&&(Xg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zg(this,t),tk(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Kg(t,$g)),e.h=new Yg(t,e.g))}function Bg(e,t,n){e.h.set(t,n)}function zg(e){return Bg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kg(t,Wg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kg(t,Wg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kg(n,"/"==n.charAt(0)?Qg:Hg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kg(n,Jg)),e.join("")};var Wg=/[#\/\?@]/g,Hg=/[#\?:]/g,Qg=/[#\?]/g,$g=/[#\?@]/g,Jg=/#/g;function Yg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xg(e){e.g||(e.g=new Pg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zg(e,t){Xg(e),t=nk(e,t),Rg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Rg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dg(e)))}function ek(e,t){return Xg(e),t=nk(e,t),Rg(e.g.h,t)}function tk(e,t,n){Zg(e,t),0<n.length&&(e.i=null,e.g.set(nk(e,t),Em(n)),e.h+=n.length)}function nk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(om=Yg.prototype).add=function(e,t){Xg(this),this.i=null,e=nk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},om.forEach=function(e,t){Xg(this),this.g.forEach((function(n,r){Im(n,(function(n){e.call(t,n,r,this)}),this)}),this)},om.T=function(){Xg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},om.R=function(e){Xg(this);var t=[];if("string"===typeof e)ek(this,e)&&(t=Sm(t,this.g.get(nk(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Sm(t,e[n])}return t},om.set=function(e,t){return Xg(this),this.i=null,ek(this,e=nk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},om.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},om.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var rk=ka((function e(t,n){ya(this,e),this.h=t,this.g=n}));function ik(e){this.l=e||ok,lm.PerformanceNavigationTiming?e=0<(e=lm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(lm.g&&lm.g.Ea&&lm.g.Ea()&&lm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ak,ok=10;function uk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sk(e){return e.h?1:e.g?e.g.size:0}function ck(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lk(e,t){e.g?e.g.add(t):e.h=t}function fk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Bo(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Em(e.i)}function dk(){}function pk(){this.g=new dk}function vk(e,t,n){var r=n||"";try{Ng(e,(function(e,n){var i=e;dm(e)&&(i=Ty(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yk(e){this.l=e.$b||null,this.j=e.ib||!1}function gk(e,t){Iy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=kk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ik.prototype.cancel=function(){if(this.i=hk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Bo(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},dk.prototype.stringify=function(e){return lm.JSON.stringify(e,void 0)},dk.prototype.parse=function(e){return lm.JSON.parse(e,void 0)},wm(yk,og),yk.prototype.g=function(){return new gk(this.l,this.j)},yk.prototype.i=(ak={},function(){return ak}),wm(gk,Iy);var kk=0;function wk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function bk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xk(e)}function xk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(om=gk.prototype).open=function(e,t){if(this.readyState!=kk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xk(this)},om.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||lm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},om.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bk(this)),this.readyState=kk},om.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xk(this)),this.g&&(this.readyState=3,xk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof lm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},om.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bk(this):xk(this),3==this.readyState&&wk(this)}},om.Ua=function(e){this.g&&(this.response=this.responseText=e,bk(this))},om.Ta=function(e){this.g&&(this.response=e,bk(this))},om.ha=function(){this.g&&bk(this)},om.setRequestHeader=function(e,t){this.v.append(e,t)},om.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},om.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _k=lm.JSON.parse;function Ik(e){Iy.call(this),this.headers=new Pg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sk,this.K=this.L=!1}wm(Ik,Iy);var Sk="",Ek=/^https?$/i,Tk=["POST","PUT"];function Ck(e){return"content-type"==e.toLowerCase()}function Ak(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nk(e),Dk(e)}function Nk(e){e.D||(e.D=!0,Sy(e,"complete"),Sy(e,"error"))}function Pk(e){if(e.h&&"undefined"!=typeof cm&&(!e.C[1]||4!=Ok(e)||2!=e.ba()))if(e.v&&4==Ok(e))Vy(e.Fa,0,e);else if(Sy(e,"readystatechange"),4==Ok(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Og)[1]||null;if(!a&&lm.self&&lm.self.location){var o=lm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ek.test(a?a.toLowerCase():"")}t=i}if(t)Sy(e,"complete"),Sy(e,"success");else{e.m=6;try{var u=2<Ok(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Nk(e)}}finally{Dk(e)}}}function Dk(e,t){if(e.g){Rk(e);var n=e.g,r=e.C[0]?fm:null;e.g=null,e.C=null,t||Sy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Rk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(lm.clearTimeout(e.A),e.A=null)}function Ok(e){return e.g?e.g.readyState:0}function Lk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_e){return null}}function Mk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Om(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bg(e,t,n))}function Fk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jk(e){this.za=0,this.l=[],this.h=new Hy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fk("baseRetryDelayMs",5e3,e),this.$a=Fk("retryDelaySeedMs",1e4,e),this.Ya=Fk("forwardChannelMaxRetries",2,e),this.ra=Fk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ik(e&&e.concurrentRequestLimit),this.Ca=new pk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Uk(e){if(Bk(e),3==e.G){var t=e.V++,n=Mg(e.F);Bg(n,"SID",e.J),Bg(n,"RID",t),Bg(n,"TYPE","terminate"),Gk(e,n),(t=new pg(e,e.h,t,void 0)).K=2,t.v=zg(Mg(n)),n=!1,lm.navigator&&lm.navigator.sendBeacon&&(n=lm.navigator.sendBeacon(t.v.toString(),"")),!n&&lm.Image&&((new Image).src=t.v,n=!0),n||(t.g=rw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ig(t)}tw(e)}function Vk(e){e.g&&($k(e),e.g.cancel(),e.g=null)}function Bk(e){Vk(e),e.u&&(lm.clearTimeout(e.u),e.u=null),Yk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&lm.clearTimeout(e.m),e.m=null)}function zk(e,t){e.l.push(new rk(e.Za++,t)),3==e.G&&qk(e)}function qk(e){uk(e.i)||e.m||(e.m=!0,Oy(e.Ha,e),e.C=0)}function Kk(e,t){var n;n=t?t.m:e.V++;var r=Mg(e.F);Bg(r,"SID",e.J),Bg(r,"RID",n),Bg(r,"AID",e.U),Gk(e,r),e.o&&e.s&&Mk(r,e.o,e.s),n=new pg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),lk(e.i,n),kg(n,r,t)}function Gk(e,t){e.j&&Ng({},(function(e,n){Bg(t,n,e)}))}function Wk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?gm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{vk(l,o,"req"+c+"_")}catch(je){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hk(e){e.g||e.u||(e.Y=1,Oy(e.Ga,e),e.A=0)}function Qk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=rg(gm(e.Ga,e),Zk(e,e.A)),e.A++,!0)}function $k(e){null!=e.B&&(lm.clearTimeout(e.B),e.B=null)}function Jk(e){e.g=new pg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mg(e.oa);Bg(t,"RID","rpc"),Bg(t,"SID",e.J),Bg(t,"CI",e.N?"0":"1"),Bg(t,"AID",e.U),Gk(e,t),Bg(t,"TYPE","xmlhttp"),e.o&&e.s&&Mk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zg(Mg(t)),n.s=null,n.U=!0,wg(n,e)}function Yk(e){null!=e.v&&(lm.clearTimeout(e.v),e.v=null)}function Xk(e,t){var n=null;if(e.g==t){Yk(e),$k(e),e.g=null;var r=2}else{if(!ck(e.i,t))return;n=t.D,fk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Sy(r=Yy(),new ng(r,n,t,i)),qk(e)}else Hk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=rg(gm(e.Ha,e,t),Zk(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ew(e,5);break;case 4:ew(e,10);break;case 3:ew(e,6);break;default:ew(e,2)}}function Zk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ew(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=gm(e.jb,e);n||(n=new Lg("//www.google.com/images/cleardot.gif"),lm.location&&"http"==lm.location.protocol||Fg(n,"https"),zg(n)),function(e,t){var n=new Hy;if(lm.Image){var r=new Image;r.onload=km(mk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=km(mk,n,r,"TestLoadImage: error",!1,t),r.onabort=km(mk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=km(mk,n,r,"TestLoadImage: timeout",!1,t),lm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tg(2);e.G=0,e.j&&e.j.va(t),tw(e),Bk(e)}function tw(e){e.G=0,e.I=-1,e.j&&(0==hk(e.i).length&&0==e.l.length||(e.i.i.length=0,Em(e.l),e.l.length=0),e.j.ua())}function nw(e,t,n){var r=function(e){return e instanceof Lg?Mg(e):new Lg(e,void 0)}(n);if(""!=r.i)t&&jg(r,t+"."+r.i),Ug(r,r.m);else{var i=lm.location;r=function(e,t,n,r){var i=new Lg(null,void 0);return e&&Fg(i,e),t&&jg(i,t),n&&Ug(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Om(e.aa,(function(e,t){Bg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Bg(r,t,n),Bg(r,"VER",e.ma),Gk(e,r),r}function rw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ik(new yk({ib:!0})):new Ik(e.qa)).L=e.H,t}function iw(){}function aw(){if(Bm&&!(10<=Number(ey)))throw Error("Environmental error: no available transport.")}function ow(e,t){Iy.call(this),this.g=new jk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Tm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cw(this)}function uw(e){fg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sw(){hg.call(this),this.status=1}function cw(e){this.g=e}(om=Ik.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cg.g(),this.C=this.u?ug(this.u):ug(cg),this.g.onreadystatechange=gm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ak(this,a)}e=n||"";var i=new Pg(this.headers);r&&Ng(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ck,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=lm.FormData&&e instanceof lm.FormData,!(0<=_m(Tk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rk(this),0<this.B&&((this.K=function(e){return Bm&&Xm()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gm(this.pa,this)):this.A=Vy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ak(this,a)}},om.pa=function(){"undefined"!=typeof cm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sy(this,"timeout"),this.abort(8))},om.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sy(this,"complete"),Sy(this,"abort"),Dk(this))},om.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dk(this,!0)),Ik.Z.M.call(this)},om.Fa=function(){this.s||(this.F||this.v||this.l?Pk(this):this.cb())},om.cb=function(){Pk(this)},om.ba=function(){try{return 2<Ok(this)?this.g.status:-1}catch(ak){return-1}},om.ga=function(){try{return this.g?this.g.responseText:""}catch(ak){return""}},om.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_k(t)}},om.Da=function(){return this.m},om.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(om=jk.prototype).ma=8,om.G=1,om.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(_e){}},om.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new pg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Fm(n=Lm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Wk(this,t,r),Bg(i=Mg(this.F),"RID",e),Bg(i,"CVER",22),this.D&&Bg(i,"X-HTTP-Session-Id",this.D),Gk(this,i),this.o&&n&&Mk(i,this.o,n),lk(this.i,t),this.Ra&&Bg(i,"TYPE","init"),this.ja?(Bg(i,"$req",r),Bg(i,"SID","null"),t.$=!0,kg(t,i,null)):kg(t,i,r),this.G=2}}else 3==this.G&&(e?Kk(this,e):0==this.l.length||uk(this.i)||Kk(this))},om.Ga=function(){if(this.u=null,Jk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rg(gm(this.bb,this),e)}},om.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tg(10),Vk(this),Jk(this))},om.ab=function(){null!=this.v&&(this.v=null,Vk(this),Qk(this),tg(19))},om.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tg(2)):(this.h.info("Failed to ping google.com"),tg(1))},(om=iw.prototype).xa=function(){},om.wa=function(){},om.va=function(){},om.ua=function(){},om.Oa=function(){},aw.prototype.g=function(e,t){return new ow(e,t)},wm(ow,Iy),ow.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Oy(gm(e.hb,e,t))),tg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nw(e,null,e.W),qk(e)},ow.prototype.close=function(){Uk(this.g)},ow.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,zk(this.g,t)}else this.v?((t={}).__data__=Ty(e),zk(this.g,t)):zk(this.g,e)},ow.prototype.M=function(){this.g.j=null,delete this.j,Uk(this.g),delete this.g,ow.Z.M.call(this)},wm(uw,fg),wm(sw,hg),wm(cw,iw),cw.prototype.xa=function(){Sy(this.g,"a")},cw.prototype.wa=function(e){Sy(this.g,new uw(e))},cw.prototype.va=function(e){Sy(this.g,new sw(e))},cw.prototype.ua=function(){Sy(this.g,"b")},aw.prototype.createWebChannel=aw.prototype.g,ow.prototype.send=ow.prototype.u,ow.prototype.open=ow.prototype.m,ow.prototype.close=ow.prototype.close,ig.NO_ERROR=0,ig.TIMEOUT=8,ig.HTTP_ERROR=6,ag.COMPLETE="complete",sg.EventType=lg,lg.OPEN="a",lg.CLOSE="b",lg.ERROR="c",lg.MESSAGE="d",Iy.prototype.listen=Iy.prototype.N,Ik.prototype.listenOnce=Ik.prototype.O,Ik.prototype.getLastError=Ik.prototype.La,Ik.prototype.getLastErrorCode=Ik.prototype.Da,Ik.prototype.getStatus=Ik.prototype.ba,Ik.prototype.getResponseJson=Ik.prototype.Qa,Ik.prototype.getResponseText=Ik.prototype.ga,Ik.prototype.send=Ik.prototype.ea;var lw=sm.createWebChannelTransport=function(){return new aw},fw=sm.getStatEventTarget=function(){return Yy()},hw=sm.ErrorCode=ig,dw=sm.EventType=ag,pw=sm.Event=$y,vw=sm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mw=sm.FetchXmlHttpFactory=yk,yw=sm.WebChannel=sg,gw=sm.XhrIo=Ik,kw="@firebase/firestore",ww=function(){function e(t){ya(this,e),this.uid=t}return ka(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ww.UNAUTHENTICATED=new ww(null),ww.GOOGLE_CREDENTIALS=new ww("google-credentials-uid"),ww.FIRST_PARTY=new ww("first-party-uid"),ww.MOCK_USER=new ww("mock-user");var bw="9.8.3",xw=new Du("@firebase/firestore");function _w(){return xw.logLevel}function Iw(e){if(xw.logLevel<=Su.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tw);xw.debug.apply(xw,["Firestore (".concat(bw,"): ").concat(e)].concat(ma(i)))}}function Sw(e){if(xw.logLevel<=Su.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tw);xw.error.apply(xw,["Firestore (".concat(bw,"): ").concat(e)].concat(ma(i)))}}function Ew(e){if(xw.logLevel<=Su.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Tw);xw.warn.apply(xw,["Firestore (".concat(bw,"): ").concat(e)].concat(ma(i)))}}function Tw(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bw,") INTERNAL ASSERTION FAILED: ")+e;throw Sw(t),new Error(t)}function Aw(e,t){e||Cw()}function Nw(e,t){return e}var Pw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dw=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ka(n)}(iu),Rw=ka((function e(){var t=this;ya(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ow=ka((function e(t,n){ya(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Lw=function(){function e(){ya(this,e)}return ka(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ww.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Mw=function(){function e(t){ya(this,e),this.token=t,this.changeListener=null}return ka(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fw=function(){function e(t){ya(this,e),this.t=t,this.currentUser=ww.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ka(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Rw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Rw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Iw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Iw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Iw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Aw("string"==typeof n.accessToken),new Ow(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Aw(null===e||"string"==typeof e),new ww(e)}}]),e}(),jw=ka((function e(t,n,r){ya(this,e),this.type="FirstParty",this.user=ww.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Uw=function(){function e(t,n,r){ya(this,e),this.h=t,this.l=n,this.m=r}return ka(e,[{key:"getToken",value:function(){return Promise.resolve(new jw(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ww.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vw=ka((function e(t){ya(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Bw=function(){function e(t){ya(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ka(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Iw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Iw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Iw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Iw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Aw("string"==typeof t.token),e.p=t.token,new Vw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function zw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qw=function(){function e(){ya(this,e)}return ka(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Kw(e,t){return e<t?-1:e>t?1:0}function Gw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ww(e){return e+"\0"}var Hw=function(){function e(t,n){if(ya(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Dw(Pw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dw(Pw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Dw(Pw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dw(Pw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ka(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kw(this.nanoseconds,e.nanoseconds):Kw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qw=function(){function e(t){ya(this,e),this.timestamp=t}return ka(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hw(0,0))}},{key:"max",value:function(){return new e(new Hw(253402300799,999999999))}}]),e}(),$w=function(){function e(t,n,r){ya(this,e),void 0===n?n=0:n>t.length&&Cw(),void 0===r?r=t.length-n:r>t.length-n&&Cw(),this.segments=t,this.offset=n,this.len=r}return ka(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jw=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ma(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($w),Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xw=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Yw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Dw(Pw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Dw(Pw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Dw(Pw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($w),Zw=function(){function e(t){ya(this,e),this.path=t}return ka(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Jw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jw.fromString(t))}},{key:"fromName",value:function(t){return new e(Jw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Jw.emptyPath())}},{key:"comparator",value:function(e,t){return Jw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jw(t.slice()))}}]),e}(),eb=ka((function e(t,n,r,i){ya(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function tb(e){return e.fields.find((function(e){return 2===e.kind}))}function nb(e){return e.fields.filter((function(e){return 2!==e.kind}))}eb.UNKNOWN_ID=-1;var rb=ka((function e(t,n){ya(this,e),this.fieldPath=t,this.kind=n})),ib=function(){function e(t,n){ya(this,e),this.sequenceNumber=t,this.offset=n}return ka(e,null,[{key:"empty",value:function(){return new e(0,ub.min())}}]),e}();function ab(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qw.fromTimestamp(1e9===r?new Hw(n+1,0):new Hw(n,r));return new ub(i,Zw.empty(),t)}function ob(e){return new ub(e.readTime,e.key,-1)}var ub=function(){function e(t,n,r){ya(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ka(e,null,[{key:"min",value:function(){return new e(Qw.min(),Zw.empty(),-1)}},{key:"max",value:function(){return new e(Qw.max(),Zw.empty(),-1)}}]),e}();function sb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Zw.comparator(e.documentKey,t.documentKey))?n:Kw(e.largestBatchId,t.largestBatchId)}var cb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lb=function(){function e(){ya(this,e),this.onCommittedListeners=[]}return ka(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function fb(e){return hb.apply(this,arguments)}function hb(){return hb=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Pw.FAILED_PRECONDITION&&t.message===cb){e.next=2;break}throw t;case 2:Iw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}var db=function(){function e(t){var n=this;ya(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ka(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Cw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Bo(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),pb=function(){function e(t,n){var r=this;ya(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Rw,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new yb(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=xb(e.target.error);r.T.reject(new yb(t,n))}}return ka(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Iw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new kb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yb(n,t)}}}]),e}(),vb=function(){function e(t,n,r){ya(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Yo())&&Sw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ka(e,[{key:"k",value:function(){var e=wu(gu().mark((function e(t){var n=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Iw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Dw(Pw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Dw(Pw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new yb(t,n))},i.onupgradeneeded=function(e){Iw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Iw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=wu(gu().mark((function e(t,n,r,i){var a,o,u,s,c=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(gu().mark((function e(){var n,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=pb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),db.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Iw("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Iw("SimpleDb","Removing database:",e),wb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!ru())return!1;if(e.S())return!0;var t=Yo(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ",REACT_APP_AUTH_DOMAIN:"netflix-clone-98891.firebaseapp.com",REACT_APP_ID:"1:1022646862483:web:3ba0e70726dd385579c366",REACT_APP_MESSAGING_SENDER_ID:"1022646862483",REACT_APP_PROJECT_ID:"netflix-clone-98891",REACT_APP_STORAGE_BUCKET:"netflix-clone-98891.appspot.com"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mb=function(){function e(t){ya(this,e),this.$=t,this.B=!1,this.L=null}return ka(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return wb(this.$.delete())}}]),e}(),yb=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,Pw.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ka(n)}(Dw);function gb(e){return"IndexedDbTransactionError"===e.name}var kb=function(){function e(t){ya(this,e),this.store=t}return ka(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Iw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Iw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wb(n)}},{key:"add",value:function(e){return Iw("SimpleDb","ADD",this.store.name,e,e),wb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return wb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Iw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Iw("SimpleDb","DELETE",this.store.name,e),wb(this.store.delete(e))}},{key:"count",value:function(){return Iw("SimpleDb","COUNT",this.store.name),wb(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new db((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new db((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Iw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new db((function(n,r){t.onerror=function(e){var t=xb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new db((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mb(i),o=t(i.primaryKey,i.value,a);if(o instanceof db){var u=o.catch((function(e){return a.done(),db.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return db.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function wb(e){return new db((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xb(e.target.error);n(t)}}))}var bb=!1;function xb(e){var t=vb.v(Yo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Dw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bb||(bb=!0,setTimeout((function(){throw r}),0)),r}}return e}var _b=function(){function e(t,n){ya(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ka(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Iw("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Iw,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!gb(e.t4)){e.next=17;break}Iw("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,fb(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ib=function(){function e(t,n){ya(this,e),this.localStore=t,this.persistence=n}return ka(e,[{key:"tt",value:function(){var e=wu(gu().mark((function e(){var t,n=this,r=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return db.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Iw("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Iw("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ob(t);sb(r,n)>0&&(n=r)})),new ub(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Sb=function(){function e(t,n){var r=this;ya(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ka(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Eb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Sb.ot=-1;var Ab=function(){function e(t,n){ya(this,e),this.comparator=t,this.root=n||Pb.EMPTY}return ka(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Nb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Nb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Nb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Nb(this.root,e,this.comparator,!0)}}]),e}(),Nb=function(){function e(t,n,r,i){ya(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ka(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Pb=function(){function e(t,n,r,i,a){ya(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ka(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Cw();if(this.right.isRed())throw Cw();var e=this.left.check();if(e!==this.right.check())throw Cw();return e+(this.isRed()?0:1)}}]),e}();Pb.EMPTY=null,Pb.RED=!0,Pb.BLACK=!1,Pb.EMPTY=new(function(){function e(){ya(this,e),this.size=0}return ka(e,[{key:"key",get:function(){throw Cw()}},{key:"value",get:function(){throw Cw()}},{key:"color",get:function(){throw Cw()}},{key:"left",get:function(){throw Cw()}},{key:"right",get:function(){throw Cw()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Pb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Db=function(){function e(t){ya(this,e),this.comparator=t,this.data=new Ab(this.comparator)}return ka(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Rb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Rb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Rb=function(){function e(t){ya(this,e),this.iter=t}return ka(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ob(e){return e.hasNext()?e.getNext():void 0}var Lb=function(){function e(t){ya(this,e),this.fields=t,t.sort(Xw.comparator)}return ka(e,[{key:"unionWith",value:function(t){var n,r=new Db(Xw.comparator),i=Bo(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Bo(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Bo(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Gw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Mb=function(e){function t(e){ya(this,t),this.binaryString=e}return ka(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mb.EMPTY_BYTE_STRING=new Mb("");var Fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jb(e){if(Aw(!!e),"string"==typeof e){var t=0,n=Fb.exec(e);if(Aw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ub(e.seconds),nanos:Ub(e.nanos)}}function Ub(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vb(e){return"string"==typeof e?Mb.fromBase64String(e):Mb.fromUint8Array(e)}function Bb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zb(e){var t=e.mapValue.fields.__previous_value__;return Bb(t)?zb(t):t}function qb(e){var t=jb(e.mapValue.fields.__local_write_time__.timestampValue);return new Hw(t.seconds,t.nanos)}var Kb=ka((function e(t,n,r,i,a,o,u,s){ya(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Gb=function(){function e(t,n){ya(this,e),this.projectId=t,this.database=n||"(default)"}return ka(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Wb(e){return null==e}function Hb(e){return 0===e&&1/e==-1/0}function Qb(e){return"number"==typeof e&&Number.isInteger(e)&&!Hb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $b={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jb={nullValue:"NULL_VALUE"};function Yb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bb(e)?4:fx(e)?9007199254740991:10:Cw()}function Xb(e,t){if(e===t)return!0;var n=Yb(e);if(n!==Yb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qb(e).isEqual(qb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jb(e.timestampValue),r=jb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vb(e.bytesValue).isEqual(Vb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ub(e.geoPointValue.latitude)===Ub(t.geoPointValue.latitude)&&Ub(e.geoPointValue.longitude)===Ub(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ub(e.integerValue)===Ub(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ub(e.doubleValue),r=Ub(t.doubleValue);return n===r?Hb(n)===Hb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gw(e.arrayValue.values||[],t.arrayValue.values||[],Xb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eb(n)!==Eb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xb(n[i],r[i])))return!1;return!0}(e,t);default:return Cw()}}function Zb(e,t){return void 0!==(e.values||[]).find((function(e){return Xb(e,t)}))}function ex(e,t){if(e===t)return 0;var n=Yb(e),r=Yb(t);if(n!==r)return Kw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ub(e.integerValue||e.doubleValue),r=Ub(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tx(e.timestampValue,t.timestampValue);case 4:return tx(qb(e),qb(t));case 5:return Kw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vb(e),r=Vb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kw(n[i],r[i]);if(0!==a)return a}return Kw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kw(Ub(e.latitude),Ub(t.latitude));return 0!==n?n:Kw(Ub(e.longitude),Ub(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ex(n[i],r[i]);if(a)return a}return Kw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$b.mapValue&&t===$b.mapValue)return 0;if(e===$b.mapValue)return 1;if(t===$b.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Kw(r[o],a[o]);if(0!==u)return u;var s=ex(n[r[o]],i[a[o]]);if(0!==s)return s}return Kw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Cw()}}function tx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kw(e,t);var n=jb(e),r=jb(t),i=Kw(n.seconds,r.seconds);return 0!==i?i:Kw(n.nanos,r.nanos)}function nx(e){return rx(e)}function rx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Bo(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=rx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Bo(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(rx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Cw();var t,n}function ix(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ax(e){return!!e&&"integerValue"in e}function ox(e){return!!e&&"arrayValue"in e}function ux(e){return!!e&&"nullValue"in e}function sx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cx(e){return!!e&&"mapValue"in e}function lx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=lx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function fx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function hx(e){return"nullValue"in e?Jb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ix(Gb.empty(),Zw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Cw()}function dx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ix(Gb.empty(),Zw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$b:Cw()}function px(e,t){var n=ex(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function vx(e,t){var n=ex(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var mx=function(){function e(t){ya(this,e),this.value=t}return ka(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!cx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lx(t)}},{key:"setAll",value:function(e){var t=this,n=Xw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=lx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());cx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];cx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tb(t,(function(t,n){return e[t]=n}));var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(lx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yx(e){var t=[];return Tb(e.fields,(function(e,n){var r=new Xw([e]);if(cx(n)){var i=yx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Bo(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Lb(t)}var gx=function(){function e(t,n,r,i,a,o){ya(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ka(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=mx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=mx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Qw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qw.min(),Qw.min(),mx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Qw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qw.min(),mx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qw.min(),mx.empty(),2)}}]),e}(),kx=ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ya(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function wx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new kx(e,t,n,r,i,a,o)}function bx(e){var t=Nw(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+nx(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Wb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return nx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return nx(e)})).join(",")),t.ut=n}return t.ut}function xx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Xb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vx(e.startAt,t.startAt)&&Vx(e.endAt,t.endAt)}function _x(e){return Zw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ix(e,t){return e.filters.filter((function(e){return e instanceof Tx&&e.field.isEqual(t)}))}function Sx(e,t,n){var r,i=Jb,a=!0,o=Bo(Ix(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Jb,c=!0;switch(u.op){case"<":case"<=":s=hx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Jb}px({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];px({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ex(e,t,n){var r,i=$b,a=!0,o=Bo(Ix(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$b,c=!0;switch(u.op){case">=":case">":s=dx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=$b}vx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Tx=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ex(t,this.value)):null!==t&&Yb(this.value)===Yb(t)&&this.at(ex(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cw()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Cx(e,t,r):"array-contains"===t?new Dx(e,r):"in"===t?new Rx(e,r):"not-in"===t?new Ox(e,r):"array-contains-any"===t?new Lx(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Ax(e,n):new Nx(e,n)}}]),n}(function(){return ka((function e(){ya(this,e)}))}()),Cx=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this,e,r,i)).key=Zw.fromName(i.referenceValue),a}return ka(n,[{key:"matches",value:function(e){var t=Zw.comparator(e.key,this.key);return this.at(t)}}]),n}(Tx),Ax=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,"in",r)).keys=Px("in",r),i}return ka(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tx),Nx=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,"not-in",r)).keys=Px("not-in",r),i}return ka(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Tx);function Px(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Zw.fromName(e.referenceValue)}))}var Dx=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"array-contains",r)}return ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ox(t)&&Zb(t.arrayValue,this.value)}}]),n}(Tx),Rx=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"in",r)}return ka(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Zb(this.value.arrayValue,t)}}]),n}(Tx),Ox=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"not-in",r)}return ka(n,[{key:"matches",value:function(e){if(Zb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Zb(this.value.arrayValue,t)}}]),n}(Tx),Lx=function(e){sa(n,e);var t=pa(n);function n(e,r){return ya(this,n),t.call(this,e,"array-contains-any",r)}return ka(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ox(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Zb(t.value.arrayValue,e)}))}}]),n}(Tx),Mx=ka((function e(t,n){ya(this,e),this.position=t,this.inclusive=n})),Fx=ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ya(this,e),this.field=t,this.dir=n}));function jx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ux(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zw.comparator(Zw.fromName(o.referenceValue),n.key):ex(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xb(e.position[n],t.position[n]))return!1;return!0}var Bx=ka((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ya(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function zx(e,t,n,r,i,a,o,u){return new Bx(e,t,n,r,i,a,o,u)}function qx(e){return new Bx(e)}function Kx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gx(e){var t,n=Bo(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Wx(e){return null!==e.collectionGroup}function Hx(e){var t=Nw(e);if(null===t.lt){t.lt=[];var n=Gx(t),r=Kx(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Fx(n)),t.lt.push(new Fx(Xw.keyField(),"asc"));else{var i,a=!1,o=Bo(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Fx(Xw.keyField(),s))}}}return t.lt}function Qx(e){var t=Nw(e);if(!t.ft)if("F"===t.limitType)t.ft=wx(t.path,t.collectionGroup,Hx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Bo(Hx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Fx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Mx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Mx(t.startAt.position,t.startAt.inclusive):null;t.ft=wx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function $x(e,t,n){return new Bx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jx(e,t){return xx(Qx(e),Qx(t))&&e.limitType===t.limitType}function Yx(e){return"".concat(bx(Qx(e)),"|lt:").concat(e.limitType)}function Xx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(nx(t.value));var t})).join(", "),"]")),Wb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return nx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return nx(e)})).join(",")),"Target(".concat(t,")")}(Qx(e)),"; limitType=").concat(e.limitType,")")}function Zx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Bo(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Bo(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ux(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hx(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ux(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hx(e),t))}(e,t)}function e_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function t_(e){return function(t,n){var r,i=!1,a=Bo(Hx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=n_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function n_(e,t,n){var r=e.field.isKeyField()?Zw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ex(r,i):Cw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cw()}}function r_(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hb(t)?"-0":t}}function i_(e){return{integerValue:""+e}}function a_(e,t){return Qb(t)?i_(t):r_(e,t)}var o_=ka((function e(){ya(this,e),this._=void 0}));function u_(e,t,n){return e instanceof l_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof f_?h_(e,t):e instanceof d_?p_(e,t):function(e,t){var n=c_(e,t),r=m_(n)+m_(e._t);return ax(n)&&ax(e._t)?i_(r):r_(e.wt,r)}(e,t)}function s_(e,t,n){return e instanceof f_?h_(e,t):e instanceof d_?p_(e,t):n}function c_(e,t){return e instanceof v_?ax(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var l_=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n)}(o_),f_=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).elements=e,r}return ka(n)}(o_);function h_(e,t){var n,r=y_(t),i=Bo(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var d_=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).elements=e,r}return ka(n)}(o_);function p_(e,t){var n,r=y_(t),i=Bo(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var v_=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ka(n)}(o_);function m_(e){return Ub(e.integerValue||e.doubleValue)}function y_(e){return ox(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var g_=ka((function e(t,n){ya(this,e),this.field=t,this.transform=n}));var k_=ka((function e(t,n){ya(this,e),this.version=t,this.transformResults=n})),w_=function(){function e(t,n){ya(this,e),this.updateTime=t,this.exists=n}return ka(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function b_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var x_=ka((function e(){ya(this,e)}));function __(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new L_(e.key,w_.none()):new C_(e.key,e.data,w_.none());var n,r=e.data,i=mx.empty(),a=new Db(Xw.comparator),o=Bo(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new A_(e.key,i,new Lb(a.toArray()),w_.none())}function I_(e,t,n){e instanceof C_?function(e,t,n){var r=e.value.clone(),i=P_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof A_?function(e,t,n){if(b_(e.precondition,t)){var r=P_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(N_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function S_(e,t,n,r){return e instanceof C_?function(e,t,n,r){if(!b_(e.precondition,t))return n;var i=e.value.clone(),a=D_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof A_?function(e,t,n,r){if(!b_(e.precondition,t))return n;var i=D_(e.fieldTransforms,r,t),a=t.data;return a.setAll(N_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return b_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function E_(e,t){var n,r=null,i=Bo(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=c_(a.transform,o||null);null!=u&&(null===r&&(r=mx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function T_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof f_&&t instanceof f_||e instanceof d_&&t instanceof d_?Gw(e.elements,t.elements,Xb):e instanceof v_&&t instanceof v_?Xb(e._t,t._t):e instanceof l_&&t instanceof l_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var C_=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ya(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ka(n,[{key:"getFieldMask",value:function(){return null}}]),n}(x_),A_=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ya(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ka(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(x_);function N_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function P_(e,t,n){var r=new Map;Aw(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,s_(o,u,n[i]))}return r}function D_(e,t,n){var r,i=new Map,a=Bo(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,u_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var R_,O_,L_=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ka(n,[{key:"getFieldMask",value:function(){return null}}]),n}(x_),M_=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ka(n,[{key:"getFieldMask",value:function(){return null}}]),n}(x_),F_=ka((function e(t){ya(this,e),this.count=t}));function j_(e){switch(e){default:return Cw();case Pw.CANCELLED:case Pw.UNKNOWN:case Pw.DEADLINE_EXCEEDED:case Pw.RESOURCE_EXHAUSTED:case Pw.INTERNAL:case Pw.UNAVAILABLE:case Pw.UNAUTHENTICATED:return!1;case Pw.INVALID_ARGUMENT:case Pw.NOT_FOUND:case Pw.ALREADY_EXISTS:case Pw.PERMISSION_DENIED:case Pw.FAILED_PRECONDITION:case Pw.ABORTED:case Pw.OUT_OF_RANGE:case Pw.UNIMPLEMENTED:case Pw.DATA_LOSS:return!0}}function U_(e){if(void 0===e)return Sw("GRPC error has no .code"),Pw.UNKNOWN;switch(e){case R_.OK:return Pw.OK;case R_.CANCELLED:return Pw.CANCELLED;case R_.UNKNOWN:return Pw.UNKNOWN;case R_.DEADLINE_EXCEEDED:return Pw.DEADLINE_EXCEEDED;case R_.RESOURCE_EXHAUSTED:return Pw.RESOURCE_EXHAUSTED;case R_.INTERNAL:return Pw.INTERNAL;case R_.UNAVAILABLE:return Pw.UNAVAILABLE;case R_.UNAUTHENTICATED:return Pw.UNAUTHENTICATED;case R_.INVALID_ARGUMENT:return Pw.INVALID_ARGUMENT;case R_.NOT_FOUND:return Pw.NOT_FOUND;case R_.ALREADY_EXISTS:return Pw.ALREADY_EXISTS;case R_.PERMISSION_DENIED:return Pw.PERMISSION_DENIED;case R_.FAILED_PRECONDITION:return Pw.FAILED_PRECONDITION;case R_.ABORTED:return Pw.ABORTED;case R_.OUT_OF_RANGE:return Pw.OUT_OF_RANGE;case R_.UNIMPLEMENTED:return Pw.UNIMPLEMENTED;case R_.DATA_LOSS:return Pw.DATA_LOSS;default:return Cw()}}(O_=R_||(R_={}))[O_.OK=0]="OK",O_[O_.CANCELLED=1]="CANCELLED",O_[O_.UNKNOWN=2]="UNKNOWN",O_[O_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",O_[O_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",O_[O_.NOT_FOUND=5]="NOT_FOUND",O_[O_.ALREADY_EXISTS=6]="ALREADY_EXISTS",O_[O_.PERMISSION_DENIED=7]="PERMISSION_DENIED",O_[O_.UNAUTHENTICATED=16]="UNAUTHENTICATED",O_[O_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",O_[O_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",O_[O_.ABORTED=10]="ABORTED",O_[O_.OUT_OF_RANGE=11]="OUT_OF_RANGE",O_[O_.UNIMPLEMENTED=12]="UNIMPLEMENTED",O_[O_.INTERNAL=13]="INTERNAL",O_[O_.UNAVAILABLE=14]="UNAVAILABLE",O_[O_.DATA_LOSS=15]="DATA_LOSS";var V_=function(){function e(t,n){ya(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ka(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Tb(this.inner,(function(t,n){var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),B_=new Ab(Zw.comparator);function z_(){return B_}var q_=new Ab(Zw.comparator);function K_(){for(var e=q_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function G_(e){var t=q_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function W_(){return Q_()}function H_(){return Q_()}function Q_(){return new V_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var $_=new Ab(Zw.comparator),J_=new Db(Zw.comparator);function Y_(){for(var e=J_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var X_=new Db(Kw);function Z_(){return X_}var eI=function(){function e(t,n,r,i,a){ya(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ka(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,tI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qw.min(),r,Z_(),z_(),Y_())}}]),e}(),tI=function(){function e(t,n,r,i,a){ya(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ka(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Mb.EMPTY_BYTE_STRING,n,Y_(),Y_(),Y_())}}]),e}(),nI=ka((function e(t,n,r,i){ya(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),rI=ka((function e(t,n){ya(this,e),this.targetId=t,this.It=n})),iI=ka((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ya(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),aI=function(){function e(){ya(this,e),this.Tt=0,this.Et=sI(),this.At=Mb.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ka(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Y_(),t=Y_(),n=Y_();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cw()}})),new tI(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=sI()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),oI=function(){function e(t){ya(this,e),this.Mt=t,this.Ft=new Map,this.$t=z_(),this.Bt=uI(),this.Lt=new Db(Kw)}return ka(e,[{key:"Ut",value:function(e){var t,n=Bo(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Bo(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Cw()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(_x(i))if(0===n){var a=new Zw(i.path);this.Kt(t,a,gx.newNoDocument(a,Qw.min()))}else Aw(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&_x(a.target)){var o=new Zw(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,gx.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Y_();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new eI(e,n,this.Lt,this.$t,r);return this.$t=z_(),this.Bt=uI(),this.Lt=new Db(Kw),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new aI,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Db(Kw),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Iw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new aI),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function uI(){return new Ab(Zw.comparator)}function sI(){return new Ab(Zw.comparator)}var cI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI=ka((function e(t,n){ya(this,e),this.databaseId=t,this.dt=n}));function hI(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dI(e,t){return e.dt?t.toBase64():t.toUint8Array()}function pI(e,t){return hI(e,t.toTimestamp())}function vI(e){return Aw(!!e),Qw.fromTimestamp(function(e){var t=jb(e);return new Hw(t.seconds,t.nanos)}(e))}function mI(e,t){return function(e){return new Jw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yI(e){var t=Jw.fromString(e);return Aw(VI(t)),t}function gI(e,t){return mI(e.databaseId,t.path)}function kI(e,t){var n=yI(t);if(n.get(1)!==e.databaseId.projectId)throw new Dw(Pw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dw(Pw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zw(_I(n))}function wI(e,t){return mI(e.databaseId,t)}function bI(e){var t=yI(e);return 4===t.length?Jw.emptyPath():_I(t)}function xI(e){return new Jw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _I(e){return Aw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function II(e,t,n){return{name:gI(e,t),fields:n.value.mapValue.fields}}function SI(e,t,n){var r=kI(e,t.name),i=vI(t.updateTime),a=new mx({mapValue:{fields:t.fields}}),o=gx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function EI(e,t){return"found"in t?function(e,t){Aw(!!t.found),t.found.name,t.found.updateTime;var n=kI(e,t.found.name),r=vI(t.found.updateTime),i=new mx({mapValue:{fields:t.found.fields}});return gx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Aw(!!t.missing),Aw(!!t.readTime);var n=kI(e,t.missing),r=vI(t.readTime);return gx.newNoDocument(n,r)}(e,t):Cw()}function TI(e,t){var n;if(t instanceof C_)n={update:II(e,t.key,t.value)};else if(t instanceof L_)n={delete:gI(e,t.key)};else if(t instanceof A_)n={update:II(e,t.key,t.data),updateMask:UI(t.fieldMask)};else{if(!(t instanceof M_))return Cw();n={verify:gI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof l_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof f_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof d_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof v_)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Cw()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cw()}(e,t.precondition)),n}function CI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?w_.updateTime(vI(e.updateTime)):void 0!==e.exists?w_.exists(e.exists):w_.none()}(t.currentDocument):w_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Aw("REQUEST_TIME"===t.setToServerValue),n=new l_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new f_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new d_(i)}else"increment"in t?n=new v_(e,t.increment):Cw();var a=Xw.fromServerFormat(t.fieldPath);return new g_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=kI(e,t.update.name),a=new mx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Lb(t.map((function(e){return Xw.fromServerFormat(e)})))}(t.updateMask);return new A_(i,a,o,n,r)}return new C_(i,a,n,r)}if(t.delete){var u=kI(e,t.delete);return new L_(u,n)}if(t.verify){var s=kI(e,t.verify);return new M_(s,n)}return Cw()}function AI(e,t){return{documents:[wI(e,t.path)]}}function NI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(sx(e.value))return{unaryFilter:{field:LI(e.field),op:"IS_NAN"}};if(ux(e.value))return{unaryFilter:{field:LI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sx(e.value))return{unaryFilter:{field:LI(e.field),op:"IS_NOT_NAN"}};if(ux(e.value))return{unaryFilter:{field:LI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:LI(e.field),op:OI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:LI(e.field),direction:RI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Wb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function PI(e){var t=bI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Aw(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=DI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Fx(MI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Wb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Mx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Mx(n,t)}(n.endAt)),zx(t,i,u,o,s,"F",c,l)}function DI(e){return e?void 0!==e.unaryFilter?[jI(e)]:void 0!==e.fieldFilter?[FI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return DI(e)})).reduce((function(e,t){return e.concat(t)})):Cw():[]}function RI(e){return cI[e]}function OI(e){return lI[e]}function LI(e){return{fieldPath:e.canonicalString()}}function MI(e){return Xw.fromServerFormat(e.fieldPath)}function FI(e){return Tx.create(MI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cw()}}(e.fieldFilter.op),e.fieldFilter.value)}function jI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=MI(e.unaryFilter.field);return Tx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=MI(e.unaryFilter.field);return Tx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=MI(e.unaryFilter.field);return Tx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=MI(e.unaryFilter.field);return Tx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cw()}}function UI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function VI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function BI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qI(t)),t=zI(e.get(n),t);return qI(t)}function zI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function qI(e){return e+"\x01\x01"}function KI(e){var t=e.length;if(Aw(t>=2),2===t)return Aw("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Cw(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Cw()}a=o+2}return new Jw(r)}var GI=["userId","batchId"];function WI(e,t){return[e,BI(t)]}function HI(e,t,n){return[e,BI(t),n]}var QI={},$I=["prefixPath","collectionGroup","readTime","documentId"],JI=["prefixPath","collectionGroup","documentId"],YI=["collectionGroup","readTime","prefixPath","documentId"],XI=["canonicalId","targetId"],ZI=["targetId","path"],eS=["path","targetId"],tS=["collectionId","parent"],nS=["indexId","uid"],rS=["uid","sequenceNumber"],iS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aS=["indexId","uid","orderedDocumentKey"],oS=["userId","collectionPath","documentId"],uS=["userId","collectionPath","largestBatchId"],sS=["userId","collectionGroup","largestBatchId"],cS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lS=[].concat(ma(cS),["documentOverlays"]),fS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hS=fS,dS=[].concat(hS,["indexConfiguration","indexState","indexEntries"]),pS=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ka(n)}(lb);function vS(e,t){var n=Nw(e);return vb.N(n.ee,t)}var mS=function(){function e(t,n,r,i){ya(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ka(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&I_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Bo(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=S_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Bo(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=S_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=H_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=__(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Qw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Y_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Gw(this.mutations,e.mutations,(function(e,t){return T_(e,t)}))&&Gw(this.baseMutations,e.baseMutations,(function(e,t){return T_(e,t)}))}}]),e}(),yS=function(){function e(t,n,r,i){ya(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ka(e,null,[{key:"from",value:function(t,n,r){Aw(t.mutations.length===r.length);for(var i=$_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gS=function(){function e(t,n){ya(this,e),this.largestBatchId=t,this.mutation=n}return ka(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),kS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mb.EMPTY_BYTE_STRING;ya(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ka(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wS=ka((function e(t){ya(this,e),this.ne=t}));function bS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:gI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hI(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_S(t.version)};else{if(!t.isUnknownDocument())return Cw();r.unknownDocument={path:n.path.toArray(),version:_S(t.version)}}return r}function xS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _S(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function IS(e){var t=new Hw(e.seconds,e.nanoseconds);return Qw.fromTimestamp(t)}function SS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return CI(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return CI(e.ne,t)})),u=Hw.fromMillis(t.localWriteTimeMs);return new mS(t.batchId,u,n,o)}function ES(e){var t,n,r=IS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?IS(e.lastLimboFreeSnapshotVersion):Qw.min();return void 0!==e.query.documents?(Aw(1===(n=e.query).documents.length),t=Qx(qx(bI(n.documents[0])))):t=function(e){return Qx(PI(e))}(e.query),new kS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Mb.fromBase64String(e.resumeToken))}function TS(e,t){var n,r=_S(t.snapshotVersion),i=_S(t.lastLimboFreeSnapshotVersion);n=_x(t.target)?AI(e.ne,t.target):NI(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function CS(e){var t=PI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$x(t,t.limit,"L"):t}function AS(e,t){return new gS(t.largestBatchId,CI(e.ne,t.overlayMutation))}function NS(e,t){var n=t.path.lastSegment();return[e,BI(t.path.popLast()),n]}function PS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:_S(r.readTime),documentKey:BI(r.documentKey.path),largestBatchId:r.largestBatchId}}var DS=function(){function e(){ya(this,e)}return ka(e,[{key:"getBundleMetadata",value:function(e,t){return RS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:IS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return RS(e).put({bundleId:(n=t).id,createTime:_S(vI(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return OS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:CS(t.bundledQuery),readTime:IS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return OS(e).put(function(e){return{name:e.name,readTime:_S(vI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function RS(e){return vS(e,"bundles")}function OS(e){return vS(e,"namedQueries")}var LS=function(){function e(t,n){ya(this,e),this.wt=t,this.userId=n}return ka(e,[{key:"getOverlay",value:function(e,t){var n=this;return MS(e).get(NS(this.userId,t)).next((function(e){return e?AS(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=W_();return db.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new gS(t,a);i.push(r.ie(e,o))})),db.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(BI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(MS(e).W("collectionPathOverlayIndex",i))})),db.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=W_(),a=BI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return MS(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Bo(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=AS(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=W_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return MS(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=AS(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return MS(e).put(function(e,t,n){var r=c(NS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:TI(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function MS(e){return vS(e,"documentOverlays")}var FS=function(){function e(){ya(this,e)}return ka(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ub(e.integerValue));else if("doubleValue"in e){var n=Ub(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Hb(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Vb(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?fx(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Cw()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Zw.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function jS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function US(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=jS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}FS.ye=new FS;var VS=function(){function e(){ya(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ka(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Bo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Bo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=US(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=US(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),BS=function(){function e(t){ya(this,e),this.Me=t}return ka(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),zS=function(){function e(t){ya(this,e),this.Me=t}return ka(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),qS=function(){function e(){ya(this,e),this.Me=new VS,this.Fe=new BS(this.Me),this.$e=new zS(this.Me)}return ka(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),KS=function(){function e(t,n,r,i){ya(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ka(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function GS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=WS(e.arrayValue,t.arrayValue))?n:0!==(n=WS(e.directionalValue,t.directionalValue))?n:Zw.comparator(e.documentKey,t.documentKey)}function WS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var HS=function(){function e(t){ya(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Bo(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ka(e,[{key:"Ge",value:function(e){var t=tb(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=nb(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Bo(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),QS=function(){function e(){ya(this,e),this.ze=new $S}return ka(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),db.resolve()}},{key:"getCollectionParents",value:function(e,t){return db.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return db.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return db.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return db.resolve(null)}},{key:"getIndexType",value:function(e,t){return db.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return db.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return db.resolve(null)}},{key:"getMinOffset",value:function(e,t){return db.resolve(ub.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return db.resolve(ub.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return db.resolve()}},{key:"updateIndexEntries",value:function(e,t){return db.resolve()}}]),e}(),$S=function(){function e(){ya(this,e),this.index={}}return ka(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Db(Jw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Db(Jw.comparator)).toArray()}}]),e}(),JS=new Uint8Array(0),YS=function(){function e(t,n){ya(this,e),this.user=t,this.databaseId=n,this.He=new $S,this.Je=new V_((function(e){return bx(e)}),(function(e,t){return xx(e,t)})),this.uid=t.uid||""}return ka(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:BI(i)};return XS(e).put(a)}return db.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ww(t),""],!1,!0);return XS(e).K(r).next((function(e){var r,i=Bo(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(KI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=eE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=tE(e);return a.next((function(e){o.put(PS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=eE(e),r=tE(e),i=ZS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ZS(e),i=!0,a=new Map;return db.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Y_(),o=[];return db.forEach(a,(function(i,a){var u;Iw("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(bx(t)));var s=function(e,t){var n=tb(t);if(void 0===n)return null;var r,i=Bo(Ix(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Bo(nb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Bo(Ix(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Bo(nb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Sx(e,o.fieldPath,e.startAt):Ex(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Mx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Bo(nb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ex(e,o.fieldPath,e.endAt):Sx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Mx(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return db.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Zw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return db.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):JS,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,ma(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new KS(e,Zw.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new KS(e,Zw.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new HS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Bo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return db.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Db(Xw.comparator),r=!1,i=Bo(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Bo(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new qS,i=Bo(nb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);FS.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new qS;return FS.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new qS;return FS.ye.re(ix(this.databaseId,t),n.Be(function(e){var t=nb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new qS);var i,a=0,o=Bo(nb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Bo(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ox(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);FS.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=ma(e),a=[],o=Bo(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Bo(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new qS;f.seed(l.Oe()),FS.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Tx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=eE(e),i=tE(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return db.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ib(t.sequenceNumber,new ub(IS(t.readTime),new Zw(KI(t.documentKey)),t.largestBatchId)):ib.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new rb(Xw.fromServerFormat(n),r)}));return new eb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Kw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=eE(e),a=tE(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return db.forEach(t,(function(t){return a.put(PS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return db.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?db.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),db.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?db.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return ZS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return ZS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=ZS(e),i=new Db(GS);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new KS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Db(GS),r=this.on(t,e);if(null==r)return n;var i=tb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ox(a)){var o,u=Bo(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new KS(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new KS(t.indexId,e.key,JS,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Iw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ob(a),s=Ob(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ob(o)):l?(i(u),u=Ob(a)):(u=Ob(a),s=Ob(o))}}(r,i,GS,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),db.waitFor(o)}},{key:"ln",value:function(e){var t=1;return tE(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return GS(e,t)})).filter((function(e,t,n){return!t||0!==GS(e,n[t-1])}));var r=[];r.push(e);var i,a=Bo(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=GS(o,e),s=GS(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,JS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,JS,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(nE)}},{key:"getMinOffset",value:function(e,t){var n=this;return db.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Cw()}))})).next(nE)}}]),e}();function XS(e){return vS(e,"collectionParents")}function ZS(e){return vS(e,"indexEntries")}function eE(e){return vS(e,"indexConfiguration")}function tE(e){return vS(e,"indexState")}function nE(e){Aw(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;sb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ub(t.readTime,t.documentKey,n)}var rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=function(){function e(t,n,r){ya(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ka(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function aE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Aw(1===u)})));var c,l=[],f=Bo(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=HI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return db.waitFor(a).next((function(){return l}))}function oE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cw();t=e.noDocument}return JSON.stringify(t).length}iE.DEFAULT_COLLECTION_PERCENTILE=10,iE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,iE.DEFAULT=new iE(41943040,iE.DEFAULT_COLLECTION_PERCENTILE,iE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),iE.DISABLED=new iE(-1,0,0);var uE=function(){function e(t,n,r,i){ya(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ka(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cE(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=lE(e),o=cE(e);return o.add({}).next((function(u){Aw("number"==typeof u);var s,c=new mS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return TI(e.ne,t)})),i=n.mutations.map((function(t){return TI(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Db((function(e,t){return Kw(e.canonicalString(),t.canonicalString())})),d=Bo(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=HI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,QI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),db.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return cE(e).get(t).next((function(e){return e?(Aw(e.userId===n.userId),SS(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?db.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return cE(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Aw(t.batchId>=r),a=SS(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cE(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cE(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return SS(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=WI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return lE(e).J({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=KI(l);if(s===n.userId&&t.path.isEqual(h))return cE(e).get(f).next((function(e){if(!e)throw Cw();Aw(e.userId===n.userId),a.push(SS(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Db(Kw),i=[];return t.forEach((function(t){var a=WI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=lE(e).J({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=KI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),db.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=WI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Db(Kw);return lE(e).J({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=KI(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(cE(e).get(t).next((function(e){if(null===e)throw Cw();Aw(e.userId===n.userId),r.push(SS(n.wt,e))})))})),db.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return aE(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),db.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return db.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return lE(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=KI(e[1]);i.push(a)}else r.done()})).next((function(){Aw(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return sE(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return fE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Aw(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function sE(e,t,n){var r=WI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return lE(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function cE(e){return vS(e,"mutations")}function lE(e){return vS(e,"documentMutations")}function fE(e){return vS(e,"mutationQueues")}var hE=function(){function e(t){ya(this,e),this.En=t}return ka(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),dE=function(){function e(t,n){ya(this,e),this.referenceDelegate=t,this.wt=n}return ka(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new hE(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Qw.fromTimestamp(new Hw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return pE(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Aw(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return pE(e).J((function(o,u){var s=ES(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return db.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return pE(e).J((function(e,n){var r=ES(n);t(r)}))}},{key:"bn",value:function(e){return vE(e).get("targetGlobalKey").next((function(e){return Aw(null!==e),e}))}},{key:"Pn",value:function(e,t){return vE(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return pE(e).put(TS(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=bx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pE(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ES(n);xx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=mE(e);return t.forEach((function(t){var o=BI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),db.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=mE(e);return db.forEach(t,(function(t){var a=BI(t.path);return db.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=mE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mE(e),i=Y_();return r.J({range:n,H:!0},(function(e,t,n){var r=KI(e[1]),a=new Zw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=BI(t.path),r=IDBKeyRange.bound([n],[Ww(n)],!1,!0),i=0;return mE(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return pE(e).get(t).next((function(e){return e?ES(e):null}))}}]),e}();function pE(e){return vS(e,"targets")}function vE(e){return vS(e,"targetGlobal")}function mE(e){return vS(e,"targetDocuments")}function yE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Kw(r,o);return 0===s?Kw(i,u):s}var gE=function(){function e(t){ya(this,e),this.Sn=t,this.buffer=new Db(yE),this.Dn=0}return ka(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kE=function(){function e(t,n,r){ya(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ka(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Iw("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!gb(e.t0)){e.next=12;break}Iw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,fb(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),wE=function(){function e(t,n){ya(this,e),this.On=t,this.params=n}return ka(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return db.resolve(Sb.ot);var r=new gE(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Iw("LruGarbageCollector","Garbage collection skipped; disabled"),db.resolve(rE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Iw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),rE):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Iw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_w()<=Su.DEBUG&&Iw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),db.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),bE=function(){function e(t,n){ya(this,e),this.db=t,this.garbageCollector=function(e,t){return new wE(e,t)}(this,n)}return ka(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return xE(e,n)}},{key:"removeReference",value:function(e,t,n){return xE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xE(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return fE(e).Y((function(r){return sE(e,r,t).next((function(e){return e&&(n=!0),db.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qw.min()),mE(e).delete([0,BI(o.path)])}))}));i.push(s)}})).next((function(){return db.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xE(e,t)}},{key:"Ln",value:function(e,t){var n,r=mE(e),i=Sb.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Sb.ot&&t(new Zw(KI(n)),i),i=s,n=u):i=Sb.ot})).next((function(){i!==Sb.ot&&t(new Zw(KI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xE(e,t){return mE(e).put(function(e,t){return{targetId:0,path:BI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _E=function(){function e(){ya(this,e),this.changes=new V_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ka(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,gx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?db.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),IE=function(){function e(t){ya(this,e),this.wt=t}return ka(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return CE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return CE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],xS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=gx.newInvalidDocument(t);return CE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(AE(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:gx.newInvalidDocument(t)};return CE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(AE(t))},(function(e,i){r={document:n.Kn(t,i),size:oE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=z_();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=z_(),i=new Ab(Zw.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,oE(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return db.resolve();var r=new Db(PE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(AE(r.first()),AE(r.last())),a=r.getIterator(),o=a.getNext();return CE(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Zw.fromSegments([].concat(ma(t.prefixPath),[t.collectionGroup,t.documentId]));o&&PE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(AE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),xS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return CE(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=z_(),i=Bo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Zw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=z_(),o=NE(t,n),u=NE(t,ub.max());return CE(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Zw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new EE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return TE(e).get("remoteDocumentGlobalKey").next((function(e){return Aw(!!e),e}))}},{key:"qn",value:function(e,t){return TE(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=SI(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Zw.fromSegments(t.noDocument.path),i=IS(t.noDocument.readTime);n=gx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Cw();var a=Zw.fromSegments(t.unknownDocument.path),o=IS(t.unknownDocument.version);n=gx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Hw(e[0],e[1]);return Qw.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Qw.min()))return n}return gx.newInvalidDocument(e)}}]),e}();function SE(e){return new IE(e)}var EE=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new V_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ka(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Db((function(e,t){return Kw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bS(t.zn.wt,o);i=i.add(a.path.popLast());var c=oE(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bS(t.zn.wt,o.convertToNoDocument(Qw.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),db.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(_E);function TE(e){return vS(e,"remoteDocumentGlobal")}function CE(e){return vS(e,"remoteDocumentsV14")}function AE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NE(e,t){var n=t.documentKey.path.toArray();return[e,xS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function PE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Kw(n[a],r[a]))return i;return(i=Kw(n.length,r.length))||((i=Kw(n[n.length-2],r[r.length-2]))||Kw(n[n.length-1],r[r.length-1]))}var DE=ka((function e(t,n){ya(this,e),this.overlayedDocument=t,this.mutatedFields=n})),RE=function(){function e(t,n,r,i){ya(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ka(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&S_(r.mutation,e,Lb.empty(),Hw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Y_()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y_(),i=W_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=K_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=W_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Y_())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=z_(),a=Q_(),o=Q_();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof A_)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),S_(o.mutation,t,o.mutation.getFieldMask(),Hw.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new DE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Q_(),i=new Ab((function(e,t){return e-t})),a=Y_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Bo(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Lb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Y_()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=H_();c.forEach((function(e){if(!a.has(e)){var n=__(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return db.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Zw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):db.resolve(W_()),u=-1,s=a;return o.next((function(t){return db.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?db.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Y_())})).next((function(e){return{batchId:u,changes:G_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Zw(t)).next((function(e){var t=K_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=K_();return this.indexManager.getCollectionParents(e,i).next((function(o){return db.forEach(o,(function(o){var u=function(e,t){return new Bx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,gx.newInvalidDocument(n)))}));var n=K_();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&S_(a.mutation,i,Lb.empty(),Hw.now()),Zx(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):db.resolve(gx.newInvalidDocument(t))}}]),e}(),OE=function(){function e(t){ya(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ka(e,[{key:"getBundleMetadata",value:function(e,t){return db.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:vI(n.createTime)}),db.resolve()}},{key:"getNamedQuery",value:function(e,t){return db.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:CS(e.bundledQuery),readTime:vI(e.readTime)}}(t)),db.resolve()}}]),e}(),LE=function(){function e(){ya(this,e),this.overlays=new Ab(Zw.comparator),this.Xn=new Map}return ka(e,[{key:"getOverlay",value:function(e,t){return db.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=W_();return db.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),db.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),db.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=W_(),i=t.length+1,a=new Zw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return db.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ab((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=W_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=W_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return db.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gS(t,n));var a=this.Xn.get(t);void 0===a&&(a=Y_(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),ME=function(){function e(){ya(this,e),this.Zn=new Db(FE.ts),this.es=new Db(FE.ns)}return ka(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new FE(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new FE(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Zw(new Jw([])),r=new FE(n,e),i=new FE(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Zw(new Jw([])),n=new FE(t,e),r=new FE(t,e+1),i=Y_();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new FE(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),FE=function(){function e(t,n){ya(this,e),this.key=t,this.ls=n}return ka(e,null,[{key:"ts",value:function(e,t){return Zw.comparator(e.key,t.key)||Kw(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Kw(e.ls,t.ls)||Zw.comparator(e.key,t.key)}}]),e}(),jE=function(){function e(t,n){ya(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Db(FE.ts)}return ka(e,[{key:"checkEmpty",value:function(e){return db.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mS(i,t,n,r);this.mutationQueue.push(a);var o,u=Bo(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new FE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return db.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return db.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return db.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return db.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return db.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new FE(t,0),i=new FE(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),db.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Db(Kw);return t.forEach((function(e){var t=new FE(e,0),i=new FE(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),db.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Zw.isDocumentKey(i)||(i=i.child(""));var a=new FE(new Zw(i),0),o=new Db(Kw);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),db.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Aw(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return db.forEach(t.mutations,(function(i){var a=new FE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new FE(t,0),r=this.ds.firstAfterOrEqual(n);return db.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,db.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),UE=function(){function e(t){ya(this,e),this.ps=t,this.docs=new Ab(Zw.comparator),this.size=0}return ka(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return db.resolve(n?n.document.mutableCopy():gx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=z_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():gx.newInvalidDocument(e))})),db.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=z_(),i=new Zw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||sb(ob(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return db.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Cw()}},{key:"Is",value:function(e,t){return db.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new VE(this)}},{key:"getSize",value:function(e){return db.resolve(this.size)}}]),e}(),VE=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).zn=e,r}return ka(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),db.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(_E),BE=function(){function e(t){ya(this,e),this.persistence=t,this.Ts=new V_((function(e){return bx(e)}),xx),this.lastRemoteSnapshotVersion=Qw.min(),this.highestTargetId=0,this.Es=0,this.As=new ME,this.targetCount=0,this.Rs=hE.An()}return ka(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),db.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return db.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return db.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),db.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),db.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new hE(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,db.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),db.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,db.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),db.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return db.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return db.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),db.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),db.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),db.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return db.resolve(n)}},{key:"containsKey",value:function(e,t){return db.resolve(this.As.containsKey(t))}}]),e}(),zE=function(){function e(t,n){var r=this;ya(this,e),this.bs={},this.overlays={},this.Ps=new Sb(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new BE(this),this.indexManager=new QS,this.remoteDocumentCache=new UE((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new wS(n),this.Ds=new OE(this.wt)}return ka(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new LE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new jE(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Iw("MemoryPersistence","Starting transaction:",e);var i=new qE(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return db.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qE=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ka(n)}(lb),KE=function(){function e(t){ya(this,e),this.persistence=t,this.ks=new ME,this.Os=null}return ka(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Cw()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),db.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),db.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),db.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return db.forEach(this.Fs,(function(r){var i=Zw.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Qw.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return db.or([function(){return db.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),GE=function(){function e(t){ya(this,e),this.wt=t}return ka(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new pb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GI,{unique:!0}),e.createObjectStore("documentMutations")}(e),WE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=db.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),WE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return db.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oS});t.createIndex("collectionPathOverlayIndex",uS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:$I});t.createIndex("documentKeyIndex",JI),t.createIndex("collectionGroupIndex",YI)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nS}).createIndex("sequenceNumberIndex",rS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:iS}).createIndex("documentKeyIndex",aS,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=oE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return db.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return db.forEach(r,(function(r){Aw(r.userId===n.userId);var i=SS(t.wt,r);return aE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Jw(n),o=function(e){return[0,BI(e)]}(a);r.push(t.get(o).next((function(n){return n?db.resolve():function(n){return t.put({targetId:0,path:BI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return db.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:tS});var n=t.store("collectionParents"),r=new $S,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:BI(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Jw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],KI(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=ES(r),a=TS(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Zw(Jw.fromString(i.document.name).popFirst(5)):i.noDocument?Zw.fromSegments(i.noDocument.path):i.unknownDocument?Zw.fromSegments(i.unknownDocument.path):Cw()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return db.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=SE(this.wt),a=new zE(KE.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Y_();SS(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),db.forEach(r,(function(e,r){var o=new ww(r),u=LS.se(n.wt,o),s=a.getIndexManager(o),c=uE.se(o,n.wt,s,a.referenceDelegate);return new RE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new pS(t,Sb.ot),e).next()}))}))}}]),e}();function WE(e){e.createObjectStore("targetDocuments",{keyPath:ZI}).createIndex("documentTargetsIndex",eS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XI,{unique:!0}),e.createObjectStore("targetGlobal")}var HE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(ya(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Dw(Pw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bE(this,i),this.ei=n+"main",this.wt=new wS(s),this.ni=new vb(this.ei,this.Hs,new GE(this.wt)),this.Vs=new dE(this.referenceDelegate,this.wt),this.remoteDocumentCache=SE(this.wt),this.Ds=new DS,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Sw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ka(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Dw(Pw.FAILED_PRECONDITION,HE);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Sb(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=wu(gu().mark((function n(r){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=wu(gu().mark((function t(n){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return JE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(gb(t))return Iw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Iw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return $E(e).get("owner").next((function(e){return db.resolve(t.di(e))}))}},{key:"_i",value:function(e){return JE(e).delete(this.clientId)}},{key:"wi",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i,a=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vS(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return db.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Bo(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?db.resolve(!0):$E(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Dw(Pw.FAILED_PRECONDITION,HE);return!1}}return!(!t.networkEnabled||!t.inForeground)||JE(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Iw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=wu(gu().mark((function e(){var t=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new pS(e,Sb.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return JE(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return uE.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new YS(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return LS.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Iw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?dS:14===i?hS:13===i?fS:12===i?lS:11===i?cS:void Cw();return this.ni.runTransaction(e,o,u,(function(i){return a=new pS(i,r.Ps?r.Ps.next():Sb.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Sw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Dw(Pw.FAILED_PRECONDITION,cb);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return $E(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Dw(Pw.FAILED_PRECONDITION,HE)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $E(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=$E(e);return n.get("owner").next((function(e){return t.di(e)?(Iw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):db.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Sw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Zo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Iw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Sw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(wm){Sw("Failed to set zombie client id.",wm)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(wm){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return vb.V()}}]),e}();function $E(e){return vS(e,"owner")}function JE(e){return vS(e,"clientMetadata")}function YE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XE=function(){function e(t,n,r,i){ya(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ka(e,null,[{key:"Vi",value:function(t,n){var r,i=Y_(),a=Y_(),o=Bo(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ZE=function(){function e(){ya(this,e),this.Si=!1}return ka(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return db.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Qw.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(_w()<=Su.DEBUG&&Iw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xx(t)),i.Mi(e,o,t,ab(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Db(t_(e));return t.forEach((function(t,r){Zx(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return _w()<=Su.DEBUG&&Iw("QueryEngine","Using full collection scan to execute query:",Xx(t)),this.Di.getDocumentsMatchingQuery(e,t,ub.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),eT=function(){function e(t,n,r,i){ya(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Ab(Kw),this.Bi=new V_((function(e){return bx(e)}),xx),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ka(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RE(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function tT(e,t,n,r){return new eT(e,t,n,r)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Y_(),s=Bo(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Bo(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Bo(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Bo(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){var n=Nw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=db.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Aw(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Y_(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function aT(e){var t=Nw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function oT(e,t){var n=Nw(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Mb.EMPTY_BYTE_STRING,Qw.min()).withLastLimboFreeSnapshotVersion(Qw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=z_(),s=Y_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(uT(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Qw.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return db.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function uT(e,t,n){var r=Y_(),i=Y_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=z_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Qw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Iw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function sT(e,t){var n=Nw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function cT(e,t){var n=Nw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,db.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new kS(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function lT(e,t,n){return fT.apply(this,arguments)}function fT(){return fT=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nw(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gb(e.t1)){e.next=12;break}throw e.t1;case 12:Iw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),fT.apply(this,arguments)}function hT(e,t,n){var r=Nw(e),i=Qw.min(),a=Y_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Nw(e),i=r.Bi.get(n);return void 0!==i?db.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Qx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Qw.min(),n?a:Y_())})).next((function(e){return vT(r,e_(t),e),{documents:e,ji:a}}))}))}function dT(e,t){var n=Nw(e),r=Nw(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function pT(e,t){var n=Nw(e),r=n.Li.get(t)||Qw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,ab(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return vT(n,t,e),e}))}function vT(e,t,n){var r=Qw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function mT(e,t,n,r){return yT.apply(this,arguments)}function yT(){return yT=wu(gu().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Nw(t),o=Y_(),u=z_(),s=Bo(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,cT(a,function(e){return Qx(qx(Jw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return uT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t){return kT.apply(this,arguments)}function kT(){return kT=wu(gu().mark((function e(t,n){var r,i,a,o=arguments;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Y_(),e.next=3,cT(t,Qx(CS(n.bundledQuery)));case 3:return i=e.sent,a=Nw(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=vI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Mb.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function wT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function xT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var _T=function(){function e(t,n,r,i){ya(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ka(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Dw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Sw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),IT=function(){function e(t,n,r){ya(this,e),this.targetId=t,this.state=n,this.error=r}return ka(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Dw(i.error.code,i.error.message))),a?new e(t,i.state,r):(Sw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ST=function(){function e(t,n){ya(this,e),this.clientId=t,this.activeTargetIds=n}return ka(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Z_(),o=0;i&&o<r.activeTargetIds.length;++o)i=Qb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Sw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){ya(this,e),this.clientId=t,this.onlineState=n}return ka(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Sw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),TT=function(){function e(){ya(this,e),this.activeTargetIds=Z_()}return ka(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),CT=function(){function e(t,n,r,i,a){ya(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ab(Kw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=wT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new TT),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ka(e,[{key:"start",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Bo(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(wT(this.persistenceKey,i)))&&(o=ST.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Bo(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(xT(this.persistenceKey,e));if(n){var r=IT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(xT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Iw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Iw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Iw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Iw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Sw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(wu(gu().mark((function e(){var r,i,a,o,u,s,c;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Sb.ot;if(null!=e)try{var n=JSON.parse(e);Aw("number"==typeof n),t=n}catch(e){Sw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Sb.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new _T(this.currentUser,e,t,n),i=bT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=bT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=xT(this.persistenceKey,e),i=new IT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ST.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _T.Ji(new ww(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return IT.Ji(r,t)}},{key:"wr",value:function(e){return ET.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Iw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Z_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),AT=function(){function e(){ya(this,e),this.Fr=new TT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ka(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new TT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),NT=function(){function e(){ya(this,e)}return ka(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),PT=function(){function e(){var t=this;ya(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ka(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Iw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Bo(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Iw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Bo(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),DT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},RT=function(){function e(t){ya(this,e),this.jr=t.jr,this.Wr=t.Wr}return ka(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),OT=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ka(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new gw;o.listenOnce(dw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case hw.NO_ERROR:var t=o.getResponseJson();Iw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hw.TIMEOUT:Iw("Connection",'RPC "'+e+'" timed out'),a(new Dw(Pw.DEADLINE_EXCEEDED,"Request time out"));break;case hw.HTTP_ERROR:var n=o.getStatus();if(Iw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pw).indexOf(t)>=0?t:Pw.UNKNOWN}(r.status);a(new Dw(u,r.message))}else a(new Dw(Pw.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Dw(Pw.UNAVAILABLE,"Connection failed."));break;default:Cw()}}finally{Iw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=lw(),a=fw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new mw({})),this.uo(o.initMessageHeaders,t,n),Xo()||tu()||Yo().indexOf("Electron/")>=0||nu()||Yo().indexOf("MSAppHost/")>=0||eu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Iw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new RT({jr:function(e){l?Iw("Connection","Not sending because WebChannel is closed:",e):(c||(Iw("Connection","Opening WebChannel transport."),s.open(),c=!0),Iw("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,yw.EventType.OPEN,(function(){l||Iw("Connection","WebChannel transport opened.")})),h(s,yw.EventType.CLOSE,(function(){l||(l=!0,Iw("Connection","WebChannel transport closed"),f.eo())})),h(s,yw.EventType.ERROR,(function(e){l||(l=!0,Ew("Connection","WebChannel transport errored:",e),f.eo(new Dw(Pw.UNAVAILABLE,"The operation could not be completed")))})),h(s,yw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Aw(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Iw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=R_[e];if(void 0!==t)return U_(t)}(a),u=i.message;void 0===o&&(o=Pw.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Dw(o,u)),s.close()}else Iw("Connection","WebChannel received:",n),f.no(n)}})),h(a,pw.STAT_EVENT,(function(e){e.stat===vw.PROXY?Iw("Connection","Detected buffering proxy"):e.stat===vw.NOPROXY&&Iw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ya(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ka(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Iw("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Iw("RestConnection","Received: ",e),e}),(function(t){throw Ew("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=DT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function LT(){return"undefined"!=typeof window?window:null}function MT(){return"undefined"!=typeof document?document:null}function FT(e){return new fI(e,!0)}var jT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ya(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ka(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Iw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),UT=function(){function e(t,n,r,i,a,o,u,s){ya(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new jT(t,n)}return ka(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Pw.RESOURCE_EXHAUSTED?(Sw(n.toString()),Sw("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Pw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Dw(Pw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Iw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Iw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),VT=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return ya(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return ka(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Aw(void 0===t||"string"==typeof t),Mb.fromBase64String(t||"")):(Aw(void 0===t||t instanceof Uint8Array),Mb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Pw.UNKNOWN:U_(e.code);return new Dw(t,e.message||"")}(o);n=new iI(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=kI(e,s.document.name),l=vI(s.document.updateTime),f=new mx({mapValue:{fields:s.document.fields}}),h=gx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new nI(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=kI(e,v.document),y=v.readTime?vI(v.readTime):Qw.min(),g=gx.newNoDocument(m,y),k=v.removedTargetIds||[];n=new nI([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=kI(e,w.document),x=w.removedTargetIds||[];n=new nI([],x,b,null)}else{if(!("filter"in t))return Cw();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new F_(I),E=_.targetId;n=new rI(E,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Qw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qw.min():t.readTime?vI(t.readTime):Qw.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=xI(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=_x(r)?{documents:AI(e,r)}:{query:NI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=dI(e,t.resumeToken):t.snapshotVersion.compareTo(Qw.min())>0&&(n.readTime=hI(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cw()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=xI(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(UT),BT=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return ya(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return ka(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Ws(ca(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Aw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Aw(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vI(e.updateTime):vI(t);return n.isEqual(Qw.min())&&(n=vI(t)),new k_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vI(e.commitTime);return this.listener.Jo(n,t)}return Aw(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=xI(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return TI(t.wt,e)}))};this.Mo(n)}}]),n}(UT),zT=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a){var o;return ya(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ka(n,[{key:"tu",value:function(){if(this.Zo)throw new Dw(Pw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Dw(Pw.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Dw(Pw.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ka((function e(){ya(this,e)}))}()),qT=function(){function e(t,n){ya(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ka(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Sw(t),this.su=!1):Iw("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),KT=ka((function e(t,n,r,i,a){var o=this;ya(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=tC(o),!e.t0){e.next=5;break}return Iw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nw(t)).lu.add(4),e.next=4,HT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,GT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new qT(r,i)}));function GT(e){return WT.apply(this,arguments)}function WT(){return WT=wu(gu().mark((function e(t){var n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tC(t)){e.next=18;break}n=Bo(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),WT.apply(this,arguments)}function HT(e){return QT.apply(this,arguments)}function QT(){return QT=wu(gu().mark((function e(t){var n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bo(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),QT.apply(this,arguments)}function $T(e,t){var n=Nw(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),eC(n)?ZT(n):NC(n).Co()&&YT(n,t))}function JT(e,t){var n=Nw(e),r=NC(n);n.hu.delete(t),r.Co()&&XT(n,t),0===n.hu.size&&(r.Co()?r.ko():tC(n)&&n._u.set("Unknown"))}function YT(e,t){e.wu.Nt(t.targetId),NC(e).Qo(t)}function XT(e,t){e.wu.Nt(t),NC(e).jo(t)}function ZT(e){e.wu=new oI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),NC(e).start(),e._u.iu()}function eC(e){return tC(e)&&!NC(e).Do()&&e.hu.size>0}function tC(e){return 0===Nw(e).lu.size}function nC(e){e.wu=void 0}function rC(e){return iC.apply(this,arguments)}function iC(){return iC=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){YT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nC(t),eC(t)?(t._u.uu(n),ZT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=wu(gu().mark((function e(t,n,r){var i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof iI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Bo(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Iw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,cC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof nI?t.wu.Ut(n):n instanceof rI?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Qw.min())){e.next=29;break}return e.prev=14,e.next=17,aT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Mb.EMPTY_BYTE_STRING,n.snapshotVersion)),XT(e,t);var r=new kS(n.target,t,1,n.sequenceNumber);YT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Iw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,cC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sC.apply(this,arguments)}function cC(e,t,n){return lC.apply(this,arguments)}function lC(){return lC=wu(gu().mark((function e(t,n,r){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gb(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,HT(t);case 5:t._u.set("Offline"),r||(r=function(){return aT(t.localStore)}),t.asyncQueue.enqueueRetryable(wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,GT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return t().catch((function(n){return cC(e,n,t)}))}function hC(e){return dC.apply(this,arguments)}function dC(){return dC=wu(gu().mark((function e(t){var n,r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nw(t),r=PC(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!pC(n)){e.next=19;break}return e.prev=3,e.next=6,sT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,vC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,cC(n,e.t0);case 17:e.next=2;break;case 19:mC(n)&&yC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dC.apply(this,arguments)}function pC(e){return tC(e)&&e.au.length<10}function vC(e,t){e.au.push(t);var n=PC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function mC(e){return tC(e)&&!PC(e).Do()&&e.au.length>0}function yC(e){PC(e).start()}function gC(e){return kC.apply(this,arguments)}function kC(){return kC=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:PC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function wC(e){return bC.apply(this,arguments)}function bC(){return bC=wu(gu().mark((function e(t){var n,r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=PC(t),r=Bo(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=yS.from(i,n,r),e.next=3,fC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,hC(t);case 5:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function IC(e,t){return SC.apply(this,arguments)}function SC(){return SC=wu(gu().mark((function e(t,n){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&PC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j_(i=n.code)||i===Pw.ABORTED){e.next=7;break}return r=t.au.shift(),PC(t).No(),e.next=5,fC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,hC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:mC(t)&&yC(t);case 5:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function EC(e,t){return TC.apply(this,arguments)}function TC(){return TC=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Nw(t)).asyncQueue.verifyOperationInProgress(),Iw("RemoteStore","RemoteStore received new credentials"),i=tC(r),r.lu.add(3),e.next=6,HT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,GT(r);case 12:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){return AC.apply(this,arguments)}function AC(){return AC=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nw(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,GT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,HT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function NC(e){return e.mu||(e.mu=function(e,t,n){var r=Nw(e);return r.tu(),new VT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:rC.bind(null,e),Jr:aC.bind(null,e),Go:uC.bind(null,e)}),e.fu.push(function(){var t=wu(gu().mark((function t(n){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),eC(e)?ZT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:nC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function PC(e){return e.gu||(e.gu=function(e,t,n){var r=Nw(e);return r.tu(),new BT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:gC.bind(null,e),Jr:IC.bind(null,e),Yo:wC.bind(null,e),Jo:xC.bind(null,e)}),e.fu.push(function(){var t=wu(gu().mark((function t(n){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,hC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Iw("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var DC=function(){function e(t,n,r,i,a){ya(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ka(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dw(Pw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function RC(e,t){if(Sw("AsyncQueue","".concat(t,": ").concat(e)),gb(e))return new Dw(Pw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var OC=function(){function e(t){ya(this,e),this.comparator=t?function(e,n){return t(e,n)||Zw.comparator(e.key,n.key)}:function(e,t){return Zw.comparator(e.key,t.key)},this.keyedMap=K_(),this.sortedSet=new Ab(this.comparator)}return ka(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),LC=function(){function e(){ya(this,e),this.yu=new Ab(Zw.comparator)}return ka(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Cw():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),MC=function(){function e(t,n,r,i,a,o,u,s){ya(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ka(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,OC.emptySet(n),a,r,i,!0,!1)}}]),e}(),FC=ka((function e(){ya(this,e),this.Iu=void 0,this.listeners=[]})),jC=ka((function e(){ya(this,e),this.queries=new V_((function(e){return Yx(e)}),Jx),this.onlineState="Unknown",this.Tu=new Set}));function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=wu(gu().mark((function e(t,n){var r,i,a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nw(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new FC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=RC(e.t0,"Initialization of query '".concat(Xx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&GC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),VC.apply(this,arguments)}function BC(e,t){return zC.apply(this,arguments)}function zC(){return zC=wu(gu().mark((function e(t,n){var r,i,a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nw(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function qC(e,t){var n,r=Nw(e),i=!1,a=Bo(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Bo(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&GC(r)}function KC(e,t,n){var r=Nw(e),i=r.queries.get(t);if(i){var a,o=Bo(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function GC(e){e.Tu.forEach((function(e){e.next()}))}var WC=function(){function e(t,n,r){ya(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ka(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Bo(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new MC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=MC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),HC=function(){function e(t,n){ya(this,e),this.payload=t,this.byteLength=n}return ka(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),QC=function(){function e(t){ya(this,e),this.wt=t}return ka(e,[{key:"Wi",value:function(e){return kI(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?SI(this.wt,e.document,!1):gx.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return vI(e)}}]),e}(),$C=function(){function e(t,n,r){ya(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JC(t)}return ka(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Jw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new QC(this.wt),i=Bo(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Bo(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Y_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mT(this.localStore,new QC(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Bo(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,gT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function JC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var YC=ka((function e(t){ya(this,e),this.key=t})),XC=ka((function e(t){ya(this,e),this.key=t})),ZC=function(){function e(t,n){ya(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Y_(),this.mutatedKeys=Y_(),this.Lu=t_(t),this.Uu=new OC(this.Lu)}return ka(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new LC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cw()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new MC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new LC,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Y_(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new XC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new YC(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Y_();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return MC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),eA=ka((function e(t,n,r){ya(this,e),this.query=t,this.targetId=n,this.view=r})),tA=ka((function e(t){ya(this,e),this.key=t,this.Xu=!1})),nA=function(){function e(t,n,r,i,a,o){ya(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new V_((function(e){return Yx(e)}),Jx),this.ec=new Map,this.nc=new Set,this.sc=new Ab(Zw.comparator),this.ic=new Map,this.rc=new ME,this.oc={},this.uc=new Map,this.cc=hE.Rn(),this.onlineState="Unknown",this.ac=void 0}return ka(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=wu(gu().mark((function e(t,n){var r,i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JA(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,cT(r.localStore,Qx(n));case 8:return u=e.sent,r.isPrimaryClient&&$T(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,aA(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t,n,r){return oA.apply(this,arguments)}function oA(){return oA=wu(gu().mark((function e(t,n,r,i){var a,o,u,s,c,l;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=wu(gu().mark((function e(t,n,r,i){var a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,hT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(EA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,hT(t.localStore,n,!0);case 3:return a=e.sent,o=new ZC(n,a.ji),u=o.Ku(a.documents),s=tI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),EA(t,r,c.zu),l=new eA(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t){return sA.apply(this,arguments)}function sA(){return sA=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nw(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Jx(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,lT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),JT(r.remoteStore,i.targetId),IA(r,i.targetId)})).catch(fb);case 9:e.next=14;break;case 11:return IA(r,i.targetId),e.next=14,lT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t,n){return lA.apply(this,arguments)}function lA(){return lA=wu(gu().mark((function e(t,n,r){var i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Nw(e),a=Hw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Y_());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=z_(),s=Y_();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Bo(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=E_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new A_(c.key,l,yx(l.value.mapValue),w_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:G_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Ab(Kw)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,AA(i,a.changes);case 9:return e.next=11,hC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=RC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),lA.apply(this,arguments)}function fA(e,t){return hA.apply(this,arguments)}function hA(){return hA=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.prev=1,e.next=4,oT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Aw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Aw(n.Xu):e.removedDocuments.size>0&&(Aw(n.Xu),n.Xu=!1))})),e.next=8,AA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hA.apply(this,arguments)}function dA(e,t,n){var r=Nw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Nw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Bo(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&GC(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pA(e,t,n){return vA.apply(this,arguments)}function vA(){return vA=wu(gu().mark((function e(t,n,r){var i,a,o,u,s,c;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Nw(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ab(Zw.comparator)).insert(o,gx.newNoDocument(o,Qw.min())),s=Y_().add(o),c=new eI(Qw.min(),new Map,new Db(Kw),u,s),e.next=9,fA(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),CA(i),e.next=16;break;case 14:return e.next=16,lT(i.localStore,n,!1).then((function(){return IA(i,n,r)})).catch(fb);case 16:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),i=n.batch.batchId,e.prev=1,e.next=4,iT(r.localStore,n);case 4:return a=e.sent,_A(r,i,null),xA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,AA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yA.apply(this,arguments)}function gA(e,t,n){return kA.apply(this,arguments)}function kA(){return kA=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nw(t),e.prev=1,e.next=4,function(e,t){var n=Nw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Aw(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,_A(i,n,r),xA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,AA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,fb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kA.apply(this,arguments)}function wA(e,t){return bA.apply(this,arguments)}function bA(){return bA=wu(gu().mark((function e(t,n){var r,i,a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tC((r=Nw(t)).remoteStore)||Iw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Nw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=RC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),bA.apply(this,arguments)}function xA(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function _A(e,t,n){var r=Nw(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function IA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Bo(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||SA(e,t)}))}function SA(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(JT(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),CA(e))}function EA(e,t,n){var r,i=Bo(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof YC?(e.rc.addReference(a.key,t),TA(e,a)):a instanceof XC?(Iw("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||SA(e,a.key)):Cw()}}catch(o){i.e(o)}finally{i.f()}}function TA(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Iw("SyncEngine","New document in limbo: "+n),e.nc.add(r),CA(e))}function CA(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Zw(Jw.fromString(t)),r=e.cc.next();e.ic.set(r,new tA(n)),e.sc=e.sc.insert(n,r),$T(e.remoteStore,new kS(Qx(qx(n.path)),r,2,Sb.ot))}}function AA(e,t,n){return NA.apply(this,arguments)}function NA(){return NA=wu(gu().mark((function e(t,n,r){var i,a,o,u;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Nw(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=XE.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=wu(gu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return db.forEach(n,(function(t){return db.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return db.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gb(e.t0)){e.next=10;break}throw e.t0;case 10:Iw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Bo(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function PA(e,t){return DA.apply(this,arguments)}function DA(){return DA=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Nw(t)).currentUser.isEqual(n)){e.next=11;break}return Iw("SyncEngine","User change. New user:",n.toKey()),e.next=5,nT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Dw(Pw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,AA(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function RA(e,t){var n=Nw(e),r=n.ic.get(t);if(r&&r.Xu)return Y_().add(r.key);var i=Y_(),a=n.ec.get(t);if(!a)return i;var o,u=Bo(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function OA(e,t){return LA.apply(this,arguments)}function LA(){return LA=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.next=3,hT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&EA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e,t){return FA.apply(this,arguments)}function FA(){return FA=wu(gu().mark((function e(t,n){var r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.abrupt("return",pT(r.localStore,n).then((function(e){return AA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function jA(e,t,n,r){return UA.apply(this,arguments)}function UA(){return UA=wu(gu().mark((function e(t,n,r,i){var a,o;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nw(t),e.next=3,function(e,t){var n=Nw(e),r=Nw(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):db.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,hC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_A(a,n,i||null),xA(a,n),function(e,t){Nw(Nw(e).mutationQueue).In(t)}(a.localStore,n)):Cw();case 11:return e.next=13,AA(a,o);case 13:e.next=16;break;case 15:Iw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function VA(e,t){return BA.apply(this,arguments)}function BA(){return BA=wu(gu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JA(r=Nw(t)),YA(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,zA(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,CC(r.remoteStore,!0);case 9:o=Bo(a);try{for(o.s();!(u=o.n()).done;)s=u.value,$T(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return IA(r,t),lT(r.localStore,t,!0)})),JT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,zA(r,c);case 21:return function(e){var t=Nw(e);t.ic.forEach((function(e,n){JT(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Ab(Zw.comparator)}(r),r.ac=!1,e.next=25,CC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function zA(e,t,n){return qA.apply(this,arguments)}function qA(){return qA=wu(gu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Nw(t),a=[],o=[],u=Bo(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,cT(i.localStore,Qx(f[0]));case 11:l=e.sent,h=Bo(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,OA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,dT(i.localStore,c);case 36:return y=e.sent,e.next=39,cT(i.localStore,y);case 39:return l=e.sent,e.next=42,aA(i,KA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),qA.apply(this,arguments)}function KA(e){return zx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function GA(e){var t=Nw(e);return Nw(Nw(t.localStore).persistence).Ri()}function WA(e,t,n,r){return HA.apply(this,arguments)}function HA(){return HA=wu(gu().mark((function e(t,n,r,i){var a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Nw(t)).ac){e.next=3;break}return e.abrupt("return",void Iw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,pT(a.localStore,e_(o[0]));case 10:return u=e.sent,s=eI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,AA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,lT(a.localStore,n,!0);case 17:return IA(a,n,i),e.abrupt("break",20);case 19:Cw();case 20:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function QA(e,t,n){return $A.apply(this,arguments)}function $A(){return $A=wu(gu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=JA(t)).ac){e.next=45;break}a=Bo(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Iw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,dT(i.localStore,u);case 12:return s=e.sent,e.next=15,cT(i.localStore,s);case 15:return c=e.sent,e.next=18,aA(i,KA(s),c.targetId,!1);case 18:$T(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Bo(r),e.prev=30,h=gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,lT(i.localStore,t,!1).then((function(){JT(i.remoteStore,t),IA(i,t)})).catch(fb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$A.apply(this,arguments)}function JA(e){var t=Nw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pA.bind(null,t),t.Zu.Go=qC.bind(null,t.eventManager),t.Zu.lc=KC.bind(null,t.eventManager),t}function YA(e){var t=Nw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gA.bind(null,t),t}function XA(e,t,n){var r=Nw(e);(function(){var e=wu(gu().mark((function e(t,n,r){var i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Nw(e),r=vI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(JC(i)),a=new $C(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,AA(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Nw(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ew("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ZA=function(){function e(){ya(this,e),this.synchronizeTabs=!1}return ka(e,[{key:"initialize",value:function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=FT(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return tT(this.persistence,new ZE,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new zE(KE.Ms,this.wt)}},{key:"dc",value:function(e){return new AT}},{key:"terminate",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eN=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ka(n,[{key:"initialize",value:function(){var e=wu(gu().mark((function e(t){var r=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(ca(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,YA(this.yc.syncEngine);case 6:return e.next=8,hC(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return tT(this.persistence,new ZE,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new kE(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Ib(t,this.persistence);return new _b(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?iE.withCacheSize(this.cacheSizeBytes):iE.DEFAULT;return new QE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,LT(),MT(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new AT}}]),n}(ZA),tN=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ka(n,[{key:"initialize",value:function(){var e=wu(gu().mark((function e(t){var r,i=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(ca(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof CT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:jA.bind(null,r),Or:WA.bind(null,r),Mr:QA.bind(null,r),Ri:GA.bind(null,r),Nr:MA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=LT();if(!CT.V(t))throw new Dw(Pw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new CT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(eN),nN=function(){function e(){ya(this,e)}return ka(e,[{key:"initialize",value:function(){var e=wu(gu().mark((function e(t,n){var r=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=PA.bind(null,this.syncEngine),e.next=12,CC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jC}},{key:"createDatastore",value:function(e){var t,n=FT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new OT(t));return function(e,t,n,r){return new zT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dA(o.syncEngine,e,0)},a=PT.V()?new PT:new NT,new KT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new nA(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nw(t),Iw("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,HT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function rN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return wu(gu().mark((function r(){var i;return gu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var iN=function(){function e(t){ya(this,e),this.observer=t,this.muted=!1}return ka(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),aN=function(){function e(t,n){var r=this;ya(this,e),this.Ec=t,this.wt=n,this.metadata=new Rw,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ka(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=wu(gu().mark((function e(){var t,n,r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new HC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=wu(gu().mark((function e(){var t,n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=wu(gu().mark((function e(){var t,n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oN=function(){function e(t){ya(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ka(e,[{key:"lookup",value:function(){var e=wu(gu().mark((function e(t){var n,r=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Dw(Pw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=wu(gu().mark((function e(t,n){var r,i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),i=xI(r.wt)+"/documents",a={documents:n.map((function(e){return gI(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=EI(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Aw(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new L_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=wu(gu().mark((function e(){var t,n=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Zw.fromPath(t);n.mutations.push(new M_(r,n.precondition(r)))})),e.next=7,function(){var e=wu(gu().mark((function e(t,n){var r,i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),i=xI(r.wt)+"/documents",a={writes:n.map((function(e){return TI(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Cw();t=Qw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Dw(Pw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?w_.updateTime(t):w_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qw.min()))throw new Dw(Pw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return w_.updateTime(t)}return w_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),uN=function(){function e(t,n,r,i,a){ya(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new jT(this.asyncQueue,"transaction_retry")}return ka(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(wu(gu().mark((function t(){var n,r;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new oN(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Wb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!j_(t)}return!1}}]),e}(),sN=function(){function e(t,n,r,i){var a=this;ya(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ww.UNAUTHENTICATED,this.clientId=qw.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Iw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ka(e,[{key:"getConfiguration",value:function(){var e=wu(gu().mark((function e(){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Dw(Pw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(wu(gu().mark((function n(){var r;return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=RC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Iw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,nT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e,t){return hN.apply(this,arguments)}function hN(){return hN=wu(gu().mark((function e(t,n){var r,i;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,dN(t);case 3:return r=e.sent,Iw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return EC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return EC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e){return pN.apply(this,arguments)}function pN(){return pN=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Iw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,cN(t,new ZA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e){return mN.apply(this,arguments)}function mN(){return mN=wu(gu().mark((function e(t){return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Iw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,fN(t,new nN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),mN.apply(this,arguments)}function yN(e){return dN(e).then((function(e){return e.persistence}))}function gN(e){return dN(e).then((function(e){return e.localStore}))}function kN(e){return vN(e).then((function(e){return e.remoteStore}))}function wN(e){return vN(e).then((function(e){return e.syncEngine}))}function bN(e){return xN.apply(this,arguments)}function xN(){return xN=wu(gu().mark((function e(t){var n,r;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=rA.bind(null,n.syncEngine),r.onUnlisten=uA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function _N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function i(){return gu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iN({next:function(a){t.enqueueAndForget((function(){return BC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Dw(Pw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Dw(Pw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new WC(qx(n.path),a,{includeMetadataChanges:!0,Du:!0});return UC(e,o)},i.next=3,bN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function IN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function i(){return gu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iN({next:function(n){t.enqueueAndForget((function(){return BC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Dw(Pw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new WC(n,a,{includeMetadataChanges:!0,Du:!0});return UC(e,o)},i.next=3,bN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var SN=new Map;function EN(e,t,n){if(!n)throw new Dw(Pw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function TN(e,t,n,r){if(!0===t&&!0===r)throw new Dw(Pw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function CN(e){if(!Zw.isDocumentKey(e))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function AN(e){if(Zw.isDocumentKey(e))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function NN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Cw()}function PN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dw(Pw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=NN(e);throw new Dw(Pw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function DN(e,t){if(t<=0)throw new Dw(Pw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var RN=function(){function e(t){var n;if(ya(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Dw(Pw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dw(Pw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ka(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ON=function(){function e(t,n,r){ya(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1,t instanceof Gb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dw(Pw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gb(e.options.projectId)}(t))}return ka(e,[{key:"app",get:function(){if(!this._app)throw new Dw(Pw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Dw(Pw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Lw;switch(e.type){case"gapi":var t=e.client;return Aw(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Uw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Dw(Pw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=SN.get(e);t&&(Iw("ComponentProvider","Removing Datastore"),SN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function LN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=PN(e,ON))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ew("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ww.MOCK_USER;else{o=Jo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Dw(Pw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ww(s)}e._authCredentials=new Mw(new Ow(o,u))}}var MN=function(){function e(t,n,r){ya(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ka(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new jN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),FN=function(){function e(t,n,r){ya(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ka(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),jN=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this,e,r,qx(i)))._path=i,a.type="collection",a}return ka(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new MN(this.firestore,null,new Zw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(FN);function UN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yu(e),EN("collection","path",t),e instanceof ON){var a=Jw.fromString.apply(Jw,[t].concat(r));return AN(a),new jN(e,null,a)}if(!(e instanceof MN||e instanceof jN))throw new Dw(Pw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jw.fromString.apply(Jw,[t].concat(r)));return AN(o),new jN(e.firestore,null,o)}function VN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=yu(e),1===arguments.length&&(t=qw.I()),EN("doc","path",t),e instanceof ON){var a=Jw.fromString.apply(Jw,[t].concat(r));return CN(a),new MN(e,null,new Zw(a))}if(!(e instanceof MN||e instanceof jN))throw new Dw(Pw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jw.fromString.apply(Jw,[t].concat(r)));return CN(o),new MN(e.firestore,e instanceof jN?e.converter:null,new Zw(o))}function BN(e,t){return e=yu(e),t=yu(t),(e instanceof MN||e instanceof jN)&&(t instanceof MN||t instanceof jN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function zN(e,t){return e=yu(e),t=yu(t),e instanceof FN&&t instanceof FN&&e.firestore===t.firestore&&Jx(e._query,t._query)&&e.converter===t.converter}var qN=function(){function e(){var t=this;ya(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new jT(this,"async_queue_retry"),this.Kc=function(){var e=MT();e&&Iw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=MT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ka(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=MT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Rw;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=wu(gu().mark((function e(){var t=this;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gb(e.t0)){e.next=12;break}throw e.t0;case 12:Iw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=DC.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Cw()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=wu(gu().mark((function e(){var t;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Bo(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Bo(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function KN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Bo(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var GN=function(){function e(){ya(this,e),this._progressObserver={},this._taskCompletionResolver=new Rw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ka(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WN=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new qN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ka(n,[{key:"_terminate",value:function(){return this._firestoreClient||QN(this),this._firestoreClient.terminate()}}]),n}(ON);function HN(e){return e._firestoreClient||QN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Kb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sN(e._authCredentials,e._appCheckCredentials,e._queue,r)}function $N(e,t,n){var r=new Rw;return e.asyncQueue.enqueue(wu(gu().mark((function i(){return gu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cN(e,n);case 3:return i.next=5,fN(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Pw.FAILED_PRECONDITION||e.code===Pw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function JN(e){return function(e){return e.asyncQueue.enqueue(wu(gu().mark((function t(){var n,r;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yN(e);case 2:return n=t.sent,t.next=5,kN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Nw(e);return t.lu.delete(0),GT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(HN(e=PN(e,WN)))}function YN(e){return function(e){return e.asyncQueue.enqueue(wu(gu().mark((function t(){var n,r;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yN(e);case 2:return n=t.sent,t.next=5,kN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Nw(t)).lu.add(0),e.next=4,HT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(HN(e=PN(e,WN)))}function XN(e,t){var n=HN(e=PN(e,WN)),r=new GN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new aN(e,t)}(function(e,t){if(e instanceof Uint8Array)return rN(e,t);if(e instanceof ArrayBuffer)return rN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,FT(t));e.asyncQueue.enqueueAndForget(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XA,t.next=3,wN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ZN(e,t){return function(e,t){return e.asyncQueue.enqueue(wu(gu().mark((function n(){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Nw(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,gN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(HN(e=PN(e,WN)),t).then((function(t){return t?new FN(e,null,t.query):null}))}function eP(e){if(e._initialized||e._terminated)throw new Dw(Pw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tP=function(){function e(){ya(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xw(n)}return ka(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nP=function(){function e(t){ya(this,e),this._byteString=t}return ka(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mb.fromBase64String(t))}catch(t){throw new Dw(Pw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mb.fromUint8Array(t))}}]),e}(),rP=ka((function e(t){ya(this,e),this._methodName=t})),iP=function(){function e(t,n){if(ya(this,e),!isFinite(t)||t<-90||t>90)throw new Dw(Pw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Dw(Pw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ka(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kw(this._lat,e._lat)||Kw(this._long,e._long)}}]),e}(),aP=/^__.*__$/,oP=function(){function e(t,n,r){ya(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ka(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new A_(e,this.data,this.fieldMask,t,this.fieldTransforms):new C_(e,this.data,t,this.fieldTransforms)}}]),e}(),uP=function(){function e(t,n,r){ya(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ka(e,[{key:"toMutation",value:function(e,t){return new A_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cw()}}var cP=function(){function e(t,n,r,i,a,o){ya(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ka(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return AP(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(sP(this.Zc)&&aP.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),lP=function(){function e(t,n,r){ya(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||FT(t)}return ka(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cP({Zc:e,methodName:t,ca:n,path:Xw.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function fP(e){var t=e._freezeSettings(),n=FT(e._databaseId);return new lP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);SP("Data must be an object, but it was:",o,r);var u,s,c=_P(r,o);if(a.merge)u=new Lb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Bo(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EP(t,d,n);if(!o.contains(p))throw new Dw(Pw.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));NP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Lb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new oP(new mx(c),u,s)}var dP=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rP);function pP(e,t,n){return new cP({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var vP=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"_toFieldTransform",value:function(e){return new g_(e.path,new l_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rP),mP=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e)).ha=r,i}return ka(n,[{key:"_toFieldTransform",value:function(e){var t=pP(this,e,!0),n=this.ha.map((function(e){return xP(e,t)})),r=new f_(n);return new g_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rP),yP=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e)).ha=r,i}return ka(n,[{key:"_toFieldTransform",value:function(e){var t=pP(this,e,!0),n=this.ha.map((function(e){return xP(e,t)})),r=new d_(n);return new g_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rP),gP=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e)).la=r,i}return ka(n,[{key:"_toFieldTransform",value:function(e){var t=new v_(e.wt,a_(e.wt,this.la));return new g_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rP);function kP(e,t,n,r){var i=e.aa(1,t,n);SP("Data must be an object, but it was:",i,r);var a=[],o=mx.empty();Tb(r,(function(e,r){var u=CP(t,e,n);r=yu(r);var s=i.ia(u);if(r instanceof dP)a.push(u);else{var c=xP(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Lb(a);return new uP(o,u,i.fieldTransforms)}function wP(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[EP(t,r,n)],s=[i];if(a.length%2!=0)throw new Dw(Pw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EP(t,a[c])),s.push(a[c+1]);for(var l=[],f=mx.empty(),h=u.length-1;h>=0;--h)if(!NP(l,u[h])){var d=u[h],p=s[h];p=yu(p);var v=o.ia(d);if(p instanceof dP)l.push(d);else{var m=xP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Lb(l);return new uP(f,y,o.fieldTransforms)}function bP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xP(n,e.aa(r?4:3,t))}function xP(e,t){if(IP(e=yu(e)))return SP("Unsupported field value:",t,e),_P(e,t);if(e instanceof rP)return function(e,t){if(!sP(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Bo(e);try{for(a.s();!(n=a.n()).done;){var o=xP(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=yu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return a_(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hw.fromDate(e);return{timestampValue:hI(t.wt,n)}}if(e instanceof Hw){var r=new Hw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hI(t.wt,r)}}if(e instanceof iP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nP)return{bytesValue:dI(t.wt,e._byteString)};if(e instanceof MN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:mI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(NN(e)))}(e,t)}function _P(e,t){var n={};return Cb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tb(e,(function(e,r){var i=xP(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function IP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hw||e instanceof iP||e instanceof nP||e instanceof MN||e instanceof rP)}function SP(e,t,n){if(!IP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=NN(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function EP(e,t,n){if((t=yu(t))instanceof tP)return t._internalPath;if("string"==typeof t)return CP(e,t);throw AP("Field path arguments must be of type string or ",e,!1,void 0,n)}var TP=new RegExp("[~\\*/\\[\\]]");function CP(e,t,n){if(t.search(TP)>=0)throw AP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return zo(tP,ma(t.split(".")))._internalPath}catch(r){throw AP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Dw(Pw.INVALID_ARGUMENT,u+e+s)}function NP(e,t){return e.some((function(e){return e.isEqual(t)}))}var PP=function(){function e(t,n,r,i,a){ya(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ka(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new MN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new DP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(RP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),DP=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"data",value:function(){return Ws(ca(n.prototype),"data",this).call(this)}}]),n}(PP);function RP(e,t){return"string"==typeof t?CP(e,t):t instanceof tP?t._internalPath:t._delegate._internalPath}var OP=function(){function e(t,n){ya(this,e),this.hasPendingWrites=t,this.fromCache=n}return ka(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),LP=function(e){sa(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return ya(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ka(n,[{key:"exists",value:function(){return Ws(ca(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(RP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(PP),MP=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ws(ca(n.prototype),"data",this).call(this,e)}}]),n}(LP),FP=function(){function e(t,n,r,i){ya(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new OP(i.hasPendingWrites,i.fromCache),this.query=r}return ka(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MP(n._firestore,n._userDataWriter,r.key,r,new OP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dw(Pw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new MP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function jP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cw()}}function UP(e,t){return e instanceof LP&&t instanceof LP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof FP&&t instanceof FP&&e._firestore===t._firestore&&zN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function VP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dw(Pw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var BP=ka((function e(){ya(this,e)}));function zP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var qP=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ka(n,[{key:"_apply",value:function(e){var t=fP(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){eD(o,a);var s,c=[],l=Bo(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ZP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ZP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||eD(o,a),u=bP(n,"where",o,"in"===a||"not-in"===a);var h=Tx.create(i,a,u);return function(e,t){if(t.ht()){var n=Gx(e);if(null!==n&&!n.isEqual(t.field))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Kx(e);null!==r&&tD(e,t.field,r)}var i=function(e,t){var n,r=Bo(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new FN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Bx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(BP);var KP=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ka(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fx(t,n);return function(e,t){if(null===Kx(e)){var n=Gx(e);null!==n&&tD(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new FN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(BP);var GP=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ka(n,[{key:"_apply",value:function(e){return new FN(e.firestore,e.converter,$x(e._query,this.ma,this.ga))}}]),n}(BP);var WP=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ka(n,[{key:"_apply",value:function(e){var t=XP(e,this.type,this.ya,this.pa);return new FN(e.firestore,e.converter,function(e,t){return new Bx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(BP);function HP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WP("startAt",t,!0)}function QP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WP("startAfter",t,!1)}var $P=function(e){sa(n,e);var t=pa(n);function n(e,r,i){var a;return ya(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ka(n,[{key:"_apply",value:function(e){var t=XP(e,this.type,this.ya,this.pa);return new FN(e.firestore,e.converter,function(e,t){return new Bx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(BP);function JP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $P("endBefore",t,!1)}function YP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $P("endAt",t,!0)}function XP(e,t,n,r){if(n[0]=yu(n[0]),n[0]instanceof PP)return function(e,t,n,r,i){if(!r)throw new Dw(Pw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Bo(Hx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ix(t,r.key));else{var c=r.data.field(s.field);if(Bb(c))throw new Dw(Pw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Mx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=fP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Dw(Pw.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Wx(e)&&-1!==c.indexOf("/"))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jw.fromString(c));if(!Zw.isDocumentKey(l))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Zw(l);u.push(ix(t,f))}else{var h=bP(n,r,c);u.push(h)}}return new Mx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ZP(e,t,n){if("string"==typeof(n=yu(n))){if(""===n)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(t)&&-1!==n.indexOf("/"))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jw.fromString(n));if(!Zw.isDocumentKey(r))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ix(e,new Zw(r))}if(n instanceof MN)return ix(e,n._key);throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(NN(n),"."))}function eD(e,t){if(!Array.isArray(e)||0===e.length)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function tD(e,t,n){if(!n.isEqual(t))throw new Dw(Pw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var nD={maxAttempts:5},rD=function(){function e(){ya(this,e)}return ka(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Yb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ub(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cw()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Tb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new iP(Ub(e.latitude),Ub(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jb(e);return new Hw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jw.fromString(e);Aw(VI(n));var r=new Gb(n.get(1),n.get(3)),i=new Zw(n.popFirst(5));return r.isEqual(t)||Sw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function iD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var aD=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).firestore=e,r}return ka(n,[{key:"convertBytes",value:function(e){return new nP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new MN(this.firestore,null,t)}}]),n}(rD),oD=function(){function e(t,n){ya(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fP(t)}return ka(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=uD(e,this._firestore),i=iD(r.converter,t,n),a=hP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,w_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=uD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=yu(t))||t instanceof tP?wP(this._dataReader,"WriteBatch.update",i._key,t,n,o):kP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,w_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=uD(e,this._firestore);return this._mutations=this._mutations.concat(new L_(t._key,w_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Dw(Pw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function uD(e,t){if((e=yu(e)).firestore!==t)throw new Dw(Pw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sD=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).firestore=e,r}return ka(n,[{key:"convertBytes",value:function(e){return new nP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new MN(this.firestore,null,t)}}]),n}(rD);function cD(e){e=PN(e,MN);var t=PN(e.firestore,WN),n=HN(t),r=new sD(t);return function(e,t){var n=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function r(){return gu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wu(gu().mark((function e(t,n,r){var i,a;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Nw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Dw(Pw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=RC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new LP(t,r,e._key,n,new OP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function lD(e){e=PN(e,FN);var t=PN(e.firestore,WN),n=HN(t),r=new sD(t);return function(e,t){var n=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function r(){return gu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wu(gu().mark((function e(t,n,r){var i,a,o,u,s;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hT(t,n,!0);case 3:i=e.sent,a=new ZC(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=RC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new FP(t,r,e,n)}))}function fD(e,t,n){e=PN(e,MN);var r=PN(e.firestore,WN),i=iD(e.converter,t,n);return vD(r,[hP(fP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,w_.none())])}function hD(e,t,n){e=PN(e,MN);for(var r=PN(e.firestore,WN),i=fP(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return vD(r,[("string"==typeof(t=yu(t))||t instanceof tP?wP(i,"updateDoc",e._key,t,n,o):kP(i,"updateDoc",e._key,t)).toMutation(e._key,w_.exists(!0))])}function dD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=yu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||KN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(KN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof MN)l=PN(e.firestore,WN),f=qx(e._key.path),c={next:function(t){n[s]&&n[s](mD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=PN(e,FN);l=PN(p.firestore,WN),f=p._query;var v=new sD(l);c={next:function(e){n[s]&&n[s](new FP(l,v,p,e))},error:n[s+1],complete:n[s+2]},VP(e._query)}return function(e,t,n,r){var i=new iN(r),a=new WC(t,i,n);return e.asyncQueue.enqueueAndForget(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UC,t.next=3,bN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BC,t.next=3,bN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HN(l),f,h,c)}function pD(e,t){return function(e,t){var n=new iN(t);return e.asyncQueue.enqueueAndForget(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nw(e).Tu.add(t),t.next()},t.next=3,bN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(wu(gu().mark((function t(){return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Nw(e).Tu.delete(t)},t.next=3,bN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(HN(e=PN(e,WN)),KN(t)?t:{next:t})}function vD(e,t){return function(e,t){var n=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function r(){return gu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=cA,r.next=3,wN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(HN(e),t)}function mD(e,t,n){var r=n.docs.get(t._key),i=new sD(e);return new LP(e,i,t._key,r,new OP(n.hasPendingWrites,n.fromCache),t.converter)}var yD=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,r))._firestore=e,i}return ka(n,[{key:"get",value:function(e){var t=this,r=uD(e,this._firestore),i=new sD(this._firestore);return Ws(ca(n.prototype),"get",this).call(this,e).then((function(e){return new LP(t._firestore,i,r._key,e._document,new OP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ya(this,e),this._firestore=t,this._transaction=n,this._dataReader=fP(t)}return ka(e,[{key:"get",value:function(e){var t=this,n=uD(e,this._firestore),r=new aD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Cw();var i=e[0];if(i.isFoundDocument())return new PP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new PP(t._firestore,r,n._key,null,n.converter);throw Cw()}))}},{key:"set",value:function(e,t,n){var r=uD(e,this._firestore),i=iD(r.converter,t,n),a=hP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=uD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=yu(t))||t instanceof tP?wP(this._dataReader,"Transaction.update",i._key,t,n,o):kP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=uD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function gD(e,t,n){e=PN(e,WN);var r=Object.assign(Object.assign({},nD),n);return function(e){if(e.maxAttempts<1)throw new Dw(Pw.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function i(){var a;return gu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return vN(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new uN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(HN(e),(function(n){return t(new yD(e,n))}),r)}function kD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mP("arrayUnion",t)}function wD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bw=e}(ps),us(new bu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new WN(i,new Fw(e.getProvider("auth-internal")),new Bw(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ws(kw,"3.4.10",e),ws(kw,"3.4.10","esm2017")}();function bD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Dw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xD(){if("undefined"===typeof Uint8Array)throw new Dw("unimplemented","Uint8Arrays are not available in this environment.")}function _D(){if("undefined"==typeof atob)throw new Dw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ID=function(){function e(t){ya(this,e),this._delegate=t}return ka(e,[{key:"toBase64",value:function(){return _D(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _D(),new e(nP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xD(),new e(nP.fromUint8Array(t))}}]),e}();function SD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Bo(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ED=function(){function e(){ya(this,e)}return ka(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){eP(e=PN(e,WN));var n=HN(e),r=e._freezeSettings(),i=new nN;return $N(n,i,new eN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){eP(e=PN(e,WN));var t=HN(e),n=e._freezeSettings(),r=new nN;return $N(t,r,new tN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Dw(Pw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Rw;return e._queue.enqueueAndForgetEvenWhileRestricted(wu(gu().mark((function n(){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=wu(gu().mark((function e(t){var n;return gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vb.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,vb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(YE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),TD=function(){function e(t,n,r){var i=this;ya(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Gb||(this._appCompat=t)}return ka(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ew("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};LN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return JN(this._delegate)}},{key:"disableNetwork",value:function(){return YN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&TN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Rw;return e.asyncQueue.enqueueAndForget(wu(gu().mark((function n(){return gu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=wA,n.next=3,wN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(HN(e=PN(e,WN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return pD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Dw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BD(this,UN(this._delegate,e))}catch(t){throw RD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new DD(this,VN(this._delegate,e))}catch(t){throw RD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jD(this,function(e,t){if(e=PN(e,ON),EN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dw(Pw.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new FN(e,null,function(e){return new Bx(Jw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return gD(this._delegate,(function(n){return e(new AD(t,n))}))}},{key:"batch",value:function(){var e=this;return HN(this._delegate),new ND(new oD(this._delegate,(function(t){return vD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return XN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ZN(this._delegate,e).then((function(e){return e?new jD(t,e):null}))}}]),e}(),CD=function(e){sa(n,e);var t=pa(n);function n(e){var r;return ya(this,n),(r=t.call(this)).firestore=e,r}return ka(n,[{key:"convertBytes",value:function(e){return new ID(new nP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return DD.forKey(t,this.firestore,null)}}]),n}(rD);var AD=function(){function e(t,n){ya(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new CD(t)}return ka(e,[{key:"get",value:function(e){var t=this,n=zD(e);return this._delegate.get(n).then((function(e){return new MD(t._firestore,new LP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zD(e);return n?(bD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zD(e);return this._delegate.delete(t),this}}]),e}(),ND=function(){function e(t){ya(this,e),this._delegate=t}return ka(e,[{key:"set",value:function(e,t,n){var r=zD(e);return n?(bD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),PD=function(){function e(t,n,r){ya(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ka(e,[{key:"fromFirestore",value:function(e,t){var n=new MP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new CD(t),n),i.set(n,a)),a}}]),e}();PD.INSTANCES=new WeakMap;var DD=function(){function e(t,n){ya(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CD(t)}return ka(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BD(this.firestore,UN(this._delegate,e))}catch(t){throw RD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=yu(e))instanceof MN&&BN(this._delegate,e)}},{key:"set",value:function(e,t){t=bD("DocumentReference.set",t);try{return t?fD(this._delegate,e,t):fD(this._delegate,e)}catch(n){throw RD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?hD(this._delegate,e):hD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return vD(PN(e.firestore,WN),[new L_(e._key,w_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OD(n),a=LD(n,(function(t){return new MD(e.firestore,new LP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return dD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?cD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PN(e,MN);var t=PN(e.firestore,WN);return _N(HN(t),e._key,{source:"server"}).then((function(n){return mD(t,e,n)}))}(this._delegate):function(e){e=PN(e,MN);var t=PN(e.firestore,WN);return _N(HN(t),e._key).then((function(n){return mD(t,e,n)}))}(this._delegate),t.then((function(e){return new MD(n.firestore,new LP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Dw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new MN(n._delegate,r,new Zw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new MN(n._delegate,r,t))}}]),e}();function RD(e,t,n){return e.message=e.message.replace(t,n),e}function OD(e){var t,n=Bo(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!SD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function LD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=SD(e[0])?e[0]:SD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var MD=function(){function e(t,n){ya(this,e),this._firestore=t,this._delegate=n}return ka(e,[{key:"ref",get:function(){return new DD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return UP(this._delegate,e._delegate)}}]),e}(),FD=function(e){sa(n,e);var t=pa(n);function n(){return ya(this,n),t.apply(this,arguments)}return ka(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Cw()}(void 0!==t),t}}]),n}(MD),jD=function(){function e(t,n){ya(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CD(t)}return ka(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,zP(this._delegate,function(e,t,n){var r=t,i=RP("where",e);return new qP(i,r,n)}(t,n,r)))}catch(i){throw RD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,zP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RP("orderBy",e);return new KP(n,t)}(t,n)))}catch(r){throw RD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,zP(this._delegate,function(e){return DN("limit",e),new GP("limit",e,"F")}(t)))}catch(n){throw RD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,zP(this._delegate,function(e){return DN("limitToLast",e),new GP("limitToLast",e,"L")}(t)))}catch(n){throw RD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,zP(this._delegate,HP.apply(void 0,arguments)))}catch(t){throw RD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,zP(this._delegate,QP.apply(void 0,arguments)))}catch(t){throw RD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,zP(this._delegate,JP.apply(void 0,arguments)))}catch(t){throw RD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,zP(this._delegate,YP.apply(void 0,arguments)))}catch(t){throw RD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return zN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?lD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PN(e,FN);var t=PN(e.firestore,WN),n=HN(t),r=new sD(t);return IN(n,e._query,{source:"server"}).then((function(n){return new FP(t,r,e,n)}))}(this._delegate):function(e){e=PN(e,FN);var t=PN(e.firestore,WN),n=HN(t),r=new sD(t);return VP(e._query),IN(n,e._query).then((function(n){return new FP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new VD(n.firestore,new FP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=OD(n),a=LD(n,(function(t){return new VD(e.firestore,new FP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return dD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),UD=function(){function e(t,n){ya(this,e),this._firestore=t,this._delegate=n}return ka(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VD=function(){function e(t,n){ya(this,e),this._firestore=t,this._delegate=n}return ka(e,[{key:"query",get:function(){return new jD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new UD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return UP(this._delegate,e._delegate)}}]),e}(),BD=function(e){sa(n,e);var t=pa(n);function n(e,r){var i;return ya(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ka(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new DD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new DD(this.firestore,void 0===e?VN(this._delegate):VN(this._delegate,e))}catch(t){throw RD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=PN(e.firestore,WN),r=VN(e),i=iD(e.converter,t);return vD(n,[hP(fP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,w_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new DD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return BN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(PD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jD);function zD(e){return PN(e,MN)}var qD=function(){function e(){ya(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=zo(tP,n)}return ka(e,[{key:"isEqual",value:function(e){return(e=yu(e))instanceof tP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Xw.keyField().canonicalString())}}]),e}(),KD=function(){function e(t){ya(this,e),this._delegate=t}return ka(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new vP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new dP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=kD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=wD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new gP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),GD={Firestore:TD,GeoPoint:iP,Timestamp:Hw,Blob:ID,Transaction:AD,WriteBatch:ND,DocumentReference:DD,DocumentSnapshot:MD,Query:jD,QueryDocumentSnapshot:FD,QuerySnapshot:VD,CollectionReference:BD,FieldPath:qD,FieldValue:KD,setLogLevel:function(e){!function(e){xw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new bu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},GD)))}(e,(function(e,t){return new TD(e,t,new ED)})),e.registerVersion("@firebase/firestore-compat","0.1.19")}(Ks);var WD={apiKey:"".concat("AIzaSyBjJNDBYJ-ABm1BXbjmuJFtMkTohQoOwFQ"),authDomain:"".concat("netflix-clone-98891.firebaseapp.com"),projectId:"".concat("netflix-clone-98891"),storageBucket:"".concat("netflix-clone-98891.appspot.com"),messagingSenderId:"".concat("1022646862483"),appId:"".concat("1:1022646862483:web:3ba0e70726dd385579c366")},HD=Ks.initializeApp(WD);i.createRoot(document.getElementById("root")).render((0,Qt.jsx)(Qt.Fragment,{children:(0,Qt.jsxs)(So.Provider,{value:{Firebase:HD},children:[(0,Qt.jsx)(Vo,{}),(0,Qt.jsx)(Uo,{})]})}))}()}();
//# sourceMappingURL=main.73783122.js.map